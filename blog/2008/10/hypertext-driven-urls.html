<!DOCTYPE html>
<html lang="en">
<head>
        <title>Hypertext-driven URLs</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
          <link rel="stylesheet" href="https://ianbicking.org/theme/css/style.min.css">
        <!--<link rel="stylesheet" href="https://ianbicking.org/theme/css/main.css" type="text/css" />-->
        <link href="https://ianbicking.org/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Ian Bicking: a blog Atom Feed" />
        <link rel="icon" href="https://ianbicking.org/favicon.ico">

</head>

<body id="index" class="home">
  <div id="main-wrapper1">
  <div id="main-wrapper2">
  <div id="main-container">
        <header id="banner" class="body">
                <h1><a href="https://ianbicking.org">Ian Bicking: a blog </a></h1>
        </header><!-- /#banner -->
<section id="content" class="body">
    <article>
        <header>
        <div>
            <div class="published" title="2008-10-24T12:03:00-05:00">
                Friday, October 24th, 2008
            </div>
            <h1 class="entry-title">
                <a
                    href="https://ianbicking.org/blog/2008/10/hypertext-driven-urls.html"
                    rel="bookmark"
                    title="Permalink to Hypertext-driven URLs"
                    >Hypertext-driven&nbsp;URLs</a
                >
            </h1>
        </div>
        </header>

        <div class="entry-content"><p>Roy T. Fielding, author of the <a class="reference external" href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm"><span class="caps">REST</span> thesis</a> wrote an article recently: <a class="reference external" href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven"><span class="caps">REST</span> APIs must be hypertext-driven</a>.  I liked this article, it fit with an intuition I&#8217;ve had.  Then he wrote an article <a class="reference external" href="http://roy.gbiv.com/untangled/2008/specialization">explaining that he wouldn&#8217;t really explain the other articles</a> because, I guess, he wanted a conversation with the specialists, and it seems like a kind of invitation to reinterpret his writing.  So <a class="reference external" href="http://www.25hoursaday.com/weblog/2008/10/24/RESTAPIDesignInventMediaTypesNotProtocolsAndUnderstandTheImportanceOfHyperlinks.aspx">since others</a> <a class="reference external" href="http://blog.whatfettle.com/2008/10/21/what-i-believe-roy-said/">are doing it</a> I figured I&#8217;d do it&nbsp;too.</p>
<p>I&#8217;d summarize his argument&nbsp;thus:</p>
<ul class="simple">
<li>Focus on media types, i.e., resource formats, i.e., document formats.  The protocol will flow from these if they are well&nbsp;specified.</li>
<li><span class="caps">URL</span> structures are not a media type.  They are some kind of server layout.  You can&#8217;t hold them, you can&#8217;t pass them around, there is no notion of <span class="caps">CRUD</span>.  Media types have all sorts of advantages that <span class="caps">URL</span> structures do&nbsp;not.</li>
</ul>
<p>An example of a protocol based on a <span class="caps">URL</span> structure would be something&nbsp;like:</p>
<ul class="simple">
<li>Do <tt class="docutils literal"><span class="caps">GET</span> /articles/</tt> to get a <span class="caps">JSON</span> list of all the article ids, with a response like <tt class="docutils literal">[1, 2, 3]</tt></li>
<li>Do a <tt class="docutils literal"><span class="caps">GET</span> <span class="pre">/articles/{id}</span></tt> to get the representation of a specific&nbsp;article.</li>
</ul>
<p><span class="caps">JSON</span> is a reasonable structure for a media type.  It is not <em>itself</em> a fully explained type, because it&#8217;s just a container for data, just like <span class="caps">XML</span>.  In this example you have a document, <tt class="docutils literal">[1, 2, 3]</tt> which isn&#8217;t self-describing and just isn&#8217;t very useful.  A more appropriate protocol would&nbsp;be:</p>
<ul class="simple">
<li>You start with a container, in our example <tt class="docutils literal">/articles/</tt>.  Do <tt class="docutils literal"><span class="caps">GET</span> /articles/</tt> to get a <span class="caps">JSON</span> document listing the URLs of all the articles.  These URLs are relative to the container <span class="caps">URL</span>.  You&#8217;ll get a response like <tt class="docutils literal"><span class="pre">['./1',</span> <span class="pre">'./2',</span> <span class="pre">'./3']</span></tt> (actually <tt class="docutils literal">['1', '2', '3']</tt> would be fine&nbsp;too).</li>
<li>Do <tt class="docutils literal"><span class="caps">GET</span> <span class="pre">{article-url}</span></tt> to get the article&nbsp;representation.</li>
</ul>
<p>It&#8217;s a small difference.  Heck, the communication could look identical in practice, but by putting <strong>URLs</strong> in the <span class="caps">JSON</span> document instead of this abstract &#8220;id&#8221; notion you&#8217;ve created a more flexible and self-describing system.  You could probably give a name to that list of URLs, and then just talk about that&nbsp;name.</p>
<p>An example in <a class="reference external" href="http://www.atompub.org/">Atompub</a> is <a class="reference external" href="http://bitworking.org/projects/atom/rfc5023.html#memuri">rel=&#8221;edit&#8221;</a>.  An Atom entry can look&nbsp;like:</p>
<pre class="literal-block">
&lt;entry&gt;...
  &lt;link rel=&quot;edit&quot; href=&quot;/post/15&quot;  /&gt;
&lt;/entry&gt;
</pre>
<p>Instead of the client just somehow <em>knowing</em> where to go to edit an entry, it&#8217;s made explicit.  Thus you can move the entry around, while still pointing back to the canonical location to edit that&nbsp;entry.</p>
<p>There&#8217;s nothing really that complicated about this, the rule is really quite simple: link to other things, don&#8217;t just expect the client to know or guess where those other things&nbsp;are.</p>
<p>For a more concrete example of where this linking works well, OpenID uses <tt class="docutils literal">&lt;link <span class="pre">rel=&quot;openid.server&quot;</span> <span class="pre">href=&quot;...&quot;&gt;</span></tt> and <tt class="docutils literal">&lt;link <span class="pre">rel=&quot;openid.delegate&quot;</span> <span class="pre">href=&quot;...&quot;&gt;</span></tt>, which allows you to add a little information to any <span class="caps">HTML</span> homepage so that the login can happen at a third location.  If OpenID used something like looking at <tt class="docutils literal"><span class="pre">{homepage}/openid</span></tt> for a OpenID server then you couldn&#8217;t select whatever OpenID service you liked, or change services, or apply OpenID to hosted locations where you couldn&#8217;t install an OpenID&nbsp;server.</p>
<p>I&#8217;ll add my own little opinion in here: this is why the <span class="caps">URL</span> structure of applications doesn&#8217;t affect their RESTfulness, nor is <span class="caps">URL</span> structure all that important of a concern generally.  Pretty <span class="caps">URL</span> structures are a nice thing to do, like indenting your code in a pleasant way, but it has nothing to do with your <span class="caps">API</span>, and if you can&#8217;t use a crappy <span class="caps">URL</span> structure with that same <span class="caps">API</span> then probably something is wrong with that <span class="caps">API</span>.</p>
</div>
        <!-- /.entry-content -->
      </article>
</section>
        <section id="extras" class="body">
                <div class="links">
                  <h2><a href="https://ianbicking.org">here</a></h2>
                  <ul>
                    <li><a href="/blog/">blog</a></li>
                    <li><a href="/projects.html">projects</a></li>
                    <li><a href="https://ianbicking.org/archives.html">archives</a> &amp; <a href="https://ianbicking.org/categories.html">categories</a></li>
                    <li><a href="https://ianbicking.org/category/ai.html">category: ai</a></li>
                    <li><a href="https://ianbicking.org/category/javascript.html">category: javascript</a></li>
                    <li><a href="https://ianbicking.org/category/misc.html">category: misc</a></li>
                    <li><a href="https://ianbicking.org/category/mozilla.html">category: mozilla</a></li>
                    </ul>
                </div>
                <div class="social">
                        <h2>elsewhere</h2>
                        <ul>
                            <li><a href="https://ianbicking.org/feeds/atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://hachyderm.io/@ianbicking">@ianbicking@hachyderm.io</a></li>
                            <li><a href="https://github.com/ianb">Github</a></li>
                            <li><a href="https://www.linkedin.com/in/ianbicking/">LinkedIn</a></li>
                            <li><a href="https://twitter.com/ianbicking">@ianbicking</a></li>
                        </ul>
                </div><!-- /.social -->
                <div class="archives">
                  <h2><a href="https://ianbicking.org/blog/">recent posts</a></h2>
                  <ul>
                    <li><a href="https://ianbicking.org/blog/2024/05/ai-aita.html"><span class="caps">AI</span> <span class="caps">AITA</span></a></li>
                    <li><a href="https://ianbicking.org/blog/2024/04/roleplaying-by-llm.html">Roleplaying driven by an <span class="caps">LLM</span>: observations <span class="amp">&amp;</span> open&nbsp;questions</a></li>
                    <li><a href="https://ianbicking.org/blog/2023/04/world-building-gpt-2-declarative.html">World Building with <span class="caps">GPT</span> part 2: bigger, better, more&nbsp;declarative</a></li>
                    <li><a href="https://ianbicking.org/blog/2023/02/world-building-with-gpt.html">World Building With <span class="caps">GPT</span></a></li>
                    <li><a href="https://ianbicking.org/blog/2023/01/thoughts-on-voice-interfaces-2-llms.html">Thoughts On Voice Interfaces 2 years later:&nbsp;LLMs</a></li>
                    <li><a href="https://ianbicking.org/blog/2023/01/infinite-ai-array.html">Infinite <span class="caps">AI</span>&nbsp;Array</a></li>
                    <li><a href="https://ianbicking.org/blog/2020/11/firefox-was-always-enough.html">Firefox Was Always&nbsp;Enough</a></li>
                    <li><a href="https://ianbicking.org/blog/2020/09/project-ideas-2020.html">Project ideas for (what&#8217;s left of)&nbsp;2020</a></li>
                    <li><a href="https://ianbicking.org/blog/2020/09/a-history-of-projects.html">A History Of&nbsp;Projects</a></li>
                    <li><a href="https://ianbicking.org/blog/2020/08/thoughts-on-voice-interfaces.html">Thoughts on Voice&nbsp;Interfaces</a></li>
                  </ul>
                </div><!-- /.archives -->

        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
          This is the personal site of <a href="/">Ian Bicking</a>.  The opinions expressed here are my own.
        </footer><!-- /#contentinfo -->

<script src="/theme/instantclick.min.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FKT4HDGBE4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FKT4HDGBE4');
</script>
        </div><!-- /#main-container -->
        </div><!-- /#main-wrapper2 -->
        </div><!-- /#main-wrapper1 -->
</body>
</html>