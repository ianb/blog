<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>New Wiki</title>
        <link rel="stylesheet" href="WK/default.css" type="text/css" />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="New Posts"
            href="https://ianbicking.org/feeds/new_pages.xml"
        />
    </head>
    <body color="black" bgcolor="white">
        <h1 id="header">
            <a href="index.html">Ian Bicking: the old part of his blog</a>
        </h1>

        <div style="float: right">
            <script type="text/javascript">
                google_ad_client = "pub-2913402032659646";
                google_ad_width = 120;
                google_ad_height = 600;
                google_ad_format = "120x600_as";
                google_ad_type = "text";
                google_ad_channel = "";
                google_color_border = "336699";
                google_color_bg = "FFFFFF";
                google_color_link = "0000FF";
                google_color_text = "000000";
                google_color_url = "008000";
                //-->
            </script>
        </div>
        <h1>New Wiki</h1>

        <div class="document">
            <p>
                I spent most of the weekend working on the new wiki for Webware
                (<a class="reference" href="http://wiki.w4py.org"
                    >http://wiki.w4py.org</a
                >), which is going along with the new website (<a
                    class="reference"
                    href="http://webwareforpython.org"
                    >http://webwareforpython.org</a
                >
                , or w4py.org for short). The front page design itself is still
                in the works, and the wiki content is still a rough translation
                from its
                <a class="reference" href="http://webware.colorstudy.com"
                    >former home</a
                >.
            </p>
            <p>
                You can read about the wiki itself on the
                <a class="reference" href="http://wiki.w4py.org/thiswiki"
                    >This Wiki</a
                >
                page. Key features:
            </p>
            <ul class="simple">
                <li>
                    Uses
                    <a
                        class="reference"
                        href="http://docutils.sourceforge.net/rst.html"
                        >Restructured Text</a
                    >
                    for its markup. I especially like this, because it's the
                    most complete markup of its kind I've seen yet (of the
                    human-editable ASCII markups). And because WikiNames kind of
                    annoy me -- that and some other markup issues keep wikis'
                    content from being generic content. ReST is also good for
                    writing about programming, which is a central feature of the
                    site. ReST also means it's not Yet Another Wiki Markup
                    Language.
                </li>
                <li>
                    <tt class="docutils literal"
                        ><span class="pre">WikiPage</span></tt
                    >
                    objects are interface- and framework-independent. The result
                    is a much more object-oriented design, where the page
                    objects are intelligent, but we don't confuse those
                    documents with the interface that manipulates them. It
                    should be fairly easy to port much of this to another
                    framework (it uses Webware, as is appropriate).
                </li>
                <li>
                    Uses
                    <a
                        class="reference"
                        href="http://www.zope.org/Members/Caseman/ExternalEditor"
                        >External Editor</a
                    >
                    (a tool from the Zope world) for editing content in a
                    regular editor (if you want to avoid a textarea). This was
                    both easy to add and very effective (at least for my editing
                    tastes). I'll probably write later about how to use the
                    External Editor client for applications.
                </li>
                <li>
                    Simple persistence, all just text files, no pickles. At some
                    point I'll have to add something faster for the indexing,
                    but I like the canonical content being in plain text.
                </li>
            </ul>
            <p>
                I'm excited about the possibility of making the wiki the
                canonical location for all the Webware documentation. Much of
                the stuff that's already in reST form can be easily imported,
                and we can export the content easily as well.
            </p>
        </div>
        <div class="dates" align="right">
            Created 11 Apr '04<br />
            Modified 14 Dec '04
        </div>
        <hr noshade />
        <h3 id="comments">Comments:</h3>
        <blockquote>
            Ian, I like this a *lot*. However ReST on its own <i>is</i> YAWML,
            so you might want to make a couple of modifications to it. Certainly
            more casual visitors to the wiki will probably appreciate being able
            to input both WikiNames and [[Bracketed Wiki Names]]. You could
            alwyas pre-process them into ReST before passing it on to the
            parser, and store the ReST form.
            <br />

            <br />
            I've added a sandbox, linked to from the "This Wiki" page.
            <br />

            <br />
            One thing I've found quite useful on some of the newer wikis that
            I've come across is a checkbox that allows the authors to state
            "this is a minor change". This allows people to come in and correct
            typos and whatnot without it triggering a new entry on RecentChanges
            which will be undetectable to the naked eye, and rather a downer
            when viewing the subsequent diff. It would still appear on the page
            history.
            <br />

            <br />
            Other possible changes:
            <br />

            <br />
            Viewing a diff might be nice.
            <br />

            <br />
            Having a link to "view current version" on the bottom when viewing a
            history entry
            <br />

            <br />
            Writing some docs on how to include an image would be nice.
            <br />

            <br />
            I'll see if I can have a look at doing these in my Copious Free Time
            this evening...
            <div align="right">
                <a href="https://ianbicking.org/comment801.html" rel="nofollow"
                    >#</a
                >
                <a href="http://wompom.com/">Moof</a>
            </div>
            <hr noshade />
            Cool stuff. Could you provide a hourly checkout or something like
            this? Not everybody is already using Subversion (and Subversion
            under Jaguar is no fun), so it would be nice to just pull down some
            .tar.gz ...
            <div align="right">
                <a href="https://ianbicking.org/comment802.html" rel="nofollow"
                    >#</a
                >
                <a href="http://pyds.muensterland.org/">Georg Bauer</a>
            </div>
            <hr noshade />
            Moof: I'm not a huge fan of the reST linking (i.e., `words here`_),
            but I'd rather keep it consistent. And I dislike implicit links like
            WikiName, especially since the code refers to a lot of class names,
            all of which look like wiki names, and it gets distracting.
            <br />

            <br />
            For minor changes, I'm not sure -- MoinMoin has this, but all
            changes show up in the RSS regardless. Part of this is to allow
            monitoring for abuse. It would be possible to have two RSS feeds,
            perhaps, one that was thorough and another that wasn't.
            <br />

            <br />
            A diff is planned. Maybe when a log message is missing it could even
            go in the RSS (or at least some abbreviated form).
            <br />

            <br />
            There is a link to current version implicit, in that "View" always
            shows the current version. Maybe it should be named differently when
            you're on a historical page, though.
            <br />

            <br />
            I'm not sure how to document reST -- repeating the reST
            documentation seems like a bad idea, but a really-quick introduction
            might be good. But maybe that should be part of reST too.
            <br />

            <br />
            Georg: while it's not hourly, I made a checkout to my home
            directory:
            <a
                href="http://www.webwareforpython.org/~ianb/w4py.org/Wiki/"
                target="_blank"
                >http://www.webwareforpython.org/~ianb/w4py.org/Wiki/</a
            >
            <br />

            <br />
            At some point we should put up a better code browser on the site,
            since the code is the whole point of the site. But that should give
            you something to look at for now.
            <div align="right">
                <a href="https://ianbicking.org/comment803.html" rel="nofollow"
                    >#</a
                >
                Ian Bicking
            </div>
            <hr noshade />
            Very cool. A couple of suggestions, though...
            <br />

            <br />
            If you save the <i>unconverted</i> HTML in the .html files, (but
            with relative links to other Wiki pages as e.g. "./SomePage.html")
            they could actually be served <b>statically</b> as pure
            documentation. So, if the "cache" were visible directly via a
            webserver, you'd actually see static doc pages. But, when displayed
            in the Wiki, you'd have the Wiki wrapper content around the page,
            including edit links, etc., as long as you stripped off the '.html'
            in the URLs.
            <br />

            <br />
            In other words, if you move the '_cleanHTML()' call so it occurs on
            data retrieved from the cache, rather than on data being put in the
            cache, this should work. (If you want it to go faster, you might
            also try using <tt>html.rfind("</tt>.)
            <br />
            <div align="right">
                <a href="https://ianbicking.org/comment804.html" rel="nofollow"
                    >#</a
                >
                Phillip J. Eby
            </div>
            <hr noshade />
            Phillip: that would still leave dangling links, which are good form
            for a wiki, but obviously very bad form for a static site. Plus the
            .html files aren't fully formed -- we strip them down to a fragment,
            and some information (at this point just the title) is kept
            separately. (Though it could conceivably be merged back in)
            <br />

            <br />
            What's required is really an alternate template-driven publishing
            system that is triggered whenever a page is changed *or* when a page
            it links to is created or deleted. Which actually wouldn't be that
            much harder to do, and the result would be much more useful.
            <br />

            <br />
            (I noticed that Zope 3 is putting .html extensions back on URLs,
            which I actually kind of like even if it's "bad" in theory -- it
            might also be nice if the wiki did the same thing, thus making the
            static and Webware URLs equivalent)
            <div align="right">
                <a href="https://ianbicking.org/comment805.html" rel="nofollow"
                    >#</a
                >
                Ian Bicking
            </div>
            <hr noshade />
        </blockquote>
    </body>
</html>
