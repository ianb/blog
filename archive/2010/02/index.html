<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!-- MOBIFY - DO NOT ALTER - PASTE IMMEDIATELY AFTER OPENING HEAD TAG -->
        <script type="text/javascript">
            /*<![CDATA[*/ (function (a) {
                function b(a, b) {
                    if (+a) return ~a || (d.cookie = h + "=; path=/");
                    (j = d.createElement(e)),
                        (k = d.getElementsByTagName(e)[0]),
                        (j.src = a),
                        b && (j.onload = j.onerror = b),
                        k.parentNode.insertBefore(j, k);
                }
                function c() {
                    n.api || b(l.shift() || -1, c);
                }
                if (this.Mobify) return;
                var d = document,
                    e = "script",
                    f = "mobify",
                    g = "." + f + ".com/",
                    h = f + "-path",
                    i = g + "un" + f + ".js",
                    j,
                    k,
                    l = [!1, 1],
                    m,
                    n = (this.Mobify = {
                        points: [+new Date()],
                        tagVersion: [6, 0],
                    }),
                    o = /(; |#|&|^)mobify-path=([^&;]*)/g.exec(
                        location.hash + "; " + d.cookie
                    );
                o
                    ? (m = o[2]) &&
                      !+(m = sessionStorage[h] || m) &&
                      (l = [!0, "//preview" + g + escape(m)])
                    : ((l = a() || l),
                      l[0] && l.push("//cdn" + i, "//files01" + i)),
                    l.shift()
                        ? (d.write('<plaintext style="display:none;">'),
                          setTimeout(c))
                        : b(l[0]);
            })(function () {
                if (
                    /ip(hone|od)|android.*(mobile)|blackberry.*applewebkit/i.test(
                        navigator.userAgent
                    )
                ) {
                    return [
                        1,
                        "//cdn.mobify.com/sites/ians-blog/production/mobify.js",
                    ];
                }
            }); /*]]>*/
        </script>
        <!-- END MOBIFY -->
        <title>Ian Bicking: a blog :: 2010 :: February</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="generator" content="WordPress 3.4.2" />
        <!-- LEAVE FOR STATS -->
        <meta name="description" content="" />
        <link
            rel="stylesheet"
            title="plaintxtSimpler"
            href="../../wp-content/themes/Barthelme-ianb/style.css"
            type="text/css"
            media="all"
        />
        <link rel="start" href="../../index.html" title="Ian Bicking: a blog" />
        <link
            rel="alternate"
            type="application/atom+xml"
            title="Ian Bicking: a blog Atom Feed"
            href="../../feed/atom/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog RSS 2.0 Feed"
            href="../../feed/rss/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog Comments RSS 2.0 Feed"
            href="../../comments/feed/index.html"
        />
        <link
            rel="alternate"
            type="application/rdf+xml"
            title="Ian Bicking: a blog RSS 1.0"
            href="../../feed/rdf/index.html"
        />
        <link
            rel="alternate"
            type="text/xml"
            title="Ian Bicking: a blog RSS 0.92 Feed"
            href="../../feed/rss/index.html"
        />

        <link
            rel="archives"
            title="October 2012"
            href="../../2012/10/index.html"
        />
        <link
            rel="archives"
            title="February 2012"
            href="../../2012/02/index.html"
        />
        <link
            rel="archives"
            title="April 2011"
            href="../../2011/04/index.html"
        />
        <link
            rel="archives"
            title="March 2011"
            href="../../2011/03/index.html"
        />
        <link rel="archives" title="September 2010" href="../09/index.html" />
        <link rel="archives" title="August 2010" href="../08/index.html" />
        <link rel="archives" title="May 2010" href="../05/index.html" />
        <link rel="archives" title="April 2010" href="../04/index.html" />
        <link rel="archives" title="March 2010" href="../03/index.html" />
        <link rel="archives" title="February 2010" href="index.html" />
        <link rel="archives" title="January 2010" href="../01/index.html" />
        <link
            rel="archives"
            title="September 2009"
            href="../../2009/09/index.html"
        />
        <link rel="archives" title="May 2009" href="../../2009/05/index.html" />
        <link
            rel="archives"
            title="April 2009"
            href="../../2009/04/index.html"
        />
        <link
            rel="archives"
            title="January 2009"
            href="../../2009/01/index.html"
        />
        <link
            rel="archives"
            title="December 2008"
            href="../../2008/12/index.html"
        />
        <link
            rel="archives"
            title="November 2008"
            href="../../2008/11/index.html"
        />
        <link
            rel="archives"
            title="October 2008"
            href="../../2008/10/index.html"
        />
        <link
            rel="archives"
            title="September 2008"
            href="../../2008/09/index.html"
        />
        <link
            rel="archives"
            title="August 2008"
            href="../../2008/08/index.html"
        />
        <link
            rel="archives"
            title="July 2008"
            href="../../2008/07/index.html"
        />
        <link
            rel="archives"
            title="June 2008"
            href="../../2008/06/index.html"
        />
        <link rel="archives" title="May 2008" href="../../2008/05/index.html" />
        <link
            rel="archives"
            title="April 2008"
            href="../../2008/04/index.html"
        />
        <link
            rel="archives"
            title="March 2008"
            href="../../2008/03/index.html"
        />
        <link
            rel="archives"
            title="February 2008"
            href="../../2008/02/index.html"
        />
        <link
            rel="archives"
            title="January 2008"
            href="../../2008/01/index.html"
        />
        <link
            rel="archives"
            title="November 2007"
            href="../../2007/11/index.html"
        />
        <link
            rel="archives"
            title="October 2007"
            href="../../2007/10/index.html"
        />
        <link
            rel="archives"
            title="September 2007"
            href="../../2007/09/index.html"
        />
        <link
            rel="archives"
            title="August 2007"
            href="../../2007/08/index.html"
        />
        <link
            rel="archives"
            title="July 2007"
            href="../../2007/07/index.html"
        />
        <link
            rel="EditURI"
            type="application/rsd+xml"
            title="RSD"
            href="../../xmlrpc.php?rsd"
        />
        <link
            rel="wlwmanifest"
            type="application/wlwmanifest+xml"
            href="../../wp-includes/wlwmanifest.xml"
        />
        <meta name="generator" content="WordPress 3.4.2" />
        <link
            rel="stylesheet"
            href="../../wp-content/plugins/source-code-syntax-highlighting-plugin-for-wordpress/geshi.css"
            type="text/css"
        />
        <style type="text/css">
            .recentcomments a {
                display: inline !important;
                padding: 0 !important;
                margin: 0 !important;
            }
        </style>
        <style type="text/css" media="all">
            /*<![CDATA[*/
            body {
                font-size: 100%;
            }
            body {
                font-family: tahoma, geneva, sans-serif;
            }
            div.post-header,
            h2.post-title,
            p.post-date-single,
            h2.post-title-single,
            div.post-entry h1,
            div.post-entry h2,
            div.post-entry h3,
            div.post-entry h4,
            div.post-entry h5,
            div.post-entry h6,
            div.post-entry blockquote,
            div.post-footer,
            h3#comment-count,
            h4#comment-header,
            div#comments ol li p.comment-metadata,
            h4#respond {
                font-family: verdana, geneva, sans-serif;
            }
            div.post-entry p {
                text-align: left;
            }
            div#wrapper {
                width: 100%;
            }

            /*]]>*/
        </style>
    </head>
    <body>
        <div id="wrapper">
            <div
                id="header"
                onclick="location.href='https://ianbicking.org/';"
                style="cursor: pointer"
            >
                <h1 id="title">
                    <a href="../../index.html" title="Ian Bicking: a blog"
                        >Ian Bicking: a blog</a
                    >
                </h1>
                <p id="description"></p>
            </div>
            <!-- WP Theme Credits -->
            <div style="display: none">
                We can answer on question
                <a href="http://www.olnevhost.net/vps-hosting.html"
                    >what is VPS</a
                >? and what is
                <a href="http://www.olnevhost.net/dedicated-servers.html"
                    ><strong>cheap dedicated servers</strong></a
                >?
            </div>
            <!-- END HEADER -->
            <div id="container">
                <div id="content" class="narrowcolumn">
                    <p class="post-date-single">{ Monthly Archives }</p>
                    <h2 class="post-title-single">February 2010</h2>

                    <div id="post-158" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="10/why-toppcloud-not-agnostic/index.html"
                                        title="Permalink to Why toppcloud (Silver Lining) will not be agnostic"
                                        rel="bookmark"
                                        >Why toppcloud (Silver Lining) will not
                                        be agnostic</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            I haven&#8217;t received a great
                                            deal of <em>specific</em> feedback
                                            on toppcloud
                                            (<strong>update</strong>: renamed
                                            Silver Lining), only a few people
                                            (Ben Bangert, Jorge Vargas) seem to
                                            have really dived deeply into it.
                                            But &#8212; and this is not
                                            unexpected &#8212; I have already
                                            gotten several requests about making
                                            it more agnostic with respect
                                            to&#8230; stuff. Maybe that it not
                                            (at least forever) require Ubuntu.
                                            Or maybe that it should support
                                            different process models (e.g.,
                                            threaded and multiple processes). Or
                                            other versions of Python.
                                        </p>
                                        <p>
                                            The more I think about it, and the
                                            more I work with the tool, the more
                                            confident I am that toppcloud should
                                            not be agnostic on these issues.
                                            This is not so much about an
                                            &quot;opinionated&quot; tool;
                                            toppcloud is not actually very
                                            opinionated. It&#8217;s about a
                                            well-understood system.
                                        </p>
                                        <p>
                                            For instance, Ben noticed a problem
                                            recently with
                                            <a
                                                class="reference external"
                                                href="http://code.google.com/p/modwsgi/issues/detail?id=177"
                                                >weird import errors</a
                                            >. I don&#8217;t know
                                            <em>quite</em> why mod_wsgi has this
                                            particular problem (when other WSGI
                                            servers that I&#8217;ve used
                                            haven&#8217;t), but the fix
                                            isn&#8217;t that hard. So Ben
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/toppcloud/changeset/27a470352a5e/"
                                                >committed a fix</a
                                            >
                                            and the problem went away.
                                        </p>
                                        <p>
                                            Personally I think this is a bug
                                            with mod_wsgi. Maybe it&#8217;s also
                                            a Python bug. But it doesn&#8217;t
                                            really matter. When a bug exists it
                                            &quot;belongs&quot; to everyone who
                                            encounters it.
                                        </p>
                                        <p>
                                            toppcloud is not intended to be a
                                            transparent system. When it&#8217;s
                                            working correctly, you should be
                                            able to ignore most of the system
                                            and concentrate on the relatively
                                            simple abstractions given to your
                                            application. So if the configuration
                                            reveals this particular bug in
                                            Python/mod_wsgi, then the bug is
                                            essentially a toppcloud bug, and
                                            toppcloud should (and <em>can</em>)
                                            fix it.
                                        </p>
                                        <p>
                                            A more flexible system can ignore
                                            such problems as being
                                            &quot;somewhere else&quot; in the
                                            system. Or, if you don&#8217;t
                                            define these problems as someone
                                            else&#8217;s problem, then a more
                                            flexible system is essentially
                                            always broken somewhere; there is
                                            always some untested combination,
                                            some new component, or some old
                                            component that might get pushed into
                                            the mix. Fixes for one
                                            person&#8217;s problem may introduce
                                            a new problem in someone
                                            else&#8217;s stack. Some fixes
                                            aren&#8217;t even clear. toppcloud
                                            has Varnish in place, so it&#8217;s
                                            quite clear where a
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/toppcloud/changeset/614d5366be67/"
                                                >fix related to Django and
                                                Varnish configuration goes</a
                                            >. If these were each components
                                            developed by different people at
                                            different times (like with buildout
                                            recipes) then fixing something like
                                            this could get complicated.
                                        </p>
                                        <p>
                                            So I feel very resolved: toppcloud
                                            will hardcode everything it possibly
                                            can. Python 2.6 and only 2.6! (Until
                                            2.7, but then
                                            <strong>only 2.7</strong>!). Only
                                            Varnish/Apache/mod_wsgi. I
                                            haven&#8217;t figured out
                                            threads/processes exactly, but once
                                            I do, there will be only one way!
                                            And if I get it wrong, then everyone
                                            (<strong>everyone</strong>) will
                                            have to switch when it is corrected!
                                            Because I&#8217;d much rather have a
                                            system that is inflexible than one
                                            that doesn&#8217;t work. With a
                                            clear and solid design I think it is
                                            feasible to get this to work, and
                                            that is no small feat.
                                        </p>
                                        <p>
                                            Relatedly,
                                            <a
                                                class="reference external"
                                                href="09/leaving-topp/comment-page-1/index.html#comment-151194"
                                                >I think I&#8217;m going to
                                                change the name of toppcloud</a
                                            >, so ideas are welcome!
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/02/10/why-toppcloud-not-agnostic/"
    dc:identifier="https://ianbicking.org/2010/02/10/why-toppcloud-not-agnostic/"
    dc:title="Why toppcloud (Silver Lining) will not be agnostic"
    trackback:ping="https://ianbicking.org/2010/02/10/why-toppcloud-not-agnostic/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 02 10</h3>
                            <p class="post-categories">
                                <a
                                    href="../../category/programming/index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../category/python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../category/silverlining.1"
                                    title="View all posts in Silver Lining"
                                    rel="category tag"
                                    >Silver Lining</a
                                ><br /><a
                                    href="../../category/web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="10/why-toppcloud-not-agnostic/index.html#comments"
                                    title="Comment on Why toppcloud (Silver Lining) will not be agnostic"
                                    >Comments (23)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="10/why-toppcloud-not-agnostic/index.html"
                                    title="Permalink to Why toppcloud (Silver Lining) will not be agnostic"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-153" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="09/leaving-topp/index.html"
                                        title="Permalink to Leaving TOPP"
                                        rel="bookmark"
                                        >Leaving TOPP</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            After three and a half years at
                                            <a
                                                class="reference external"
                                                href="http://openplans.org"
                                                >The Open Planning Project</a
                                            >, my time there is done.
                                        </p>
                                        <p>
                                            For a while TOPP has been trying to
                                            find itself, to determine what it is
                                            that it can do best, and how to do
                                            that. I think TOPP has finally
                                            started really figuring that out,
                                            focusing on civic participation,
                                            revisiting &quot;planning&quot;, and
                                            though it&#8217;s not fully
                                            developed there seems to be a strong
                                            potential for TOPP to serve as a
                                            point of collaboration for other
                                            more ad hoc open source government
                                            efforts: government workers and
                                            volunteers can provide substantial
                                            and well-informed development
                                            efforts, but the long-term
                                            shepherding of a project is
                                            difficult, and TOPP has the
                                            potential to provide that kind of
                                            long-term neutral guidance. At the
                                            same time, communities of people
                                            have been developing around these
                                            issues; people have gotten past
                                            simply calling for government to be
                                            inclusive or transparent and have
                                            started to do the real work of
                                            making that happen.
                                        </p>
                                        <p>
                                            But&#8230; unfortunately I
                                            won&#8217;t be able to figure out
                                            their next steps with them. Mark
                                            Gorton has been very generous in his
                                            support of TOPP, and helped us get
                                            started. But while he has been
                                            patient, and even at times seemingly
                                            immune from the economic
                                            trends&#8230; well, he&#8217;s not
                                            immune, and he has had to cut back
                                            his support for TOPP before we were
                                            able to become self-sufficient. And
                                            so there have been layoffs, myself
                                            among them.
                                        </p>
                                        <p>
                                            I suspect what I&#8217;ll do next
                                            will have a very different focus.
                                            This feels a bit weird, a kind of
                                            lost identity. Overall I&#8217;m
                                            feeling pretty optimistic about
                                            finding something new and
                                            interesting to do, but I&#8217;m
                                            still a bit melancholy about leaving
                                            things behind. That TOPP and the
                                            people I&#8217;ve worked with are
                                            far away in New York makes it feel
                                            like more of a loss because I
                                            don&#8217;t know when I&#8217;ll be
                                            back next. But onward and upward!
                                            Now to find out what is next&#8230;
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/02/09/leaving-topp/"
    dc:identifier="https://ianbicking.org/2010/02/09/leaving-topp/"
    dc:title="Leaving TOPP"
    trackback:ping="https://ianbicking.org/2010/02/09/leaving-topp/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 02 09</h3>
                            <p class="post-categories">
                                <a
                                    href="../../category/notech/index.html"
                                    title="View all posts in Non-technical"
                                    rel="category tag"
                                    >Non-technical</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="09/leaving-topp/index.html#comments"
                                    title="Comment on Leaving TOPP"
                                    >Comments (21)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="09/leaving-topp/index.html"
                                    title="Permalink to Leaving TOPP"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-149" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="06/weave-client-side-data/index.html"
                                        title="Permalink to Weave: valuable client-side data"
                                        rel="bookmark"
                                        >Weave: valuable client-side data</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            I&#8217;ve been looking at
                                            <a
                                                class="reference external"
                                                href="https://mozillalabs.com/weave/"
                                                >Weave</a
                                            >
                                            some lately. The large-print summary
                                            on the page is
                                            <em
                                                >Synchronize Your Firefox
                                                Experience Across Desktop and
                                                Mobile</em
                                            >. Straight forward enough.
                                        </p>
                                        <p>
                                            Years and years ago I stopped really
                                            using bookmarks. You lose them
                                            moving from machine to machine
                                            (which Weave could help), but mostly
                                            I stopped using them because it was
                                            too hard to (a) identify interesting
                                            content and place it into a taxonomy
                                            and (b) predict what I would later
                                            be interested in. If I wanted to
                                            refer to something I&#8217;d seen
                                            before there&#8217;s a good chance I
                                            wouldn&#8217;t have saved it, while
                                            my bookmarks would be flooded with
                                            things that time would show were of
                                            transient interest.
                                        </p>
                                        <p>
                                            So&#8230; synchronizing bookmarks,
                                            eh. Saved form data and logins?
                                            Sure, that&#8217;s handy. It would
                                            make browsing on multiple machines
                                            <em>nicer</em>. But it feels more
                                            like a handy tweak.
                                        </p>
                                        <p>
                                            All my <em>really</em> useful data
                                            is kept on servers, categorized and
                                            protected by a user account. Why is
                                            that? Well, of course, where else
                                            would you keep it? In cookies? Ha!
                                        </p>
                                        <p>
                                            Why not in cookies? So many
                                            reasons&#8230; because cookies are
                                            opaque and can&#8217;t hold much
                                            data, can&#8217;t be exchanged, and
                                            probably worst of all they just
                                            disappear randomly.
                                        </p>
                                        <p>
                                            What if cookies weren&#8217;t so
                                            impossibly lame for holding
                                            important data? Suddenly sync seems
                                            much more interesting. Instead of
                                            storing documents and data on a
                                            website, the website could put all
                                            that data right into your browser.
                                            And conveniently
                                            <a
                                                class="reference external"
                                                href="http://en.wikipedia.org/wiki/DOM_storage"
                                                >HTML 5 has an API for that</a
                                            >. Everyone thinks about that API as
                                            a way of handling off-line caching,
                                            because while it handles many
                                            problems with cookies it
                                            doesn&#8217;t handle the problem of
                                            data disappearing as you move
                                            between computers and browser.
                                            That&#8217;s where Weave
                                            synchronization could change things.
                                            I don&#8217;t think this technique
                                            is something appropriate for every
                                            app (maybe not most apps), but it
                                            could allow a new class of
                                            applications.
                                        </p>
                                        <p>
                                            Advantages: web development and
                                            scaling becomes easy. If you store
                                            data in the browser scaling is
                                            almost free; serving static pages is
                                            a Solved Problem. Development is
                                            easier because development and
                                            deployment of HTML and Javascript is
                                            pretty easy. Forking is easy &#8212;
                                            just copy all the resources. So long
                                            as you don&#8217;t hardcode absolute
                                            links into your Javascript, you can
                                            even just save from the browser and
                                            get a working local copy of the
                                            application.
                                        </p>
                                        <p>
                                            Disadvantages: another silo. You
                                            might complain about Facebook
                                            keeping everyone&#8217;s data, but
                                            the data in Facebook is
                                            <em>still</em> more transparent than
                                            data held in files or locally with a
                                            browser. Let&#8217;s say you create
                                            a word processor that uses local
                                            storage for all its documents. If
                                            you stored that document online
                                            sharing and collaboration would be
                                            really easy; but with it stored
                                            locally the act of sharing is not as
                                            automatic, and collaboration is
                                            <em>very hard</em>. Sure, the
                                            &quot;user&quot; is in
                                            &quot;control&quot; of their data,
                                            but that would be more true on paper
                                            than in practice. Building
                                            collaboration on top of local
                                            storage is hard, and without
                                            that&#8230; maybe it&#8217;s not
                                            that interesting?
                                        </p>
                                        <p>
                                            Anyway, there is an interesting (but
                                            maybe Much Too Hard) problem in
                                            there. (DVCS in the browser?)
                                        </p>
                                        <p>
                                            <strong>Update</strong>: in
                                            <a
                                                class="reference external"
                                                href="http://www.azarask.in/blog/post/you-centric-a-sketch-of-the-future-of-browsers/"
                                                >this video</a
                                            >
                                            Aza talks about just what I talk
                                            about here. A few months ago. The
                                            Weave APIs also allude to things
                                            like this, including collaboration.
                                            So&#8230; they are on it!
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/02/06/weave-client-side-data/"
    dc:identifier="https://ianbicking.org/2010/02/06/weave-client-side-data/"
    dc:title="Weave: valuable client-side data"
    trackback:ping="https://ianbicking.org/2010/02/06/weave-client-side-data/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 02 06</h3>
                            <p class="post-categories">
                                <a
                                    href="../../category/html/index.html"
                                    title="View all posts in HTML"
                                    rel="category tag"
                                    >HTML</a
                                ><br /><a
                                    href="../../category/web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="06/weave-client-side-data/index.html#comments"
                                    title="Comment on Weave: valuable client-side data"
                                    >Comments (2)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="06/weave-client-side-data/index.html"
                                    title="Permalink to Weave: valuable client-side data"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-143" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="05/toppcloud-and-django/index.html"
                                        title="Permalink to toppcloud (Silver Lining) and Django"
                                        rel="bookmark"
                                        >toppcloud (Silver Lining) and Django</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            I wrote up instructions on using
                                            <a
                                                class="reference external"
                                                href="../01/29/new-way-to-deploy-web-apps/index.html"
                                                >toppcloud</a
                                            >
                                            (<strong>update</strong>: renamed
                                            Silver Lining) with Django. They are
                                            <a
                                                class="reference external"
                                                href="http://toppcloud.colorstudy.com/django-quickstart.html"
                                                >up on the site</a
                                            >
                                            (where they will be updated in the
                                            future), but I&#8217;ll drop them
                                            here too&#8230;
                                        </p>
                                        <div
                                            class="section"
                                            id="creating-a-layout"
                                        >
                                            <h2>Creating a Layout</h2>
                                            <p>
                                                First thing you have to do
                                                (after installing toppcloud of
                                                course) is create an environment
                                                for your new application. Do
                                                that like:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ toppcloud init sampleapp<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                This creates a directory
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp/</span
                                                    ></tt
                                                >
                                                with a basic layout. The first
                                                thing we&#8217;ll do is set up
                                                version control for our project.
                                                For the sake of documentation,
                                                imagine you go to
                                                <a
                                                    class="reference external"
                                                    href="http://bitbucket.org"
                                                    >bitbucket</a
                                                >
                                                and create two new repositories,
                                                one called
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp</span
                                                    ></tt
                                                >
                                                and another called
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp-lib</span
                                                    ></tt
                                                >
                                                (and for the examples
                                                we&#8217;ll use the username
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >USER</span
                                                    ></tt
                                                >).
                                            </p>
                                            <p>
                                                We&#8217;ll go into our new
                                                environment and use these:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $
                                                <span class="kw3">cd</span>
                                                sampleapp<br />
                                                $ hg clone
                                                http://bitbucket.<span
                                                    class="me1"
                                                    >org</span
                                                >/USER/sampleapp
                                                src/sampleapp<br />
                                                $ rm -r lib/python/<br />
                                                $ hg clone
                                                http://bitbucket.<span
                                                    class="me1"
                                                    >org</span
                                                >/USER/sampleapp-lib
                                                lib/python<br />
                                                $ mkdir lib/python/bin/<br />
                                                $ echo
                                                <span class="st0"
                                                    >&quot;syntax: glob<br />
                                                    bin/python*<br />
                                                    bin/activate<br />
                                                    bin/activate_this.py<br />
                                                    bin/pip<br />
                                                    bin/easy_install*<br />
                                                    &quot;</span
                                                >
                                                &gt; lib/python/.<span
                                                    class="me1"
                                                    >hgignore</span
                                                ><br />
                                                $ mv bin/* lib/python/bin/<br />
                                                $ rmdir bin/<br />
                                                $ ln -s lib/python/bin bin<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now there is a basic layout
                                                setup, with all your libraries
                                                going into the
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp-lib</span
                                                    ></tt
                                                >
                                                repository, and your main
                                                application in the
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp</span
                                                    ></tt
                                                >
                                                repository.
                                            </p>
                                            <p>
                                                Next we&#8217;ll install Django:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ source bin/activate<br />
                                                $ pip install Django<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Then we&#8217;ll set up a
                                                standard Django site:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $
                                                <span class="kw3">cd</span>
                                                src/sampleapp<br />
                                                $ django-admin.<span class="me1"
                                                    >py</span
                                                >
                                                sampleapp<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Also we&#8217;d like to be able
                                                to import this file. It&#8217;d
                                                be nice if there was a
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >setup.py</span
                                                    ></tt
                                                >
                                                file, and we could run
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >pip</span
                                                    >
                                                    <span class="pre">-e</span>
                                                    <span class="pre"
                                                        >src/sampleapp</span
                                                    ></tt
                                                >, but
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >django-admin.py</span
                                                    ></tt
                                                >
                                                doesn&#8217;t create that
                                                itself. Instead we&#8217;ll get
                                                that on the import path more
                                                manually with a
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >.pth</span
                                                    ></tt
                                                >
                                                file:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >&quot;../../src/sampleapp&quot;</span
                                                >
                                                &gt; lib/python/sampleapp.<span
                                                    class="me1"
                                                    >pth</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Also there&#8217;s the tricky
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >$DJANGO_SETTINGS_MODULE</span
                                                    ></tt
                                                >
                                                that you might have had problems
                                                with before. We&#8217;ll use the
                                                file
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >lib/python/toppcustomize.py</span
                                                    ></tt
                                                >
                                                (which is imported everytime
                                                Python is started) to make sure
                                                that is always set:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >&quot;import os<br />
                                                    os.environ['DJANGO_SETTINGS_MODULE']
                                                    = 'sampleapp.settings'<br />
                                                    &quot;</span
                                                >
                                                &gt;
                                                lib/python/toppcustomize.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Also we have a file
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/manage.py</span
                                                    ></tt
                                                >, and that file doesn&#8217;t
                                                work <em>quite</em> how
                                                we&#8217;d like. Instead
                                                we&#8217;ll put a file into
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >bin/manage.py</span
                                                    ></tt
                                                >
                                                that does the same thing:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ rm sampleapp/manage.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                $
                                                <span class="kw3">cd</span>
                                                ../..<br />
                                                $ echo
                                                <span class="st0"
                                                    >'#!/usr/bin/env python<br />
                                                    from django.core.management
                                                    import execute_manager<br />
                                                    from sampleapp import
                                                    settings<br />
                                                    if __name__ ==
                                                    &quot;__main__&quot;:<br />
                                                    &nbsp; &nbsp;
                                                    execute_manager(settings)<br />
                                                    '</span
                                                >
                                                &gt; bin/manage.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                $ chmod +x bin/manage.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now, if you were just using
                                                plain Django you&#8217;d do
                                                something like run
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >python</span
                                                    >
                                                    <span class="pre"
                                                        >manage.py</span
                                                    >
                                                    <span class="pre"
                                                        >runserver</span
                                                    ></tt
                                                >. But we&#8217;ll be using
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >serve</span
                                                    ></tt
                                                >
                                                instead, which means we have to
                                                set up the two other files
                                                toppcloud needs:
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >
                                                and the runner. Here&#8217;s a
                                                simple
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >'[production]<br />
                                                    app_name = sampleapp<br />
                                                    version = 1<br />
                                                    runner =
                                                    src/sampleapp/toppcloud-runner.py<br />
                                                    '</span
                                                >
                                                &gt;
                                                src/sampleapp/toppcloud-app.<span
                                                    class="me1"
                                                    >ini</span
                                                ><br />
                                                $ rm app.<span class="me1"
                                                    >ini</span
                                                ><br />
                                                $ ln -s
                                                src/sampleapp/toppcloud-app.<span
                                                    class="me1"
                                                    >ini</span
                                                >
                                                app.<span class="me1">ini</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                The file <em>must</em> be in the
                                                &quot;root&quot; of your
                                                application, and named
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >, but it&#8217;s good to keep
                                                it in version control, so we set
                                                it up with a symlink.
                                            </p>
                                            <p>
                                                It also refers to a
                                                &quot;runner&quot;, which is the
                                                Python file that loads up the
                                                WSGI application. This looks
                                                about the same for any Django
                                                application, and we&#8217;ll put
                                                it in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/toppcloud-runner.py</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >'import
                                                    django.core.handlers.wsgi<br />
                                                    application =
                                                    django.core.handlers.wsgi.WSGIHandler()<br />
                                                    '</span
                                                >
                                                &gt;
                                                src/sampleapp/toppcloud-runner.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now if you want to run the
                                                application, you can:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ toppcloud serve .<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                This will load it up on
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >http://localhost:8080</span
                                                    ></tt
                                                >, and serve up a boring page.
                                                To do something interesting
                                                we&#8217;ll want to use a
                                                database.
                                            </p>
                                        </div>
                                        <div
                                            class="section"
                                            id="setting-up-a-database"
                                        >
                                            <h2>Setting Up A Database</h2>
                                            <p>
                                                At the moment the only good
                                                database to use is PostgreSQL
                                                with the PostGIS extensions. Add
                                                this line to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                service.<span class="me1"
                                                    >postgis</span
                                                >
                                                =<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                This makes the database
                                                &quot;available&quot; to the
                                                application. For development you
                                                still have to set it up
                                                yourself. You should create a
                                                database
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp</span
                                                    ></tt
                                                >
                                                on your computer.
                                            </p>
                                            <p>
                                                Next, we&#8217;ll need to change
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >settings.py</span
                                                    ></tt
                                                >
                                                to use the new database
                                                configuration. Here&#8217;s the
                                                lines that you&#8217;ll see:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                DATABASE_ENGINE =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp;
                                                <span class="co1"
                                                    ># 'postgresql_psycopg2',
                                                    'postgresql', 'mysql',
                                                    'sqlite3' or 'oracle'.</span
                                                ><br />
                                                DATABASE_NAME =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Or path to database file
                                                    if using sqlite3.</span
                                                ><br />
                                                DATABASE_USER =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Not used with
                                                    sqlite3.</span
                                                ><br />
                                                DATABASE_PASSWORD =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Not used with
                                                    sqlite3.</span
                                                ><br />
                                                DATABASE_HOST =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Set to empty string for
                                                    localhost. Not used with
                                                    sqlite3.</span
                                                ><br />
                                                DATABASE_PORT =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Set to empty string for
                                                    default. Not used with
                                                    sqlite3.</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                First add this to the top of the
                                                file:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                <span class="kw1">import</span>
                                                <span class="kw3">os</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Then you&#8217;ll change those
                                                lines to:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                DATABASE_ENGINE =
                                                <span class="st0"
                                                    >'postgresql_psycopg2'</span
                                                ><br />
                                                DATABASE_NAME =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_DBNAME'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_USER =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_USER'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_PASSWORD =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_PASSWORD'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_HOST =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_HOST'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_PORT =
                                                <span class="st0">''</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now we can create all the
                                                default tables:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ manage.<span class="me1"
                                                    >py</span
                                                >
                                                syncdb<br />
                                                Creating table
                                                auth_permission<br />
                                                Creating table auth_group<br />
                                                Creating table auth_user<br />
                                                Creating table auth_message<br />
                                                Creating table
                                                django_content_type<br />
                                                Creating table django_session<br />
                                                Creating table django_site<br />
                                                ...<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now we have an empty project
                                                that doesn&#8217;t do anything.
                                                Let&#8217;s make it do a little
                                                something (this is all really
                                                based on
                                                <a
                                                    class="reference external"
                                                    href="http://docs.djangoproject.com/en/dev/intro/tutorial01/"
                                                    >the Django tutorial</a
                                                >).
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ manage.<span class="me1"
                                                    >py</span
                                                >
                                                startapp polls<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Django magically knows to put
                                                the code in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/polls/</span
                                                    ></tt
                                                >
                                                &#8212; we&#8217;ll setup the
                                                model in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/polls/models.py</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                <span class="kw1">from</span>
                                                django.<span class="me1"
                                                    >db</span
                                                >
                                                <span class="kw1">import</span>
                                                models<br />
                                                <br />
                                                <span class="kw1">class</span>
                                                Poll<span class="br0"
                                                    >&#40;</span
                                                >models.<span class="me1"
                                                    >Model</span
                                                ><span class="br0">&#41;</span
                                                >:<br />
                                                &nbsp; &nbsp; question =
                                                models.<span class="me1"
                                                    >CharField</span
                                                ><span class="br0">&#40;</span
                                                >max_length=<span class="nu0"
                                                    >200</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp; &nbsp; pub_date =
                                                models.<span class="me1"
                                                    >DateTimeField</span
                                                ><span class="br0">&#40;</span
                                                ><span class="st0"
                                                    >'date published'</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                <br />
                                                <span class="kw1">class</span>
                                                Choice<span class="br0"
                                                    >&#40;</span
                                                >models.<span class="me1"
                                                    >Model</span
                                                ><span class="br0">&#41;</span
                                                >:<br />
                                                &nbsp; &nbsp; poll =
                                                models.<span class="me1"
                                                    >ForeignKey</span
                                                ><span class="br0">&#40;</span
                                                >Poll<span class="br0"
                                                    >&#41;</span
                                                ><br />
                                                &nbsp; &nbsp; choice =
                                                models.<span class="me1"
                                                    >CharField</span
                                                ><span class="br0">&#40;</span
                                                >max_length=<span class="nu0"
                                                    >200</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp; &nbsp; votes =
                                                models.<span class="me1"
                                                    >IntegerField</span
                                                ><span class="br0">&#40;</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                And activate the application by
                                                adding
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >'sampleapp.polls'</span
                                                    ></tt
                                                >
                                                to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >INSTALLED_APPS</span
                                                    ></tt
                                                >
                                                in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/settings.py</span
                                                    ></tt
                                                >. Also add
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >'django.contrib.admin'</span
                                                    ></tt
                                                >
                                                to get the admin app in place.
                                                Run
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >manage.py</span
                                                    >
                                                    <span class="pre"
                                                        >syncdb</span
                                                    ></tt
                                                >
                                                to get the tables in place.
                                            </p>
                                            <p>
                                                You can try
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >serve</span
                                                    >
                                                    <span class="pre"
                                                        >.</span
                                                    ></tt
                                                >
                                                and go to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >/admin/</span
                                                    ></tt
                                                >
                                                to login and see your tables.
                                                You might notice all the CSS is
                                                broken.
                                            </p>
                                            <p>
                                                toppcloud serves static files
                                                out of the
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >static/</span
                                                    ></tt
                                                >
                                                directory. You don&#8217;t
                                                actually put
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >static</span
                                                    ></tt
                                                >
                                                in the URLs, these files are
                                                available at the top-level
                                                (unless you create a
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >static/static/</span
                                                    ></tt
                                                >
                                                directory). The best way to put
                                                files in there is generally
                                                symbolic links.
                                            </p>
                                            <p>For Django admin, do this:</p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $
                                                <span class="kw3">cd</span>
                                                static<br />
                                                $ ln -s
                                                ../lib/python/django/contrib/admin/media
                                                admin-media<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now edit
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/settings.py</span
                                                    ></tt
                                                >
                                                and change
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >ADMIN_MEDIA_PREFIX</span
                                                    ></tt
                                                >
                                                to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >'/admin-media'</span
                                                    ></tt
                                                >.
                                            </p>
                                            <p>
                                                (Probably some other links
                                                should be added.)
                                            </p>
                                            <p>
                                                One <em>last</em> little thing
                                                you might want to do; replace
                                                this line in<br />
                                                settings:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                SECRET_KEY =
                                                <span class="st0"
                                                    >'ASF#&amp;#64;$&amp;#64;#JFAS#&amp;#64;'</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>With this:</p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                <span class="kw1">from</span>
                                                tcsupport.<span class="me1"
                                                    >secret</span
                                                >
                                                <span class="kw1">import</span>
                                                get_secret<br />
                                                SECRET_KEY = get_secret<span
                                                    class="br0"
                                                    >&#40;</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Then you don&#8217;t have to
                                                worry about checking a secret
                                                into version control.
                                            </p>
                                            <p>
                                                You still don&#8217;t really
                                                have an application, but the
                                                rest is mere
                                                &quot;programming&quot; so have
                                                at it!
                                            </p>
                                        </div>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/02/05/toppcloud-and-django/"
    dc:identifier="https://ianbicking.org/2010/02/05/toppcloud-and-django/"
    dc:title="toppcloud (Silver Lining) and Django"
    trackback:ping="https://ianbicking.org/2010/02/05/toppcloud-and-django/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 02 05</h3>
                            <p class="post-categories">
                                <a
                                    href="../../category/programming/index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../category/python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../category/silverlining.1"
                                    title="View all posts in Silver Lining"
                                    rel="category tag"
                                    >Silver Lining</a
                                ><br /><a
                                    href="../../category/web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="05/toppcloud-and-django/index.html#comments"
                                    title="Comment on toppcloud (Silver Lining) and Django"
                                    >Comments (2)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="05/toppcloud-and-django/index.html"
                                    title="Permalink to toppcloud (Silver Lining) and Django"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div class="navigation">
                        <div class="alignleft"></div>
                        <div class="alignright"></div>
                    </div>
                    <!-- END NAVIGATION -->
                </div>
                <!-- END CONTENT -->
            </div>
            <!-- END CONTAINER  -->

            <div id="sidebar">
                <ul>
                    <li id="home-link">
                        <h2>
                            <a
                                href="../../index.html"
                                title="Ian Bicking: a blog"
                                >Home</a
                            >
                        </h2>
                    </li>
                    <li id="text-315934862" class="widget widget_text">
                        <h2 class="widgettitle">About</h2>
                        <div class="textwidget">
                            Ian is a developer with Mozilla,
                            <a href="http://ianbicking.appspot.com/projects"
                                >Python open source developer</a
                            >, actually uses
                            <a
                                href="https://plus.google.com/u/0/104537541227697934010/posts"
                                >Google+</a
                            >
                            more than
                            <a href="http://twitter.com/ianbicking">twitter</a>
                            and lives in Minneapolis.<br />
                            <span
                                class="gittip-0001"
                                gittip-username="ianbicking"
                            ></span>
                            <script
                                id="gittip-0001"
                                src="https://www.gittip.com/assets/widgets/0001.js"
                            ></script>
                        </div>
                    </li>
                    <li id="text-315934863" class="widget widget_text">
                        <div class="textwidget">
                            <!-- <script type="text/javascript">mbgc='f5f5f5';ww='160';mbc='cecece';bbc='3F79D5';bmobc='3b71c6';bbgc='4889F0';bmoc='3F79D5';bfc='FFFFFF';bmofc='ffffff';tlc='cecece';tc='6a6a6a';nc='6a6a6a';bc='6a6a6a';l='y';fs='16';fsb='13';bw='100';ff='4';lu='6a6a6a';pc='4889F0';wh='340';b='s'; pid='104537541227697934010';</script><script type="text/javascript" src="http://widgetsplus.com/google_plus_widget.js"></script> -->
                        </div>
                    </li>
                    <li id="archives-2" class="widget widget_archive">
                        <h2 class="widgettitle">Archives</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../2012/10/index.html"
                                    title="October 2012"
                                    >October 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2012/02/index.html"
                                    title="February 2012"
                                    >February 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2011/04/index.html"
                                    title="April 2011"
                                    >April 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2011/03/index.html"
                                    title="March 2011"
                                    >March 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../09/index.html"
                                    title="September 2010"
                                    >September 2010</a
                                >
                            </li>
                            <li>
                                <a href="../08/index.html" title="August 2010"
                                    >August 2010</a
                                >
                            </li>
                            <li>
                                <a href="../05/index.html" title="May 2010"
                                    >May 2010</a
                                >
                            </li>
                            <li>
                                <a href="../04/index.html" title="April 2010"
                                    >April 2010</a
                                >
                            </li>
                            <li>
                                <a href="../03/index.html" title="March 2010"
                                    >March 2010</a
                                >
                            </li>
                            <li>
                                <a href="index.html" title="February 2010"
                                    >February 2010</a
                                >
                            </li>
                            <li>
                                <a href="../01/index.html" title="January 2010"
                                    >January 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2009/09/index.html"
                                    title="September 2009"
                                    >September 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2009/05/index.html"
                                    title="May 2009"
                                    >May 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2009/04/index.html"
                                    title="April 2009"
                                    >April 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2009/01/index.html"
                                    title="January 2009"
                                    >January 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/12/index.html"
                                    title="December 2008"
                                    >December 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/11/index.html"
                                    title="November 2008"
                                    >November 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/10/index.html"
                                    title="October 2008"
                                    >October 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/09/index.html"
                                    title="September 2008"
                                    >September 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/08/index.html"
                                    title="August 2008"
                                    >August 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/07/index.html"
                                    title="July 2008"
                                    >July 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/06/index.html"
                                    title="June 2008"
                                    >June 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/05/index.html"
                                    title="May 2008"
                                    >May 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/04/index.html"
                                    title="April 2008"
                                    >April 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/03/index.html"
                                    title="March 2008"
                                    >March 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/02/index.html"
                                    title="February 2008"
                                    >February 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2008/01/index.html"
                                    title="January 2008"
                                    >January 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2007/11/index.html"
                                    title="November 2007"
                                    >November 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2007/10/index.html"
                                    title="October 2007"
                                    >October 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2007/09/index.html"
                                    title="September 2007"
                                    >September 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2007/08/index.html"
                                    title="August 2007"
                                    >August 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../2007/07/index.html"
                                    title="July 2007"
                                    >July 2007</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="text-315934861" class="widget widget_text">
                        <div class="textwidget">
                            <a href="../../archive/index.html"
                                >The Older Archives</a
                            >
                        </div>
                    </li>
                    <li id="categories-1" class="widget widget_categories">
                        <h2 class="widgettitle">Categories</h2>
                        <ul>
                            <li class="cat-item cat-item-12">
                                <a
                                    href="../../category/erlang/index.html"
                                    title="View all posts filed under Erlang"
                                    >Erlang</a
                                >
                            </li>
                            <li class="cat-item cat-item-11">
                                <a
                                    href="../../category/html/index.html"
                                    title="View all posts filed under HTML"
                                    >HTML</a
                                >
                            </li>
                            <li class="cat-item cat-item-8">
                                <a
                                    href="../../category/javascript/index.html"
                                    title="View all posts filed under Javascript"
                                    >Javascript</a
                                >
                            </li>
                            <li class="cat-item cat-item-15">
                                <a
                                    href="../../category/licensing/index.html"
                                    title="View all posts filed under Licensing"
                                    >Licensing</a
                                >
                            </li>
                            <li class="cat-item cat-item-18">
                                <a
                                    href="../../category/mozilla/index.html"
                                    title="View all posts filed under Mozilla"
                                    >Mozilla</a
                                >
                            </li>
                            <li class="cat-item cat-item-5">
                                <a
                                    href="../../category/notech/index.html"
                                    title="View all posts filed under Non-technical"
                                    >Non-technical</a
                                >
                            </li>
                            <li class="cat-item cat-item-6">
                                <a
                                    href="../../category/olpc/index.html"
                                    title="View all posts filed under OLPC"
                                    >OLPC</a
                                >
                            </li>
                            <li class="cat-item cat-item-14">
                                <a
                                    href="../../category/packaging/index.html"
                                    title="View all posts filed under Packaging"
                                    >Packaging</a
                                >
                            </li>
                            <li class="cat-item cat-item-4">
                                <a
                                    href="../../category/politics/index.html"
                                    title="View all posts filed under Politics"
                                    >Politics</a
                                >
                            </li>
                            <li class="cat-item cat-item-3">
                                <a
                                    href="../../category/programming/index.html"
                                    title="View all posts filed under Programming"
                                    >Programming</a
                                >
                            </li>
                            <li class="cat-item cat-item-7">
                                <a
                                    href="../../category/python/index.html"
                                    title="View all posts filed under Python"
                                    >Python</a
                                >
                            </li>
                            <li class="cat-item cat-item-10">
                                <a
                                    href="../../category/ruby/index.html"
                                    title="View all posts filed under Ruby"
                                    >Ruby</a
                                >
                            </li>
                            <li class="cat-item cat-item-19">
                                <a
                                    href="../../category/security/index.html"
                                    title="View all posts filed under Security"
                                    >Security</a
                                >
                            </li>
                            <li class="cat-item cat-item-16">
                                <a
                                    href="../../category/silverlining.1"
                                    title="View all posts filed under Silver Lining"
                                    >Silver Lining</a
                                >
                            </li>
                            <li class="cat-item cat-item-20">
                                <a
                                    href="../../category/programming/testing/index.html"
                                    title="View all posts filed under Testing"
                                    >Testing</a
                                >
                            </li>
                            <li class="cat-item cat-item-9">
                                <a
                                    href="../../category/web/index.html"
                                    title="View all posts filed under Web"
                                    >Web</a
                                >
                            </li>
                            <li class="cat-item cat-item-13">
                                <a
                                    href="../../category/zopeplone/index.html"
                                    title="View all posts filed under Zope/Plone"
                                    >Zope/Plone</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="search-2" class="widget widget_search">
                        <form
                            id="searchform"
                            method="get"
                            action="../../index.html"
                        >
                            <div>
                                <input
                                    id="s"
                                    name="s"
                                    type="text"
                                    value=""
                                    tabindex="1"
                                    size="10"
                                />
                                <input
                                    id="searchsubmit"
                                    name="searchsubmit"
                                    type="submit"
                                    value="Find"
                                    tabindex="2"
                                />
                            </div>
                        </form>
                    </li>
                    <li
                        id="recent-posts-2"
                        class="widget widget_recent_entries"
                    >
                        <h2 class="widgettitle">Recent Posts</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../index.html?p=291"
                                    title="Why doctest.js is better than Python&#8217;s doctest"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../index.html?p=283"
                                    title="Python Application Package"
                                    >Python Application Package</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../index.html?p=277"
                                    title="Git-as-sync, not source-control-as-deployment"
                                    >Git-as-sync, not
                                    source-control-as-deployment</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../index.html?p=253"
                                    title="My Unsolicited Advice For PyPy"
                                    >My Unsolicited Advice For PyPy</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../index.html?p=250"
                                    title="A Python Web Application Package and Format (we should make one)"
                                    >A Python Web Application Package and Format
                                    (we should make one)</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li
                        id="recent-comments-2"
                        class="widget widget_recent_comments"
                    >
                        <h2 class="widgettitle">Recent Comments</h2>
                        <ul id="recentcomments">
                            <li class="recentcomments">
                                <a
                                    href="http://www.mirsa.com.tr"
                                    rel="external nofollow"
                                    class="url"
                                    >havalandrma</a
                                >
                                on
                                <a
                                    href="../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-228633"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://redealmeidense.com.br/portalx/modules/"
                                    rel="external nofollow"
                                    class="url"
                                    >this website</a
                                >
                                on
                                <a
                                    href="../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-196267"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Eric Pierce on
                                <a
                                    href="../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195322"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Paul Brian on
                                <a
                                    href="../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195321"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://benjiyork.com"
                                    rel="external nofollow"
                                    class="url"
                                    >Benji York</a
                                >
                                on
                                <a
                                    href="../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195320"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div id="footer">
                <p>
                    &copy; 2013 Ian Bicking<!--
Does this commenting make me evil?
			|
			Thanks, <a href="http://wordpress.org/" title="WordPress">WordPress</a>
			|
			<a href="http://www.plaintxt.org/themes/barthelme/" title="Barthelme for WordPress" rel="follow">Barthelme</a> theme by <a href="http://scottwallick.com/" title="scottwallick.com" rel="follow">Scott</a>
			| <!-- The following is a link to the theme author's sponsor. Please consider its smallness and that Scott was nice enough to make this theme publically available. -->
                    Sponsor:
                    <a
                        href="http://www.active-sandals.com/womreefsan.html"
                        title="Support: Reef Sandals"
                        >Reef Sandals</a
                    >
                    | Valid
                    <a
                        href="http://validator.w3.org/check?uri=http://blog.ianbicking.org&amp;outline=1&amp;verbose=1"
                        title="Valid XHTML 1.0 Strict"
                        rel="nofollow"
                        >XHTML</a
                    >
                    &amp;
                    <a
                        href="http://jigsaw.w3.org/css-validator/validator?uri=https://ianbicking.org/wp-content/themes/Barthelme-ianb/style.css&amp;profile=css2&amp;warning=no"
                        title="Valid CSS"
                        rel="nofollow"
                        >CSS</a
                    >
                    | --> RSS:
                    <a
                        href="../../feed/rss/index.html"
                        title="Ian Bicking: a blog RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Posts</a
                    >
                    &amp;
                    <a
                        href="../../comments/feed/index.html"
                        title="Ian Bicking: a blog Comments RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Comments</a
                    >
                </p>
            </div>
        </div>
        <!-- END WRAPPER -->

        <!-- Somehow 37 queries occured in 1.096 seconds. Magic! -->
        <!-- The "Barthelme" theme copyright (c) 2006 Scott Allan Wallick - http://www.plaintxt.org/themes/ -->

        <!-- Google Analytics -->
        <script
            src="http://www.google-analytics.com/urchin.js"
            type="text/javascript"
        ></script>
        <script type="text/javascript">
            _uacct = "UA-2442258-1";
            urchinTracker();
        </script>
    </body>
</html>
