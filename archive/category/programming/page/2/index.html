<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!-- MOBIFY - DO NOT ALTER - PASTE IMMEDIATELY AFTER OPENING HEAD TAG -->
        <script type="text/javascript">
            /*<![CDATA[*/ (function (a) {
                function b(a, b) {
                    if (+a) return ~a || (d.cookie = h + "=; path=/");
                    (j = d.createElement(e)),
                        (k = d.getElementsByTagName(e)[0]),
                        (j.src = a),
                        b && (j.onload = j.onerror = b),
                        k.parentNode.insertBefore(j, k);
                }
                function c() {
                    n.api || b(l.shift() || -1, c);
                }
                if (this.Mobify) return;
                var d = document,
                    e = "script",
                    f = "mobify",
                    g = "." + f + ".com/",
                    h = f + "-path",
                    i = g + "un" + f + ".js",
                    j,
                    k,
                    l = [!1, 1],
                    m,
                    n = (this.Mobify = {
                        points: [+new Date()],
                        tagVersion: [6, 0],
                    }),
                    o = /(; |#|&|^)mobify-path=([^&;]*)/g.exec(
                        location.hash + "; " + d.cookie
                    );
                o
                    ? (m = o[2]) &&
                      !+(m = sessionStorage[h] || m) &&
                      (l = [!0, "//preview" + g + escape(m)])
                    : ((l = a() || l),
                      l[0] && l.push("//cdn" + i, "//files01" + i)),
                    l.shift()
                        ? (d.write('<plaintext style="display:none;">'),
                          setTimeout(c))
                        : b(l[0]);
            })(function () {
                if (
                    /ip(hone|od)|android.*(mobile)|blackberry.*applewebkit/i.test(
                        navigator.userAgent
                    )
                ) {
                    return [
                        1,
                        "//cdn.mobify.com/sites/ians-blog/production/mobify.js",
                    ];
                }
            }); /*]]>*/
        </script>
        <!-- END MOBIFY -->
        <title>Ian Bicking: a blog :: Programming</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="generator" content="WordPress 3.4.2" />
        <!-- LEAVE FOR STATS -->
        <meta name="description" content="" />
        <link
            rel="stylesheet"
            title="plaintxtSimpler"
            href="../../../../wp-content/themes/Barthelme-ianb/style.css"
            type="text/css"
            media="all"
        />
        <link
            rel="start"
            href="../../../../index.html"
            title="Ian Bicking: a blog"
        />
        <link
            rel="alternate"
            type="application/atom+xml"
            title="Ian Bicking: a blog Atom Feed"
            href="../../../../feed/atom/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog RSS 2.0 Feed"
            href="../../../../feed/rss/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog Comments RSS 2.0 Feed"
            href="../../../../comments/feed/index.html"
        />
        <link
            rel="alternate"
            type="application/rdf+xml"
            title="Ian Bicking: a blog RSS 1.0"
            href="../../../../feed/rdf/index.html"
        />
        <link
            rel="alternate"
            type="text/xml"
            title="Ian Bicking: a blog RSS 0.92 Feed"
            href="../../../../feed/rss/index.html"
        />

        <link
            rel="archives"
            title="October 2012"
            href="../../../../2012/10/index.html"
        />
        <link
            rel="archives"
            title="February 2012"
            href="../../../../2012/02/index.html"
        />
        <link
            rel="archives"
            title="April 2011"
            href="../../../../2011/04/index.html"
        />
        <link
            rel="archives"
            title="March 2011"
            href="../../../../2011/03/index.html"
        />
        <link
            rel="archives"
            title="September 2010"
            href="../../../../2010/09/index.html"
        />
        <link
            rel="archives"
            title="August 2010"
            href="../../../../2010/08/index.html"
        />
        <link
            rel="archives"
            title="May 2010"
            href="../../../../2010/05/index.html"
        />
        <link
            rel="archives"
            title="April 2010"
            href="../../../../2010/04/index.html"
        />
        <link
            rel="archives"
            title="March 2010"
            href="../../../../2010/03/index.html"
        />
        <link
            rel="archives"
            title="February 2010"
            href="../../../../2010/02/index.html"
        />
        <link
            rel="archives"
            title="January 2010"
            href="../../../../2010/01/index.html"
        />
        <link
            rel="archives"
            title="September 2009"
            href="../../../../2009/09/index.html"
        />
        <link
            rel="archives"
            title="May 2009"
            href="../../../../2009/05/index.html"
        />
        <link
            rel="archives"
            title="April 2009"
            href="../../../../2009/04/index.html"
        />
        <link
            rel="archives"
            title="January 2009"
            href="../../../../2009/01/index.html"
        />
        <link
            rel="archives"
            title="December 2008"
            href="../../../../2008/12/index.html"
        />
        <link
            rel="archives"
            title="November 2008"
            href="../../../../2008/11/index.html"
        />
        <link
            rel="archives"
            title="October 2008"
            href="../../../../2008/10/index.html"
        />
        <link
            rel="archives"
            title="September 2008"
            href="../../../../2008/09/index.html"
        />
        <link
            rel="archives"
            title="August 2008"
            href="../../../../2008/08/index.html"
        />
        <link
            rel="archives"
            title="July 2008"
            href="../../../../2008/07/index.html"
        />
        <link
            rel="archives"
            title="June 2008"
            href="../../../../2008/06/index.html"
        />
        <link
            rel="archives"
            title="May 2008"
            href="../../../../2008/05/index.html"
        />
        <link
            rel="archives"
            title="April 2008"
            href="../../../../2008/04/index.html"
        />
        <link
            rel="archives"
            title="March 2008"
            href="../../../../2008/03/index.html"
        />
        <link
            rel="archives"
            title="February 2008"
            href="../../../../2008/02/index.html"
        />
        <link
            rel="archives"
            title="January 2008"
            href="../../../../2008/01/index.html"
        />
        <link
            rel="archives"
            title="November 2007"
            href="../../../../2007/11/index.html"
        />
        <link
            rel="archives"
            title="October 2007"
            href="../../../../2007/10/index.html"
        />
        <link
            rel="archives"
            title="September 2007"
            href="../../../../2007/09/index.html"
        />
        <link
            rel="archives"
            title="August 2007"
            href="../../../../2007/08/index.html"
        />
        <link
            rel="archives"
            title="July 2007"
            href="../../../../2007/07/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog &raquo; Programming Category Feed"
            href="../../feed/index.html"
        />
        <link
            rel="EditURI"
            type="application/rsd+xml"
            title="RSD"
            href="../../../../xmlrpc.php?rsd"
        />
        <link
            rel="wlwmanifest"
            type="application/wlwmanifest+xml"
            href="../../../../wp-includes/wlwmanifest.xml"
        />
        <meta name="generator" content="WordPress 3.4.2" />
        <link
            rel="stylesheet"
            href="../../../../wp-content/plugins/source-code-syntax-highlighting-plugin-for-wordpress/geshi.css"
            type="text/css"
        />
        <style type="text/css">
            .recentcomments a {
                display: inline !important;
                padding: 0 !important;
                margin: 0 !important;
            }
        </style>
        <style type="text/css" media="all">
            /*<![CDATA[*/
            body {
                font-size: 100%;
            }
            body {
                font-family: tahoma, geneva, sans-serif;
            }
            div.post-header,
            h2.post-title,
            p.post-date-single,
            h2.post-title-single,
            div.post-entry h1,
            div.post-entry h2,
            div.post-entry h3,
            div.post-entry h4,
            div.post-entry h5,
            div.post-entry h6,
            div.post-entry blockquote,
            div.post-footer,
            h3#comment-count,
            h4#comment-header,
            div#comments ol li p.comment-metadata,
            h4#respond {
                font-family: verdana, geneva, sans-serif;
            }
            div.post-entry p {
                text-align: left;
            }
            div#wrapper {
                width: 100%;
            }

            /*]]>*/
        </style>
    </head>
    <body>
        <div id="wrapper">
            <div
                id="header"
                onclick="location.href='https://ianbicking.org/';"
                style="cursor: pointer"
            >
                <h1 id="title">
                    <a href="../../../../index.html" title="Ian Bicking: a blog"
                        >Ian Bicking: a blog</a
                    >
                </h1>
                <p id="description"></p>
            </div>
            <!-- WP Theme Credits -->
            <div style="display: none">
                We can answer on question
                <a href="http://www.olnevhost.net/vps-hosting.html"
                    >what is VPS</a
                >? and what is
                <a href="http://www.olnevhost.net/dedicated-servers.html"
                    ><strong>cheap dedicated servers</strong></a
                >?
            </div>
            <!-- END HEADER -->
            <div id="container">
                <div id="content" class="narrowcolumn">
                    <p class="post-date-single">{ Category Archives }</p>
                    <h2 class="post-title-single">Programming</h2>

                    <div id="post-192" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/03/12/a-webob-app-example/index.html"
                                        title="Permalink to What Does A WebOb App Look Like?"
                                        rel="bookmark"
                                        >What Does A WebOb App Look Like?</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            Lately I&#8217;ve been writing code
                                            using WebOb and just a few other
                                            small libraries. It&#8217;s not
                                            entirely obvious what this looks
                                            like, so I thought I&#8217;d give a
                                            simple example.
                                        </p>
                                        <p>
                                            I make each application a class.
                                            Instances of the class are
                                            &quot;configured applications&quot;.
                                            So it looks a little like this (for
                                            an application that takes one
                                            configuration parameter,
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >file_path</span
                                                ></tt
                                            >):
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">class</span>
                                            Application<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">object</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__init__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            file_path<span class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >file_path</span
                                            >
                                            = file_path<br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            Then the app needs to be a WSGI app,
                                            because that&#8217;s how I roll. I
                                            use
                                            <a
                                                class="reference external"
                                                href="http://pythonpaste.org/webob/modules/dec.html"
                                                >webob.dec</a
                                            >:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">from</span>
                                            webob.<span class="me1">dec</span>
                                            <span class="kw1">import</span>
                                            wsgify<br />
                                            <span class="kw1">from</span> webob
                                            <span class="kw1">import</span>
                                            exc<br />
                                            <span class="kw1">from</span> webob
                                            <span class="kw1">import</span>
                                            Response<br />
                                            <br />
                                            <span class="kw1">class</span>
                                            Application<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">object</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__init__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            file_path<span class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >file_path</span
                                            >
                                            = file_path<br />
                                            &nbsp; &nbsp; @<span class="co1"
                                                >wsgify</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__call__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            Response<span class="br0"
                                                >&#40;</span
                                            ><span class="st0">'Hi!'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            Somewhere separate from the
                                            application you actually instantiate
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >Application</span
                                                ></tt
                                            >. You can use
                                            <a
                                                class="reference external"
                                                href="http://pythonpaste.org/deploy/"
                                                >Paste Deploy</a
                                            >
                                            for that, configure it yourself, or
                                            just do something ad hoc (a lot of
                                            mod_wsgi
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >.wsgi</span
                                                ></tt
                                            >
                                            files are like this, basically).
                                        </p>
                                        <p>
                                            I use
                                            <a
                                                class="reference external"
                                                href="http://pythonpaste.org/webob/reference.html#exceptions"
                                                >webob.exc</a
                                            >
                                            for things like
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >exc.HTTPNotFound()</span
                                                ></tt
                                            >. You can raise that as an
                                            exception, but I mostly just return
                                            the object (to the same effect).
                                        </p>
                                        <p>
                                            Now you have Hello World. I then
                                            sometimes do something terrible, I
                                            start handling URLs like this:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            @<span class="co1">wsgify</span
                                            ><br />
                                            <span class="kw1">def</span>
                                            <span class="kw4">__call__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            req.<span class="me1"
                                                >path_info</span
                                            >
                                            ==
                                            <span class="st0">'/'</span>:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >index</span
                                            ><span class="br0">&#40;</span
                                            >req<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">elif</span>
                                            req.<span class="me1"
                                                >path_info</span
                                            >.<span class="me1">startswith</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'/view/'</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >view</span
                                            ><span class="br0">&#40;</span
                                            >req<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            exc.<span class="me1"
                                                >HTTPNotFound</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            This is lazy and a very bad idea. So
                                            you want a dispatcher. There are
                                            several (e.g.,
                                            <a
                                                class="reference external"
                                                href="http://pypi.python.org/pypi/selector/"
                                                >selector</a
                                            >). I&#8217;ll use
                                            <a
                                                class="reference external"
                                                href="http://routes.groovie.org"
                                                >Routes</a
                                            >
                                            here&#8230; the latest release makes
                                            it a bit easier (though it could
                                            still be streamlined a bit).
                                            Here&#8217;s a pattern I think makes
                                            sense:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">from</span> routes
                                            <span class="kw1">import</span>
                                            Mapper<br />
                                            <br />
                                            <span class="kw1">class</span>
                                            Application<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">object</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw2">map</span> =
                                            Mapper<span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw2">map</span>.<span
                                                class="me1"
                                                >connect</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'index'</span>,
                                            <span class="st0">'/'</span>,
                                            method=<span class="st0"
                                                >'index'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw2">map</span>.<span
                                                class="me1"
                                                >connect</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'view'</span>,
                                            <span class="st0"
                                                >'/view/{item}'</span
                                            >, method=<span class="st0"
                                                >'view'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            <br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__init__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            file_path<span class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >file_path</span
                                            >
                                            = file_path<br />
                                            <br />
                                            &nbsp; &nbsp; @<span class="co1"
                                                >wsgify</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__call__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; results
                                            =
                                            <span class="kw2">self</span>.<span
                                                class="kw2"
                                                >map</span
                                            >.<span class="me1">routematch</span
                                            ><span class="br0">&#40;</span
                                            >environ=req.<span class="me1"
                                                >environ</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            <span class="kw1">not</span>
                                            results:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp;
                                            <span class="kw1">return</span>
                                            exc.<span class="me1"
                                                >HTTPNotFound</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; match,
                                            route = results<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; link =
                                            URLGenerator<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">self</span>.<span
                                                class="kw2"
                                                >map</span
                                            >, req.<span class="me1"
                                                >environ</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            req.<span class="me1">urlvars</span>
                                            = <span class="br0">&#40;</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span>,
                                            match<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; kwargs =
                                            match.<span class="kw3">copy</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; method =
                                            kwargs.<span class="me1">pop</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'method'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            req.<span class="me1">link</span> =
                                            link<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            <span class="kw2">getattr</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            method<span class="br0">&#41;</span
                                            ><span class="br0">&#40;</span>req,
                                            **kwargs<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            <br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            index<span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            view<span class="br0">&#40;</span
                                            ><span class="kw2">self</span>, req,
                                            item<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            Another way you might do it is to
                                            skip the class, which means skipping
                                            a clear place for configuration. I
                                            don&#8217;t like that, but if you
                                            don&#8217;t care about that, then it
                                            looks like this:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">def</span>
                                            index<span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; ...<br />
                                            <span class="kw1">def</span>
                                            view<span class="br0">&#40;</span
                                            ><span class="kw2">self</span>, req,
                                            item<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; ...<br />
                                            <br />
                                            <span class="kw2">map</span> =
                                            Mapper<span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            <span class="kw2">map</span>.<span
                                                class="me1"
                                                >connect</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'index'</span>,
                                            <span class="st0">'/'</span>,
                                            view=index<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            <span class="kw2">map</span>.<span
                                                class="me1"
                                                >connect</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'view'</span>,
                                            <span class="st0"
                                                >'/view/{item}'</span
                                            >, view=view<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            <br />
                                            @<span class="co1">wsgify</span
                                            ><br />
                                            <span class="kw1">def</span>
                                            application<span class="br0"
                                                >&#40;</span
                                            >req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; results =
                                            <span class="kw2">map</span>.<span
                                                class="me1"
                                                >routematch</span
                                            ><span class="br0">&#40;</span
                                            >environ=req.<span class="me1"
                                                >environ</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            <span class="kw1">not</span>
                                            results:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            exc.<span class="me1"
                                                >HTTPNotFound</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; match, route =
                                            results<br />
                                            &nbsp; &nbsp; link =
                                            URLGenerator<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">map</span>,
                                            req.<span class="me1">environ</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; req.<span class="me1"
                                                >urlvars</span
                                            >
                                            = <span class="br0">&#40;</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span>,
                                            match<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; kwargs = match.<span
                                                class="kw3"
                                                >copy</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; view = kwargs.<span
                                                class="me1"
                                                >pop</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'view'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; req.<span class="me1"
                                                >link</span
                                            >
                                            = link<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            view<span class="br0">&#40;</span
                                            >req, **kwargs<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            Then
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >application</span
                                                ></tt
                                            >
                                            is pretty much boilerplate. You
                                            could put configuration in the
                                            request if you wanted, or use some
                                            other technique (like
                                            <a
                                                class="reference external"
                                                href="http://pypi.python.org/pypi/Contextual"
                                                >Contextual</a
                                            >).
                                        </p>
                                        <p>
                                            I talked some with
                                            <a
                                                class="reference external"
                                                href="http://be.groovie.org/"
                                                >Ben Bangert</a
                                            >
                                            about what he&#8217;s trying with
                                            these patterns, and he&#8217;s doing
                                            something reminiscent of Pylons
                                            controllers (but without the rest of
                                            Pylons) and it looks more like this
                                            (with my own adaptations):
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">class</span>
                                            BaseController<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">object</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; special_vars =
                                            <span class="br0">&#91;</span
                                            ><span class="st0"
                                                >'controller'</span
                                            >, <span class="st0">'action'</span
                                            ><span class="br0">&#93;</span
                                            ><br />
                                            <br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__init__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            request, link, **config<span
                                                class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >request</span
                                            >
                                            = request<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >link</span
                                            >
                                            = link<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">for</span> name,
                                            value
                                            <span class="kw1">in</span>
                                            config.<span class="me1">items</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp;
                                            <span class="kw2">setattr</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            name, value<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            <br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__call__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; action =
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >request</span
                                            >.<span class="me1">urlvars</span
                                            >.<span class="me1">get</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'action'</span>,
                                            <span class="st0">'index'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            <span class="kw2">hasattr</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            <span class="st0">'__before__'</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp;
                                            <span class="kw2">self</span
                                            >.__before__<span class="br0"
                                                >&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; kwargs =
                                            req.<span class="me1">urlsvars</span
                                            >.<span class="kw3">copy</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">for</span> attr
                                            <span class="kw1">in</span>
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >special_vars</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp;
                                            <span class="kw1">if</span> attr
                                            <span class="kw1">in</span>
                                            kwargs:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">del</span>
                                            kwargs<span class="br0">&#91;</span
                                            >attr<span class="br0">&#93;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            <span class="kw2">getattr</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            action<span class="br0">&#41;</span
                                            ><span class="br0">&#40;</span
                                            >**kwargs<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            <br />
                                            <span class="kw1">class</span>
                                            Index<span class="br0">&#40;</span
                                            >BaseController<span class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            index<span class="br0">&#40;</span
                                            ><span class="kw2">self</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            view<span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            item<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
                                            <br />
                                            <span class="kw1">class</span>
                                            Application<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">object</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw2">map</span> =
                                            Mapper<span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw2">map</span>.<span
                                                class="me1"
                                                >connect</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'index'</span>,
                                            <span class="st0">'/'</span>,
                                            controller=Index<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw2">map</span>.<span
                                                class="me1"
                                                >connect</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'view'</span>,
                                            <span class="st0"
                                                >'/view/{item}'</span
                                            >, controller=Index, &nbsp; &nbsp;
                                            action=<span class="st0"
                                                >'view'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            <br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__init__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            **config<span class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >config</span
                                            >
                                            = config<br />
                                            <br />
                                            &nbsp; &nbsp; @<span class="co1"
                                                >wsgify</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            <span class="kw4">__call__</span
                                            ><span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; results
                                            =
                                            <span class="kw2">self</span>.<span
                                                class="kw2"
                                                >map</span
                                            >.<span class="me1">routematch</span
                                            ><span class="br0">&#40;</span
                                            >environ=req.<span class="me1"
                                                >environ</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            <span class="kw1">not</span>
                                            results:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp;
                                            <span class="kw1">return</span>
                                            exc.<span class="me1"
                                                >HTTPNotFound</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; match,
                                            route = results<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; link =
                                            URLGenerator<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">self</span>.<span
                                                class="kw2"
                                                >map</span
                                            >, req.<span class="me1"
                                                >environ</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            req.<span class="me1">urlvars</span>
                                            = <span class="br0">&#40;</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span>,
                                            match<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            controller = match<span class="br0"
                                                >&#91;</span
                                            ><span class="st0"
                                                >'controller'</span
                                            ><span class="br0">&#93;</span
                                            ><span class="br0">&#40;</span>req,
                                            link, **<span class="kw2">self</span
                                            >.<span class="me1">config</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            controller<span class="br0"
                                                >&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            That&#8217;s a lot of code blocks,
                                            but they all really say the same
                                            thing ;) I think writing apps with
                                            almost-no-framework like this is
                                            pretty doable, so if you have
                                            something small you should give it a
                                            go. I think it&#8217;s especially
                                            appropriate for applications that
                                            are an API (not a &quot;web
                                            site&quot;).
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/03/12/a-webob-app-example/"
    dc:identifier="https://ianbicking.org/2010/03/12/a-webob-app-example/"
    dc:title="What Does A WebOb App Look Like?"
    trackback:ping="https://ianbicking.org/2010/03/12/a-webob-app-example/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 03 12</h3>
                            <p class="post-categories">
                                <a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../../web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/03/12/a-webob-app-example/index.html#comments"
                                    title="Comment on What Does A WebOb App Look Like?"
                                    >Comments (30)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/03/12/a-webob-app-example/index.html"
                                    title="Permalink to What Does A WebOb App Look Like?"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-180" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/03/10/configuration-management-push-vs-pull/index.html"
                                        title="Permalink to Configuration management: push vs. pull"
                                        rel="bookmark"
                                        >Configuration management: push vs.
                                        pull</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            Since I&#8217;ve been thinking about
                                            <a
                                                class="reference external"
                                                href="../../../silverlining.1"
                                                >deployment</a
                                            >
                                            I&#8217;ve been thinking a lot more
                                            about what &quot;configuration
                                            management&quot; means, how it
                                            should work, what it should do.
                                        </p>
                                        <p>
                                            I guess my quick summary of
                                            configuration management is that it
                                            is
                                            <em
                                                >setting up a server
                                                correctly</em
                                            >. &quot;Correct&quot; is an
                                            ambiguous term, but given that there
                                            are so many to configuration
                                            management the solutions are also
                                            ambiguous.
                                        </p>
                                        <p>
                                            <a
                                                class="reference external"
                                                href="http://cloudsilverlining.org"
                                                >Silver Lining</a
                                            >
                                            includes configuration management of
                                            a sort. It is very simple. Right now
                                            it is simply a bunch of files to
                                            rsync over, and one shell script
                                            (you can see the
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/silverlining/src/tip/silverlining/server-files/serverroot/"
                                                >files here</a
                                            >
                                            and the
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/silverlining/src/tip/silverlining/server-files/update-server-script.sh"
                                                >script here</a
                                            >
                                            &#8212; at least until I move them
                                            and those links start 404ing). Also
                                            each &quot;service&quot; (e.g., a
                                            database) has a simple setup script.
                                            I&#8217;m sure this system will
                                            become more complicated over time,
                                            but it&#8217;s
                                            <strong>really</strong> simple right
                                            now, and I like that.
                                        </p>
                                        <p>
                                            The other system I&#8217;ve been
                                            asked about the most about lately is
                                            <a
                                                class="reference external"
                                                href="http://reductivelabs.com/products/puppet/"
                                                >Puppet</a
                                            >. Puppet is a
                                            <em>real</em> configuration
                                            management system. The driving
                                            forces are very different: I&#8217;m
                                            just trying to get a system set up
                                            that is in all ways
                                            <em>acceptable</em> for web
                                            application deployment. I want
                                            <em>one</em> system set up for
                                            <em>one</em> kind of task; I am
                                            completely focused on that end, and
                                            I care about means only insofar as I
                                            don&#8217;t want to get distracted
                                            by those means. Puppet is for people
                                            who care about the means, not just
                                            the ends. People who want things to
                                            work in a particular <em>way</em>; I
                                            only care that they <em>work</em>.
                                        </p>
                                        <p>
                                            That&#8217;s the big difference
                                            between Puppet and Silver Lining.
                                            The smaller difference (that I want
                                            to talk about) is &quot;push&quot;
                                            vs. &quot;pull&quot;.
                                            <a
                                                class="reference external"
                                                href="http://agiletesting.blogspot.com/2010/03/automated-deployment-systems-push-vs.html"
                                                >Grig wrote up some notes on two
                                                approaches</a
                                            >. Silver Lining uses a
                                            &quot;push&quot; system (though
                                            calling it a &quot;system&quot; is
                                            kind of overselling what it does)
                                            while Puppet is &quot;pull&quot;.
                                            Basically Silver Lining runs these
                                            commands (from your personal
                                            computer):
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            $ rsync -r
                                            &lt;silverlining&gt;/server-files/serverroot/
                                            root@<span class="co1"
                                                >server:/</span
                                            ><br />
                                            $ ssh root@<span class="co1"
                                                >server &quot;$(cat
                                                &lt;silverlining&gt;/server-files/update-server-script.sh)&quot;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            This is what happens when you run
                                            <tt class="docutils literal"
                                                ><span class="pre">silver</span>
                                                <span class="pre"
                                                    >setup-node</span
                                                >
                                                <span class="pre"
                                                    >server</span
                                                ></tt
                                            >: it pushes a bunch of files over
                                            to the server, and runs a shell
                                            script. If you update either of the
                                            files or the shell script you run
                                            <tt class="docutils literal"
                                                ><span class="pre">silver</span>
                                                <span class="pre"
                                                    >setup-node</span
                                                ></tt
                                            >
                                            again to update the server. This is
                                            &quot;push&quot; because everything
                                            is initiated by the
                                            &quot;master&quot; (in this case,
                                            the developer&#8217;s personal
                                            computer).
                                        </p>
                                        <p>
                                            Puppet uses a pull model. In this
                                            model there is a daemon running on
                                            every machine, and these machines
                                            call in to the master to see if
                                            there&#8217;s any new instructions
                                            for them. If there are, the daemon
                                            applies those instructions to the
                                            machine it is running on.
                                        </p>
                                        <p>
                                            Grig identifies two big advantages
                                            to this pull model:
                                        </p>
                                        <ol class="arabic simple">
                                            <li>
                                                When a new server comes up it
                                                can get instructions from the
                                                master and start doing things.
                                                You can&#8217;t push
                                                instructions to a server that
                                                isn&#8217;t there, and the
                                                server itself is most aware of
                                                when it is ready to do stuff.
                                            </li>
                                            <li>
                                                If a lot of servers come up,
                                                they can all do the setup work
                                                on their own, they only have to
                                                ask the master what to do.
                                            </li>
                                        </ol>
                                        <p>
                                            But&#8230; I don&#8217;t buy either
                                            justification.
                                        </p>
                                        <p>
                                            First: servers don&#8217;t just
                                            <em>do</em> things when they start
                                            up. To get this to work you have to
                                            create custom images with Puppet
                                            installed, and configured to know
                                            where the master is, and either the
                                            image or the master needs some
                                            indication of <em>what kind</em> of
                                            server you intended to create. All
                                            this is to avoid polling a server to
                                            see when it comes online. Polling a
                                            server is lame (and is the best
                                            Silver Lining can do right now), but
                                            avoiding polling can be done with
                                            something a lot simpler than a
                                            complete change from push to pull.
                                        </p>
                                        <p>
                                            Second: there&#8217;s nothing
                                            unscalable about push. Look at those
                                            commands: one
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >rsync</span
                                                ></tt
                                            >
                                            and one
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >ssh</span
                                                ></tt
                                            >. The first is pretty darn cheap,
                                            and the second is cheap on the
                                            master and expensive on the remote
                                            machine (since it is doing things
                                            like installing stuff). You need to
                                            do it on lots of machines? Then fork
                                            a bunch of processes to run those
                                            two commands. This is not
                                            complicated stuff.
                                        </p>
                                        <p>
                                            It is <em>possible</em> to write a
                                            push system that is hard to scale,
                                            if the master is doing lots of work.
                                            But just don&#8217;t do that. Upload
                                            your setup code to the remote
                                            server/slave and
                                            <em>run it there</em>. Problem
                                            fixed!
                                        </p>
                                        <p>What are the advantages of push?</p>
                                        <ol class="arabic simple">
                                            <li>
                                                Easy to bootstrap. A bare server
                                                can be setup with push, no
                                                customization needed. Any
                                                customization is another kind of
                                                configuration, and configuration
                                                should be automated, and&#8230;
                                                well, this is why it&#8217;s a
                                                bootstrap problem.
                                            </li>
                                            <li>
                                                Errors are synchronous: if your
                                                setup code doesn&#8217;t work,
                                                your push system will get the
                                                error back, you don&#8217;t need
                                                some fancy monitor and you
                                                don&#8217;t need to check any
                                                logs. Weird behavior is also
                                                synchronous; can&#8217;t tell
                                                why servers are doing something?
                                                Run the commands and watch the
                                                output.
                                            </li>
                                            <li>
                                                Development is sensible: if you
                                                have a change to your setup
                                                scripts, you can try it out from
                                                your machine. You don&#8217;t
                                                need to do anything exceptional,
                                                your machine doesn&#8217;t have
                                                to accept connections from the
                                                slave, you don&#8217;t need
                                                special instructions to keep the
                                                slave from setting itself up as
                                                a production machine,
                                                there&#8217;s no daemon that
                                                might need modifications&#8230;
                                                none of that. You change the
                                                code, you run it, it works.
                                            </li>
                                            <li>
                                                It&#8217;s just so damn simple.
                                                If you don&#8217;t start
                                                thinking about push and pull and
                                                other design choices, it simply
                                                becomes: do the obvious and easy
                                                thing.
                                            </li>
                                        </ol>
                                        <p>
                                            In conclusion: push is sensible,
                                            pull is needless complexity.
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/03/10/configuration-management-push-vs-pull/"
    dc:identifier="https://ianbicking.org/2010/03/10/configuration-management-push-vs-pull/"
    dc:title="Configuration management: push vs. pull"
    trackback:ping="https://ianbicking.org/2010/03/10/configuration-management-push-vs-pull/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 03 10</h3>
                            <p class="post-categories">
                                <a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../silverlining.1"
                                    title="View all posts in Silver Lining"
                                    rel="category tag"
                                    >Silver Lining</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/03/10/configuration-management-push-vs-pull/index.html#comments"
                                    title="Comment on Configuration management: push vs. pull"
                                    >Comments (19)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/03/10/configuration-management-push-vs-pull/index.html"
                                    title="Permalink to Configuration management: push vs. pull"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-185" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/03/10/joining-mozilla/index.html"
                                        title="Permalink to Joining Mozilla"
                                        rel="bookmark"
                                        >Joining Mozilla</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            As of last week, I am now an
                                            employee of Mozilla! Thanks to
                                            everyone who helped me out during my
                                            job search.
                                        </p>
                                        <p>
                                            I&#8217;ll be working both with the
                                            Mozilla
                                            <a
                                                class="reference external"
                                                href="http://blog.mozilla.com/webdev/"
                                                >Web Development (webdev)</a
                                            >
                                            team, and
                                            <a
                                                class="reference external"
                                                href="https://mozillalabs.com/"
                                                >Mozilla Labs</a
                                            >.
                                        </p>
                                        <p>
                                            The first thing I&#8217;ll be
                                            working on is deployment. In part
                                            because I&#8217;ve been
                                            <a
                                                class="reference external"
                                                href="../../../silverlining.1"
                                                >thinking about deployment
                                                lately</a
                                            >, in part because streamlining
                                            deployment is just generally
                                            enabling of other work (and a
                                            personal itch to be scratched), and
                                            because I think there is the
                                            possibility to fit this work into
                                            Mozilla&#8217;s
                                            <a
                                                class="reference external"
                                                href="http://www.mozilla.org/causes/"
                                                >general mission</a
                                            >, specifically
                                            <em
                                                >Empowering people to do new and
                                                unanticipated things on the
                                                web</em
                                            >. I think the way I&#8217;m
                                            approaching deployment has real
                                            potential to combine the discipline
                                            and benefits of good development
                                            practices with an accessible process
                                            that is more <em>democratic</em> and
                                            less <em>professionalized</em>. This
                                            is some of what
                                            <a
                                                class="reference external"
                                                href="../../../../index.html?p=38"
                                                >PHP has provided</a
                                            >
                                            over the years (and I think
                                            it&#8217;s been a genuinely positive
                                            influence on the web as a result);
                                            I&#8217;d like to see the same kind
                                            of easy entry using other platforms.
                                            I&#8217;m hoping
                                            <a
                                                class="reference external"
                                                href="http://cloudsilverlining.org"
                                                >Silver Lining</a
                                            >
                                            will fit both Mozilla&#8217;s
                                            application deployment needs, as
                                            well as serving a general purpose.
                                        </p>
                                        <p>
                                            Once I <em>finish</em> deployment
                                            and can move on (oh fuck what am I
                                            getting myself into) I&#8217;ll also
                                            be working with the
                                            <a
                                                class="reference external"
                                                href="http://blog.mozilla.com/webdev"
                                                >web development group</a
                                            >
                                            who has adopted Python for many of
                                            their new projects (e.g.,
                                            <a
                                                class="reference external"
                                                href="http://github.com/jbalogh/zamboni"
                                                >Zamboni</a
                                            >, a rewrite of the
                                            <a
                                                class="reference external"
                                                href="https://addons.mozilla.org/"
                                                >addons.mozilla.org</a
                                            >
                                            site), and with Mozilla Labs on
                                            <a
                                                class="reference external"
                                                href="http://mozillalabs.com/weave/"
                                                >Weave</a
                                            >
                                            or some of their other projects.
                                        </p>
                                        <p>
                                            In addition my own
                                            <a
                                                class="reference external"
                                                href="http://ianbicking.appspot.com/projects"
                                                >Python open source work</a
                                            >
                                            is in line with Mozilla&#8217;s
                                            mission and I will be able to
                                            continue spending time on those
                                            projects, as well as entirely new
                                            projects.
                                        </p>
                                        <p>
                                            I&#8217;m pretty excited about this
                                            &#8212; it feels like there&#8217;s
                                            a really good match with Mozilla and
                                            what I&#8217;m good at, and what I
                                            care about, and <em>how</em> I care
                                            about it.
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/03/10/joining-mozilla/"
    dc:identifier="https://ianbicking.org/2010/03/10/joining-mozilla/"
    dc:title="Joining Mozilla"
    trackback:ping="https://ianbicking.org/2010/03/10/joining-mozilla/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 03 10</h3>
                            <p class="post-categories">
                                <a
                                    href="../../../mozilla/index.html"
                                    title="View all posts in Mozilla"
                                    rel="category tag"
                                    >Mozilla</a
                                ><br /><a
                                    href="../../../notech/index.html"
                                    title="View all posts in Non-technical"
                                    rel="category tag"
                                    >Non-technical</a
                                ><br /><a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/03/10/joining-mozilla/index.html#comments"
                                    title="Comment on Joining Mozilla"
                                    >Comments (32)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/03/10/joining-mozilla/index.html"
                                    title="Permalink to Joining Mozilla"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-168" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/03/03/toppcloud-renamed-to-silver-lining/index.html"
                                        title="Permalink to toppcloud renamed to Silver Lining"
                                        rel="bookmark"
                                        >toppcloud renamed to Silver Lining</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            After some pondering at PyCon, I
                                            decided on a new name for toppcloud:
                                            <strong>Silver Lining</strong>.
                                            I&#8217;ll credit a mysterious
                                            commenter &quot;david&quot; with the
                                            name idea. The command line is
                                            simply
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >silver</span
                                                ></tt
                                            >
                                            &#8212;
                                            <tt class="docutils literal"
                                                ><span class="pre">silver</span>
                                                <span class="pre"
                                                    >update</span
                                                ></tt
                                            >
                                            has a nice ring to it.
                                        </p>
                                        <p>
                                            There&#8217;s a new site:
                                            <a
                                                class="reference external"
                                                href="http://cloudsilverlining.org"
                                                >cloudsilverlining.org</a
                                            >; not notably different than the
                                            old site, just a new name. The
                                            product is self-hosting now, using a
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/silverlining/"
                                                >simple app</a
                                            >
                                            that runs after every commit to
                                            regenerate the docs, and with a
                                            small extension to Silver Lining
                                            itself (to make it easier to host
                                            static files). Now that it has a
                                            real name I also gave it a
                                            <a
                                                class="reference external"
                                                href="http://groups.google.com/group/silverlining-dev"
                                                >real mailing list</a
                                            >.
                                        </p>
                                        <p>
                                            Silver Lining also has its
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/silverlining/src/tip/tests/functional/runtest.py"
                                                >first test</a
                                            >. Not an impressive test, but a
                                            test. I&#8217;m hoping with a
                                            <a
                                                class="reference external"
                                                href="http://mail-archives.apache.org/mod_mbox/incubator-libcloud/201003.mbox/browser"
                                                >VM-based libcloud backend</a
                                            >
                                            that a full integration test can run
                                            in a reasonable amount of time.
                                            <em>Some</em> unit tests would be
                                            possible, but so far most of the
                                            bugs have been interaction bugs so I
                                            think integration tests will have to
                                            pull most of the weight. (A
                                            continuous integration rig will be
                                            very useful; I am not sure if Silver
                                            Lining can self-host that, though
                                            it&#8217;d be nice/clever if it
                                            could.)
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/03/03/toppcloud-renamed-to-silver-lining/"
    dc:identifier="https://ianbicking.org/2010/03/03/toppcloud-renamed-to-silver-lining/"
    dc:title="toppcloud renamed to Silver Lining"
    trackback:ping="https://ianbicking.org/2010/03/03/toppcloud-renamed-to-silver-lining/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 03 03</h3>
                            <p class="post-categories">
                                <a
                                    href="../../../packaging/index.html"
                                    title="View all posts in Packaging"
                                    rel="category tag"
                                    >Packaging</a
                                ><br /><a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../../silverlining.1"
                                    title="View all posts in Silver Lining"
                                    rel="category tag"
                                    >Silver Lining</a
                                ><br /><a
                                    href="../../../web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/03/03/toppcloud-renamed-to-silver-lining/index.html#comments"
                                    title="Comment on toppcloud renamed to Silver Lining"
                                    >Comments (7)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/03/03/toppcloud-renamed-to-silver-lining/index.html"
                                    title="Permalink to toppcloud renamed to Silver Lining"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-164" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/03/01/throw-out-your-frameworks-forms-included/index.html"
                                        title="Permalink to Throw out your frameworks! (forms included)"
                                        rel="bookmark"
                                        >Throw out your frameworks! (forms
                                        included)</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            No, I should say
                                            <em>forms particularly</em>.
                                        </p>
                                        <p>
                                            I have lots of things to blog about,
                                            but nothing makes me want to blog
                                            like <em>code</em>. Ideas are hard,
                                            code is easy. So when I saw
                                            <a
                                                class="reference external"
                                                href="http://jacobian.org/writing/dynamic-form-generation/"
                                                >Jacob&#8217;s writeup about
                                                dynamic Django form
                                                generation</a
                                            >
                                            I felt a desire to respond. I
                                            didn&#8217;t see the form panel at
                                            PyCon (I intended to but I hardly
                                            saw <em>any</em> talks at PyCon, and
                                            yet still didn&#8217;t even see a
                                            good number of the people I wanted
                                            to see), but as the author of an
                                            <a
                                                class="reference external"
                                                href="http://formencode.org/htmlfill.html"
                                                >ungenerator</a
                                            >
                                            and as a general
                                            <a
                                                class="reference external"
                                                href="../../../../on-form-libraries.html"
                                                >form library skeptic</a
                                            >
                                            I have a somewhat different
                                            perspective on the topic.
                                        </p>
                                        <p>
                                            The example created for the panel
                                            might display that perspective. You
                                            should go read
                                            <a
                                                class="reference external"
                                                href="http://jacobian.org/writing/dynamic-form-generation/"
                                                >Jacob&#8217;s description</a
                                            >; but basically it&#8217;s a simple
                                            registration form with a dynamic set
                                            of questions to ask.
                                        </p>
                                        <p>
                                            I have created a
                                            <a
                                                class="reference external"
                                                href="http://svn.colorstudy.com/home/ianb/formencode_answer.py"
                                                >complete example</a
                                            >, because I wanted to be sure I
                                            wasn&#8217;t skipping anything, but
                                            I&#8217;ll present a trimmed-down
                                            version.
                                        </p>
                                        <p>First, the basic control logic:</p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">from</span>
                                            webob.<span class="me1">dec</span>
                                            <span class="kw1">import</span>
                                            wsgify<br />
                                            <span class="kw1">from</span> webob
                                            <span class="kw1">import</span>
                                            exc<br />
                                            <span class="kw1">from</span>
                                            formencode
                                            <span class="kw1">import</span>
                                            htmlfill<br />
                                            <br />
                                            @<span class="co1">wsgify</span
                                            ><br />
                                            <span class="kw1">def</span>
                                            questioner<span class="br0"
                                                >&#40;</span
                                            >req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; questions =
                                            get_questions<span class="br0"
                                                >&#40;</span
                                            >req<span class="br0">&#41;</span>
                                            <span class="co1"
                                                ># This is provided as part of
                                                the example</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            req.<span class="me1">method</span>
                                            ==
                                            <span class="st0">'POST'</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; errors =
                                            validate<span class="br0"
                                                >&#40;</span
                                            >req, questions<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            <span class="kw1">not</span>
                                            errors:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp; ...
                                            <span class="me1">save</span>
                                            response ...<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp;
                                            <span class="kw1">return</span>
                                            exc.<span class="me1"
                                                >HTTPFound</span
                                            ><span class="br0">&#40;</span
                                            >location=<span class="st0"
                                                >'/thanks'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">else</span>:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; errors =
                                            <span class="br0">&#123;</span
                                            ><span class="br0">&#125;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="co1"
                                                >## Here's the &quot;form
                                                generation&quot;:</span
                                            ><br />
                                            &nbsp; &nbsp; page =
                                            page_template.<span class="me1"
                                                >substitute</span
                                            ><span class="br0">&#40;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            action=req.<span class="me1"
                                                >url</span
                                            >,<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            questions=questions<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; page = htmlfill.<span
                                                class="me1"
                                                >render</span
                                            ><span class="br0">&#40;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; page,<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            defaults=req.<span class="me1"
                                                >POST</span
                                            >,<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            errors=errors<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            Response<span class="br0"
                                                >&#40;</span
                                            >page<span class="br0">&#41;</span
                                            ><br />
                                            <br />
                                            <span class="kw1">def</span>
                                            validate<span class="br0"
                                                >&#40;</span
                                            >req, questions<span class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="co1"
                                                ># All manual, but do it however
                                                you want:</span
                                            ><br />
                                            &nbsp; &nbsp; errors =
                                            <span class="br0">&#123;</span
                                            ><span class="br0">&#125;</span
                                            ><br />
                                            &nbsp; &nbsp; form = req.<span
                                                class="me1"
                                                >POST</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            <span class="br0">&#40;</span
                                            >form.<span class="me1">get</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'password'</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">and</span>
                                            form<span class="br0">&#91;</span
                                            ><span class="st0">'password'</span
                                            ><span class="br0">&#93;</span> !=
                                            form.<span class="me1">get</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0"
                                                >'password_confirm'</span
                                            ><span class="br0">&#41;</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            errors<span class="br0">&#91;</span
                                            ><span class="st0"
                                                >'password_confirm'</span
                                            ><span class="br0">&#93;</span> =
                                            <span class="st0"
                                                >'Passwords do not match'</span
                                            ><br />
                                            &nbsp; &nbsp; fields = questions +
                                            <span class="br0">&#91;</span
                                            ><span class="st0">'username'</span
                                            >,
                                            <span class="st0">'password'</span
                                            ><span class="br0">&#93;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">for</span> field
                                            <span class="kw1">in</span>
                                            fields:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">if</span>
                                            <span class="kw1">not</span>
                                            form.<span class="me1">get</span
                                            ><span class="br0">&#40;</span
                                            >field<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp; errors<span class="br0"
                                                >&#91;</span
                                            >field<span class="br0">&#93;</span>
                                            =
                                            <span class="st0"
                                                >'Please enter a value'</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            errors<br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            I&#8217;ve just manually handled
                                            validation here. I don&#8217;t feel
                                            like doing it with FormEncode.
                                            Manual validation isn&#8217;t that
                                            big a deal; FormEncode would just
                                            produce the same
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >errors</span
                                                ></tt
                                            >
                                            dictionary anyway. In this case (as
                                            in many form validation cases) you
                                            can&#8217;t do better than
                                            hand-written validation code:
                                            it&#8217;s shorter, more
                                            self-contained, and easier to tweak.
                                        </p>
                                        <p>
                                            After validation the template is
                                            rendered:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            page = page_template.<span
                                                class="me1"
                                                >substitute</span
                                            ><span class="br0">&#40;</span
                                            ><br />
                                            &nbsp; &nbsp; action=req.<span
                                                class="me1"
                                                >url</span
                                            >,<br />
                                            &nbsp; &nbsp;
                                            questions=questions<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            I&#8217;m using
                                            <a
                                                class="reference external"
                                                href="http://pythonpaste.org/tempita/"
                                                >Tempita</a
                                            >, but it really doesn&#8217;t
                                            matter. The template looks like
                                            this:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            &lt;form action=<span class="st0"
                                                >&quot;{{action}}&quot;</span
                                            >
                                            method=<span class="st0"
                                                >&quot;POST&quot;</span
                                            >&gt;<br />
                                            New Username: &lt;input
                                            <span class="kw2">type</span>=<span
                                                class="st0"
                                                >&quot;text&quot;</span
                                            >
                                            name=<span class="st0"
                                                >&quot;username&quot;</span
                                            >&gt;&lt;br /&gt;<br />
                                            Password: &lt;input
                                            <span class="kw2">type</span>=<span
                                                class="st0"
                                                >&quot;password&quot;</span
                                            >
                                            name=<span class="st0"
                                                >&quot;password&quot;</span
                                            >&gt;&lt;br /&gt;<br />
                                            Repeat Password:<br />
                                            &nbsp; &lt;input
                                            <span class="kw2">type</span>=<span
                                                class="st0"
                                                >&quot;password&quot;</span
                                            >
                                            name=<span class="st0"
                                                >&quot;password_confirm&quot;</span
                                            >&gt;&lt;br /&gt;<br />
                                            <span class="br0">&#123;</span
                                            ><span class="br0">&#123;</span
                                            ><span class="kw1">for</span>
                                            question
                                            <span class="kw1">in</span>
                                            questions<span class="br0"
                                                >&#125;</span
                                            ><span class="br0">&#125;</span
                                            ><br />
                                            &nbsp;
                                            <span class="br0">&#123;</span
                                            ><span class="br0">&#123;</span
                                            >question<span class="br0"
                                                >&#125;</span
                                            ><span class="br0">&#125;</span>:
                                            &lt;input
                                            <span class="kw2">type</span>=<span
                                                class="st0"
                                                >&quot;text&quot;</span
                                            >
                                            name=<span class="st0"
                                                >&quot;{{question}}&quot;</span
                                            >&gt;&lt;br /&gt;<br />
                                            <span class="br0">&#123;</span
                                            ><span class="br0">&#123;</span
                                            >endfor<span class="br0"
                                                >&#125;</span
                                            ><span class="br0">&#125;</span
                                            ><br />
                                            &lt;input
                                            <span class="kw2">type</span>=<span
                                                class="st0"
                                                >&quot;submit&quot;</span
                                            >&gt;<br />
                                            &lt;/form&gt;<br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            Note that the only &quot;logic&quot;
                                            here is to render the form to
                                            include fields for all the
                                            questions. Obviously this produces
                                            an ugly form, but it&#8217;s
                                            <em>very obvious</em> how you make
                                            this form pretty, and how to tweak
                                            it in any way you might want. Also
                                            if you have deeper dynamicism (e.g.,
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >get_questions</span
                                                ></tt
                                            >
                                            start returning the type of response
                                            required, or weird validation, or
                                            whatever) it&#8217;s
                                            <em>very obvious</em> where that
                                            change would go: display logic goes
                                            in the form, validation logic goes
                                            in that validate function.
                                        </p>
                                        <p>
                                            This just gives you the raw form.
                                            You wouldn&#8217;t need a template
                                            at all if it wasn&#8217;t for the
                                            dynamicism. Everything else is added
                                            when the form is &quot;filled&quot;:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            page = htmlfill.<span class="me1"
                                                >render</span
                                            ><span class="br0">&#40;</span
                                            ><br />
                                            &nbsp; &nbsp; page,<br />
                                            &nbsp; &nbsp; defaults=req.<span
                                                class="me1"
                                                >POST</span
                                            >,<br />
                                            &nbsp; &nbsp; errors=errors<span
                                                class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            How exactly you want to calculate
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >defaults</span
                                                ></tt
                                            >
                                            is up to the application; you might
                                            want query string variables to be
                                            able to pre-fill the form (use
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >req.params</span
                                                ></tt
                                            >), you might want the form bare to
                                            start (like here with
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >req.POST</span
                                                ></tt
                                            >), you can easily implement wizards
                                            by stuffing
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >req.POST</span
                                                ></tt
                                            >
                                            into the session to repeat a form,
                                            you might read the defaults out of a
                                            user object to make this an edit
                                            form. And errors are just handled
                                            automatically, inserted into the
                                            HTML with appropriate CSS classes.
                                        </p>
                                        <p>
                                            A great aspect of this
                                            <em>pattern</em> if you use it
                                            (I&#8217;m not even sure it deserves
                                            the moniker <em>library</em>): when
                                            <a
                                                class="reference external"
                                                href="http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#forms"
                                                >HTML 5 Forms</a
                                            >
                                            finally come around and we can all
                                            stop doing this stupid server-side
                                            overthought nonsense,
                                            <strong>you</strong> won&#8217;t
                                            have overthought your forms. Your
                                            mind will be free and ready to
                                            accept that the world has actually
                                            become simpler, not more
                                            complicated, and that there is
                                            knowledge worth forgetting (forms
                                            are so freakin&#8217; stupid!) If at
                                            all possible, dodging complexity is
                                            far better than cleverly responding
                                            to complexity.
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/03/01/throw-out-your-frameworks-forms-included/"
    dc:identifier="https://ianbicking.org/2010/03/01/throw-out-your-frameworks-forms-included/"
    dc:title="Throw out your frameworks! (forms included)"
    trackback:ping="https://ianbicking.org/2010/03/01/throw-out-your-frameworks-forms-included/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 03 01</h3>
                            <p class="post-categories">
                                <a
                                    href="../../../html/index.html"
                                    title="View all posts in HTML"
                                    rel="category tag"
                                    >HTML</a
                                ><br /><a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../../web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/03/01/throw-out-your-frameworks-forms-included/index.html#comments"
                                    title="Comment on Throw out your frameworks! (forms included)"
                                    >Comments (27)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/03/01/throw-out-your-frameworks-forms-included/index.html"
                                    title="Permalink to Throw out your frameworks! (forms included)"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-158" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/02/10/why-toppcloud-not-agnostic/index.html"
                                        title="Permalink to Why toppcloud (Silver Lining) will not be agnostic"
                                        rel="bookmark"
                                        >Why toppcloud (Silver Lining) will not
                                        be agnostic</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            I haven&#8217;t received a great
                                            deal of <em>specific</em> feedback
                                            on toppcloud
                                            (<strong>update</strong>: renamed
                                            Silver Lining), only a few people
                                            (Ben Bangert, Jorge Vargas) seem to
                                            have really dived deeply into it.
                                            But &#8212; and this is not
                                            unexpected &#8212; I have already
                                            gotten several requests about making
                                            it more agnostic with respect
                                            to&#8230; stuff. Maybe that it not
                                            (at least forever) require Ubuntu.
                                            Or maybe that it should support
                                            different process models (e.g.,
                                            threaded and multiple processes). Or
                                            other versions of Python.
                                        </p>
                                        <p>
                                            The more I think about it, and the
                                            more I work with the tool, the more
                                            confident I am that toppcloud should
                                            not be agnostic on these issues.
                                            This is not so much about an
                                            &quot;opinionated&quot; tool;
                                            toppcloud is not actually very
                                            opinionated. It&#8217;s about a
                                            well-understood system.
                                        </p>
                                        <p>
                                            For instance, Ben noticed a problem
                                            recently with
                                            <a
                                                class="reference external"
                                                href="http://code.google.com/p/modwsgi/issues/detail?id=177"
                                                >weird import errors</a
                                            >. I don&#8217;t know
                                            <em>quite</em> why mod_wsgi has this
                                            particular problem (when other WSGI
                                            servers that I&#8217;ve used
                                            haven&#8217;t), but the fix
                                            isn&#8217;t that hard. So Ben
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/toppcloud/changeset/27a470352a5e/"
                                                >committed a fix</a
                                            >
                                            and the problem went away.
                                        </p>
                                        <p>
                                            Personally I think this is a bug
                                            with mod_wsgi. Maybe it&#8217;s also
                                            a Python bug. But it doesn&#8217;t
                                            really matter. When a bug exists it
                                            &quot;belongs&quot; to everyone who
                                            encounters it.
                                        </p>
                                        <p>
                                            toppcloud is not intended to be a
                                            transparent system. When it&#8217;s
                                            working correctly, you should be
                                            able to ignore most of the system
                                            and concentrate on the relatively
                                            simple abstractions given to your
                                            application. So if the configuration
                                            reveals this particular bug in
                                            Python/mod_wsgi, then the bug is
                                            essentially a toppcloud bug, and
                                            toppcloud should (and <em>can</em>)
                                            fix it.
                                        </p>
                                        <p>
                                            A more flexible system can ignore
                                            such problems as being
                                            &quot;somewhere else&quot; in the
                                            system. Or, if you don&#8217;t
                                            define these problems as someone
                                            else&#8217;s problem, then a more
                                            flexible system is essentially
                                            always broken somewhere; there is
                                            always some untested combination,
                                            some new component, or some old
                                            component that might get pushed into
                                            the mix. Fixes for one
                                            person&#8217;s problem may introduce
                                            a new problem in someone
                                            else&#8217;s stack. Some fixes
                                            aren&#8217;t even clear. toppcloud
                                            has Varnish in place, so it&#8217;s
                                            quite clear where a
                                            <a
                                                class="reference external"
                                                href="http://bitbucket.org/ianb/toppcloud/changeset/614d5366be67/"
                                                >fix related to Django and
                                                Varnish configuration goes</a
                                            >. If these were each components
                                            developed by different people at
                                            different times (like with buildout
                                            recipes) then fixing something like
                                            this could get complicated.
                                        </p>
                                        <p>
                                            So I feel very resolved: toppcloud
                                            will hardcode everything it possibly
                                            can. Python 2.6 and only 2.6! (Until
                                            2.7, but then
                                            <strong>only 2.7</strong>!). Only
                                            Varnish/Apache/mod_wsgi. I
                                            haven&#8217;t figured out
                                            threads/processes exactly, but once
                                            I do, there will be only one way!
                                            And if I get it wrong, then everyone
                                            (<strong>everyone</strong>) will
                                            have to switch when it is corrected!
                                            Because I&#8217;d much rather have a
                                            system that is inflexible than one
                                            that doesn&#8217;t work. With a
                                            clear and solid design I think it is
                                            feasible to get this to work, and
                                            that is no small feat.
                                        </p>
                                        <p>
                                            Relatedly,
                                            <a
                                                class="reference external"
                                                href="../../../../2010/02/09/leaving-topp/comment-page-1/index.html#comment-151194"
                                                >I think I&#8217;m going to
                                                change the name of toppcloud</a
                                            >, so ideas are welcome!
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/02/10/why-toppcloud-not-agnostic/"
    dc:identifier="https://ianbicking.org/2010/02/10/why-toppcloud-not-agnostic/"
    dc:title="Why toppcloud (Silver Lining) will not be agnostic"
    trackback:ping="https://ianbicking.org/2010/02/10/why-toppcloud-not-agnostic/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 02 10</h3>
                            <p class="post-categories">
                                <a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../../silverlining.1"
                                    title="View all posts in Silver Lining"
                                    rel="category tag"
                                    >Silver Lining</a
                                ><br /><a
                                    href="../../../web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/02/10/why-toppcloud-not-agnostic/index.html#comments"
                                    title="Comment on Why toppcloud (Silver Lining) will not be agnostic"
                                    >Comments (23)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/02/10/why-toppcloud-not-agnostic/index.html"
                                    title="Permalink to Why toppcloud (Silver Lining) will not be agnostic"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-143" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/02/05/toppcloud-and-django/index.html"
                                        title="Permalink to toppcloud (Silver Lining) and Django"
                                        rel="bookmark"
                                        >toppcloud (Silver Lining) and Django</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            I wrote up instructions on using
                                            <a
                                                class="reference external"
                                                href="../../../../2010/01/29/new-way-to-deploy-web-apps/index.html"
                                                >toppcloud</a
                                            >
                                            (<strong>update</strong>: renamed
                                            Silver Lining) with Django. They are
                                            <a
                                                class="reference external"
                                                href="http://toppcloud.colorstudy.com/django-quickstart.html"
                                                >up on the site</a
                                            >
                                            (where they will be updated in the
                                            future), but I&#8217;ll drop them
                                            here too&#8230;
                                        </p>
                                        <div
                                            class="section"
                                            id="creating-a-layout"
                                        >
                                            <h2>Creating a Layout</h2>
                                            <p>
                                                First thing you have to do
                                                (after installing toppcloud of
                                                course) is create an environment
                                                for your new application. Do
                                                that like:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ toppcloud init sampleapp<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                This creates a directory
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp/</span
                                                    ></tt
                                                >
                                                with a basic layout. The first
                                                thing we&#8217;ll do is set up
                                                version control for our project.
                                                For the sake of documentation,
                                                imagine you go to
                                                <a
                                                    class="reference external"
                                                    href="http://bitbucket.org"
                                                    >bitbucket</a
                                                >
                                                and create two new repositories,
                                                one called
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp</span
                                                    ></tt
                                                >
                                                and another called
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp-lib</span
                                                    ></tt
                                                >
                                                (and for the examples
                                                we&#8217;ll use the username
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >USER</span
                                                    ></tt
                                                >).
                                            </p>
                                            <p>
                                                We&#8217;ll go into our new
                                                environment and use these:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $
                                                <span class="kw3">cd</span>
                                                sampleapp<br />
                                                $ hg clone
                                                http://bitbucket.<span
                                                    class="me1"
                                                    >org</span
                                                >/USER/sampleapp
                                                src/sampleapp<br />
                                                $ rm -r lib/python/<br />
                                                $ hg clone
                                                http://bitbucket.<span
                                                    class="me1"
                                                    >org</span
                                                >/USER/sampleapp-lib
                                                lib/python<br />
                                                $ mkdir lib/python/bin/<br />
                                                $ echo
                                                <span class="st0"
                                                    >&quot;syntax: glob<br />
                                                    bin/python*<br />
                                                    bin/activate<br />
                                                    bin/activate_this.py<br />
                                                    bin/pip<br />
                                                    bin/easy_install*<br />
                                                    &quot;</span
                                                >
                                                &gt; lib/python/.<span
                                                    class="me1"
                                                    >hgignore</span
                                                ><br />
                                                $ mv bin/* lib/python/bin/<br />
                                                $ rmdir bin/<br />
                                                $ ln -s lib/python/bin bin<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now there is a basic layout
                                                setup, with all your libraries
                                                going into the
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp-lib</span
                                                    ></tt
                                                >
                                                repository, and your main
                                                application in the
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp</span
                                                    ></tt
                                                >
                                                repository.
                                            </p>
                                            <p>
                                                Next we&#8217;ll install Django:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ source bin/activate<br />
                                                $ pip install Django<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Then we&#8217;ll set up a
                                                standard Django site:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $
                                                <span class="kw3">cd</span>
                                                src/sampleapp<br />
                                                $ django-admin.<span class="me1"
                                                    >py</span
                                                >
                                                sampleapp<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Also we&#8217;d like to be able
                                                to import this file. It&#8217;d
                                                be nice if there was a
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >setup.py</span
                                                    ></tt
                                                >
                                                file, and we could run
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >pip</span
                                                    >
                                                    <span class="pre">-e</span>
                                                    <span class="pre"
                                                        >src/sampleapp</span
                                                    ></tt
                                                >, but
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >django-admin.py</span
                                                    ></tt
                                                >
                                                doesn&#8217;t create that
                                                itself. Instead we&#8217;ll get
                                                that on the import path more
                                                manually with a
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >.pth</span
                                                    ></tt
                                                >
                                                file:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >&quot;../../src/sampleapp&quot;</span
                                                >
                                                &gt; lib/python/sampleapp.<span
                                                    class="me1"
                                                    >pth</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Also there&#8217;s the tricky
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >$DJANGO_SETTINGS_MODULE</span
                                                    ></tt
                                                >
                                                that you might have had problems
                                                with before. We&#8217;ll use the
                                                file
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >lib/python/toppcustomize.py</span
                                                    ></tt
                                                >
                                                (which is imported everytime
                                                Python is started) to make sure
                                                that is always set:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >&quot;import os<br />
                                                    os.environ['DJANGO_SETTINGS_MODULE']
                                                    = 'sampleapp.settings'<br />
                                                    &quot;</span
                                                >
                                                &gt;
                                                lib/python/toppcustomize.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Also we have a file
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/manage.py</span
                                                    ></tt
                                                >, and that file doesn&#8217;t
                                                work <em>quite</em> how
                                                we&#8217;d like. Instead
                                                we&#8217;ll put a file into
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >bin/manage.py</span
                                                    ></tt
                                                >
                                                that does the same thing:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ rm sampleapp/manage.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                $
                                                <span class="kw3">cd</span>
                                                ../..<br />
                                                $ echo
                                                <span class="st0"
                                                    >'#!/usr/bin/env python<br />
                                                    from django.core.management
                                                    import execute_manager<br />
                                                    from sampleapp import
                                                    settings<br />
                                                    if __name__ ==
                                                    &quot;__main__&quot;:<br />
                                                    &nbsp; &nbsp;
                                                    execute_manager(settings)<br />
                                                    '</span
                                                >
                                                &gt; bin/manage.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                $ chmod +x bin/manage.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now, if you were just using
                                                plain Django you&#8217;d do
                                                something like run
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >python</span
                                                    >
                                                    <span class="pre"
                                                        >manage.py</span
                                                    >
                                                    <span class="pre"
                                                        >runserver</span
                                                    ></tt
                                                >. But we&#8217;ll be using
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >serve</span
                                                    ></tt
                                                >
                                                instead, which means we have to
                                                set up the two other files
                                                toppcloud needs:
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >
                                                and the runner. Here&#8217;s a
                                                simple
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >'[production]<br />
                                                    app_name = sampleapp<br />
                                                    version = 1<br />
                                                    runner =
                                                    src/sampleapp/toppcloud-runner.py<br />
                                                    '</span
                                                >
                                                &gt;
                                                src/sampleapp/toppcloud-app.<span
                                                    class="me1"
                                                    >ini</span
                                                ><br />
                                                $ rm app.<span class="me1"
                                                    >ini</span
                                                ><br />
                                                $ ln -s
                                                src/sampleapp/toppcloud-app.<span
                                                    class="me1"
                                                    >ini</span
                                                >
                                                app.<span class="me1">ini</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                The file <em>must</em> be in the
                                                &quot;root&quot; of your
                                                application, and named
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >, but it&#8217;s good to keep
                                                it in version control, so we set
                                                it up with a symlink.
                                            </p>
                                            <p>
                                                It also refers to a
                                                &quot;runner&quot;, which is the
                                                Python file that loads up the
                                                WSGI application. This looks
                                                about the same for any Django
                                                application, and we&#8217;ll put
                                                it in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/toppcloud-runner.py</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ echo
                                                <span class="st0"
                                                    >'import
                                                    django.core.handlers.wsgi<br />
                                                    application =
                                                    django.core.handlers.wsgi.WSGIHandler()<br />
                                                    '</span
                                                >
                                                &gt;
                                                src/sampleapp/toppcloud-runner.<span
                                                    class="me1"
                                                    >py</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now if you want to run the
                                                application, you can:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ toppcloud serve .<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                This will load it up on
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >http://localhost:8080</span
                                                    ></tt
                                                >, and serve up a boring page.
                                                To do something interesting
                                                we&#8217;ll want to use a
                                                database.
                                            </p>
                                        </div>
                                        <div
                                            class="section"
                                            id="setting-up-a-database"
                                        >
                                            <h2>Setting Up A Database</h2>
                                            <p>
                                                At the moment the only good
                                                database to use is PostgreSQL
                                                with the PostGIS extensions. Add
                                                this line to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >app.ini</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                service.<span class="me1"
                                                    >postgis</span
                                                >
                                                =<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                This makes the database
                                                &quot;available&quot; to the
                                                application. For development you
                                                still have to set it up
                                                yourself. You should create a
                                                database
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >sampleapp</span
                                                    ></tt
                                                >
                                                on your computer.
                                            </p>
                                            <p>
                                                Next, we&#8217;ll need to change
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >settings.py</span
                                                    ></tt
                                                >
                                                to use the new database
                                                configuration. Here&#8217;s the
                                                lines that you&#8217;ll see:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                DATABASE_ENGINE =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp;
                                                <span class="co1"
                                                    ># 'postgresql_psycopg2',
                                                    'postgresql', 'mysql',
                                                    'sqlite3' or 'oracle'.</span
                                                ><br />
                                                DATABASE_NAME =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Or path to database file
                                                    if using sqlite3.</span
                                                ><br />
                                                DATABASE_USER =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Not used with
                                                    sqlite3.</span
                                                ><br />
                                                DATABASE_PASSWORD =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Not used with
                                                    sqlite3.</span
                                                ><br />
                                                DATABASE_HOST =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Set to empty string for
                                                    localhost. Not used with
                                                    sqlite3.</span
                                                ><br />
                                                DATABASE_PORT =
                                                <span class="st0">''</span>
                                                &nbsp; &nbsp; &nbsp; &nbsp;
                                                &nbsp; &nbsp;
                                                <span class="co1"
                                                    ># Set to empty string for
                                                    default. Not used with
                                                    sqlite3.</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                First add this to the top of the
                                                file:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                <span class="kw1">import</span>
                                                <span class="kw3">os</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Then you&#8217;ll change those
                                                lines to:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                DATABASE_ENGINE =
                                                <span class="st0"
                                                    >'postgresql_psycopg2'</span
                                                ><br />
                                                DATABASE_NAME =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_DBNAME'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_USER =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_USER'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_PASSWORD =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_PASSWORD'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_HOST =
                                                <span class="kw3">os</span
                                                >.<span class="me1"
                                                    >environ</span
                                                ><span class="br0">&#91;</span
                                                ><span class="st0"
                                                    >'CONFIG_PG_HOST'</span
                                                ><span class="br0">&#93;</span
                                                ><br />
                                                DATABASE_PORT =
                                                <span class="st0">''</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now we can create all the
                                                default tables:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ manage.<span class="me1"
                                                    >py</span
                                                >
                                                syncdb<br />
                                                Creating table
                                                auth_permission<br />
                                                Creating table auth_group<br />
                                                Creating table auth_user<br />
                                                Creating table auth_message<br />
                                                Creating table
                                                django_content_type<br />
                                                Creating table django_session<br />
                                                Creating table django_site<br />
                                                ...<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now we have an empty project
                                                that doesn&#8217;t do anything.
                                                Let&#8217;s make it do a little
                                                something (this is all really
                                                based on
                                                <a
                                                    class="reference external"
                                                    href="http://docs.djangoproject.com/en/dev/intro/tutorial01/"
                                                    >the Django tutorial</a
                                                >).
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $ manage.<span class="me1"
                                                    >py</span
                                                >
                                                startapp polls<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Django magically knows to put
                                                the code in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/polls/</span
                                                    ></tt
                                                >
                                                &#8212; we&#8217;ll setup the
                                                model in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/polls/models.py</span
                                                    ></tt
                                                >:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                <span class="kw1">from</span>
                                                django.<span class="me1"
                                                    >db</span
                                                >
                                                <span class="kw1">import</span>
                                                models<br />
                                                <br />
                                                <span class="kw1">class</span>
                                                Poll<span class="br0"
                                                    >&#40;</span
                                                >models.<span class="me1"
                                                    >Model</span
                                                ><span class="br0">&#41;</span
                                                >:<br />
                                                &nbsp; &nbsp; question =
                                                models.<span class="me1"
                                                    >CharField</span
                                                ><span class="br0">&#40;</span
                                                >max_length=<span class="nu0"
                                                    >200</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp; &nbsp; pub_date =
                                                models.<span class="me1"
                                                    >DateTimeField</span
                                                ><span class="br0">&#40;</span
                                                ><span class="st0"
                                                    >'date published'</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                <br />
                                                <span class="kw1">class</span>
                                                Choice<span class="br0"
                                                    >&#40;</span
                                                >models.<span class="me1"
                                                    >Model</span
                                                ><span class="br0">&#41;</span
                                                >:<br />
                                                &nbsp; &nbsp; poll =
                                                models.<span class="me1"
                                                    >ForeignKey</span
                                                ><span class="br0">&#40;</span
                                                >Poll<span class="br0"
                                                    >&#41;</span
                                                ><br />
                                                &nbsp; &nbsp; choice =
                                                models.<span class="me1"
                                                    >CharField</span
                                                ><span class="br0">&#40;</span
                                                >max_length=<span class="nu0"
                                                    >200</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp; &nbsp; votes =
                                                models.<span class="me1"
                                                    >IntegerField</span
                                                ><span class="br0">&#40;</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                And activate the application by
                                                adding
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >'sampleapp.polls'</span
                                                    ></tt
                                                >
                                                to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >INSTALLED_APPS</span
                                                    ></tt
                                                >
                                                in
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/settings.py</span
                                                    ></tt
                                                >. Also add
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >'django.contrib.admin'</span
                                                    ></tt
                                                >
                                                to get the admin app in place.
                                                Run
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >manage.py</span
                                                    >
                                                    <span class="pre"
                                                        >syncdb</span
                                                    ></tt
                                                >
                                                to get the tables in place.
                                            </p>
                                            <p>
                                                You can try
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >serve</span
                                                    >
                                                    <span class="pre"
                                                        >.</span
                                                    ></tt
                                                >
                                                and go to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >/admin/</span
                                                    ></tt
                                                >
                                                to login and see your tables.
                                                You might notice all the CSS is
                                                broken.
                                            </p>
                                            <p>
                                                toppcloud serves static files
                                                out of the
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >static/</span
                                                    ></tt
                                                >
                                                directory. You don&#8217;t
                                                actually put
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >static</span
                                                    ></tt
                                                >
                                                in the URLs, these files are
                                                available at the top-level
                                                (unless you create a
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >static/static/</span
                                                    ></tt
                                                >
                                                directory). The best way to put
                                                files in there is generally
                                                symbolic links.
                                            </p>
                                            <p>For Django admin, do this:</p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                $
                                                <span class="kw3">cd</span>
                                                static<br />
                                                $ ln -s
                                                ../lib/python/django/contrib/admin/media
                                                admin-media<br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Now edit
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >src/sampleapp/sampleapp/settings.py</span
                                                    ></tt
                                                >
                                                and change
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >ADMIN_MEDIA_PREFIX</span
                                                    ></tt
                                                >
                                                to
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >'/admin-media'</span
                                                    ></tt
                                                >.
                                            </p>
                                            <p>
                                                (Probably some other links
                                                should be added.)
                                            </p>
                                            <p>
                                                One <em>last</em> little thing
                                                you might want to do; replace
                                                this line in<br />
                                                settings:
                                            </p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                SECRET_KEY =
                                                <span class="st0"
                                                    >'ASF#&amp;#64;$&amp;#64;#JFAS#&amp;#64;'</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>With this:</p>
                                            <div
                                                class="dean_ch"
                                                style="white-space: wrap"
                                            >
                                                <br />
                                                <span class="kw1">from</span>
                                                tcsupport.<span class="me1"
                                                    >secret</span
                                                >
                                                <span class="kw1">import</span>
                                                get_secret<br />
                                                SECRET_KEY = get_secret<span
                                                    class="br0"
                                                    >&#40;</span
                                                ><span class="br0">&#41;</span
                                                ><br />
                                                &nbsp;
                                            </div>
                                            <p>
                                                Then you don&#8217;t have to
                                                worry about checking a secret
                                                into version control.
                                            </p>
                                            <p>
                                                You still don&#8217;t really
                                                have an application, but the
                                                rest is mere
                                                &quot;programming&quot; so have
                                                at it!
                                            </p>
                                        </div>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/02/05/toppcloud-and-django/"
    dc:identifier="https://ianbicking.org/2010/02/05/toppcloud-and-django/"
    dc:title="toppcloud (Silver Lining) and Django"
    trackback:ping="https://ianbicking.org/2010/02/05/toppcloud-and-django/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 02 05</h3>
                            <p class="post-categories">
                                <a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../../silverlining.1"
                                    title="View all posts in Silver Lining"
                                    rel="category tag"
                                    >Silver Lining</a
                                ><br /><a
                                    href="../../../web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/02/05/toppcloud-and-django/index.html#comments"
                                    title="Comment on toppcloud (Silver Lining) and Django"
                                    >Comments (2)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/02/05/toppcloud-and-django/index.html"
                                    title="Permalink to toppcloud (Silver Lining) and Django"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-132" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2010/01/29/new-way-to-deploy-web-apps/index.html"
                                        title="Permalink to A new way to deploy web applications"
                                        rel="bookmark"
                                        >A new way to deploy web applications</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            Deployment is one of the things I
                                            like least about development, and
                                            yet without deployment the
                                            development doesn&#8217;t really
                                            matter.
                                        </p>
                                        <p>
                                            I&#8217;ve tried a few things (e.g.
                                            <a
                                                class="reference external"
                                                href="../../../../2008/06/19/my-experience-writing-a-build-system/index.html"
                                                >fassembler</a
                                            >), built a few things (<a
                                                class="reference external"
                                                href="http://virtualenv.openplans.org"
                                                >virtualenv</a
                                            >,
                                            <a
                                                class="reference external"
                                                href="http://pip.openplans.org"
                                                >pip</a
                                            >), but deployment just sucked
                                            <em>less</em> as a result. Then I
                                            got excited about
                                            <a
                                                class="reference external"
                                                href="http://appengine.google.com"
                                                >App Engine</a
                                            >; everyone else was getting excited
                                            about &quot;scaling&quot;, but
                                            really I was
                                            <a
                                                class="reference external"
                                                href="../../../../2008/04/09/app-engine-and-open-source/index.html"
                                                >excited about an accessible
                                                deployment process</a
                                            >. When it comes to deployment App
                                            Engine is the first thing that has
                                            really felt good to me.
                                        </p>
                                        <p>
                                            <strong>But</strong> I can&#8217;t
                                            actually <em>use</em> App Engine. I
                                            was able to come to terms with the
                                            idea of writing an application to
                                            the platform, but there are
                                            limits&#8230; and with App Engine
                                            there were simply too many limits.
                                            Geo stuff on App Engine is at best a
                                            crippled hack, I miss
                                            <a
                                                class="reference external"
                                                href="http://codespeak.net/lxml/"
                                                >lxml</a
                                            >
                                            terribly, I never hated relational
                                            databases, and almost nothing large
                                            works without some degree of
                                            rewriting. Sometimes you can work
                                            around it, but you can never be sure
                                            you won&#8217;t hit some wall later.
                                            And frankly working around the
                                            platform is tiring and not very
                                            rewarding.
                                        </p>
                                        <hr class="docutils" />
                                        <p>
                                            So&#8230; App Engine seemed neat,
                                            but I couldn&#8217;t use it, and
                                            deployment was still a problem.
                                        </p>
                                        <p>
                                            What I like about App Engine: an
                                            application is just files.
                                            There&#8217;s no build process, no
                                            fancy copying of things in weird
                                            locations, nothing like that; you
                                            upload files, and uploading files
                                            <em>just works</em>. Also, you can
                                            check <em>everything</em> into
                                            version control. Not just your
                                            application code, but every library
                                            you use, the exact files that you
                                            installed. I really wanted a system
                                            like that.
                                        </p>
                                        <p>
                                            At the same time, I started looking
                                            into &quot;the cloud&quot;. It took
                                            me a while to get a handle on what
                                            &quot;cloud computing&quot; really
                                            means. What I learned: don&#8217;t
                                            overthink it. It&#8217;s not magic.
                                            It&#8217;s just virtual private
                                            servers that can be requisitioned
                                            automatically via an API, and are
                                            billed on a short time cycle. You
                                            can expand or change the definition
                                            a bit, but this definition is the
                                            one that matters to <em>me</em>.
                                            (I&#8217;ve also realized that I
                                            cannot get excited about complicated
                                            solutions; only once I realized how
                                            simple cloud computing is could I
                                            really get excited about the idea.)
                                        </p>
                                        <p>
                                            Given the modest functionality of
                                            cloud computing, why does it matter?
                                            Because with a cloud computing
                                            system you can actually
                                            <em>test</em> the full deployment
                                            stack. You can create a brand-new
                                            server, identical to all servers you
                                            will create in the future; you can
                                            set this server up; you can deploy
                                            to it. You get it wrong, you throw
                                            away that virtual server and start
                                            over from the beginning, fixing
                                            things until you get it right.
                                            Billing is important here too; with
                                            hourly billing you pay cents for
                                            these tests, and you don&#8217;t
                                            need a pool of ready servers because
                                            the cloud service basically manages
                                            that pool of ready servers for you.
                                        </p>
                                        <p>
                                            Without &quot;cloud computing&quot;
                                            we each too easily find ourselves in
                                            a situation where deployments are ad
                                            hoc, server installations develop
                                            over time, and servers and
                                            applications are inconsistent in
                                            their configuration. Cloud computing
                                            makes servers disposable, which
                                            means we can treat them in
                                            consistent ways, testing our work as
                                            we go. It makes it easy to treat
                                            operations with the same discipline
                                            as software.
                                        </p>
                                        <p>
                                            Given the idea from App Engine, and
                                            the easy-to-use infrastructure of a
                                            cloud service, I started to script
                                            together something to manage the
                                            servers and start up applications. I
                                            didn&#8217;t know what exactly I
                                            wanted to do to start, and I&#8217;m
                                            not completely sure where I&#8217;m
                                            going with this. But on the whole
                                            this feels pretty right. So I
                                            present the provisionally-named:
                                            <a
                                                class="reference external"
                                                href="http://toppcloud.colorstudy.com"
                                                >toppcloud</a
                                            >
                                            (<strong>Update</strong>: this has
                                            been renamed Silver Cloud).
                                        </p>
                                        <hr class="docutils" />
                                        <p>
                                            How it works: first you have a
                                            directory of files that defines your
                                            application. This probably includes
                                            a checkout of your
                                            &quot;application&quot; (let&#8217;s
                                            say in
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >src/mynewapp/</span
                                                ></tt
                                            >), and I find it also useful to use
                                            source control on the libraries
                                            (which are put in
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >lib/python/</span
                                                ></tt
                                            >). There&#8217;s a file in
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >app.ini</span
                                                ></tt
                                            >
                                            that defines some details of the
                                            application (very similar to
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >app.yaml</span
                                                ></tt
                                            >).
                                        </p>
                                        <p>
                                            While app.ini is a (<a
                                                class="reference external"
                                                href="http://toppcloud.colorstudy.com/appconfig.html"
                                                >very minimal</a
                                            >) description of the
                                            <em>application</em>, there is no
                                            description of the environment. You
                                            do not specify database connection
                                            details, for instance. Instead your
                                            application <em>requests</em> access
                                            to a database service. For instance,
                                            one of these services is a
                                            PostgreSQL/PostGIS database (which
                                            you get if you put
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >service.postgis</span
                                                ></tt
                                            >
                                            in your app.ini file). If you ask
                                            for that then there will be
                                            evironmental variables,
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >CONFIG_PG_DBNAME</span
                                                ></tt
                                            >
                                            etc., that will tell your
                                            application how to connect to the
                                            database. (For local development you
                                            can provide your own configuration,
                                            based on how you have PostgreSQL or
                                            some other service installed.)
                                        </p>
                                        <p>
                                            The standard setup is also a
                                            <a
                                                class="reference external"
                                                href="http://virtualenv.openplans.org"
                                                >virtualenv</a
                                            >
                                            environment. It is setup so
                                            <em>every time</em> you start that
                                            virtualenv environment you&#8217;ll
                                            get those configuration-related
                                            environmental variables. This means
                                            your application configuration is
                                            always present, your services always
                                            available. It&#8217;s available in
                                            tests just like it is during a
                                            request. Django accomplishes
                                            something similar with the (much
                                            maligned)
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >$DJANGO_SETTINGS_MODULE</span
                                                ></tt
                                            >
                                            but toppcloud builds it into the
                                            virtualenv environment instead of
                                            the shell environment.
                                        </p>
                                        <p>
                                            And how is the server setup? Much
                                            like with App Engine that is merely
                                            an implementation detail. Unlike App
                                            Engine that&#8217;s an
                                            implementation detail you can
                                            actually <em>look</em> at and change
                                            (by changing toppcloud), but
                                            it&#8217;s not something you are
                                            supposed to concern yourself with
                                            during regular application
                                            development.
                                        </p>
                                        <p>
                                            The basic lifecycle using toppcloud
                                            looks like:
                                        </p>
                                        <dl class="docutils">
                                            <dt>
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >create-node</span
                                                    ></tt
                                                >
                                            </dt>
                                            <dd>
                                                Create a new virtual server; you
                                                can create any kind of supported
                                                server, but only Ubuntu Jaunty
                                                or Karmic are supported (and
                                                Jaunty should probably be
                                                dropped). This step is where the
                                                &quot;cloud&quot; part actually
                                                ends. If you want to install a
                                                bare Ubuntu onto an existing
                                                physical machine that&#8217;s
                                                fine too &#8212; after
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >create-node</span
                                                    ></tt
                                                >
                                                the &quot;cloud&quot; part of
                                                the process is pretty much done.
                                                Just don&#8217;t go using some
                                                old Ubuntu install; this tool is
                                                for clean systems that are used
                                                only for toppcloud.
                                            </dd>
                                            <dt>
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >setup-node</span
                                                    ></tt
                                                >
                                            </dt>
                                            <dd>
                                                Take that bare Ubuntu server and
                                                set it up (or update it) for use
                                                with toppcloud. This installs
                                                all the basic standard stuff
                                                (things like Apache, mod_wsgi,
                                                Varnish) and some management
                                                script that toppcloud runs. This
                                                is written to be safe to run
                                                over and over, so upgrading and
                                                setting up a machine are the
                                                same. It needs to be a bare
                                                server, but
                                            </dd>
                                            <dt>
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >init</span
                                                    >
                                                    <span class="pre"
                                                        >path/to/app/</span
                                                    ></tt
                                                >
                                            </dt>
                                            <dd>
                                                Setup a basic virtualenv
                                                environment with some toppcloud
                                                customizations.
                                            </dd>
                                            <dt>
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >serve</span
                                                    >
                                                    <span class="pre"
                                                        >path/to/app</span
                                                    ></tt
                                                >
                                            </dt>
                                            <dd>
                                                Serve up the application
                                                locally.
                                            </dd>
                                            <dt>
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre"
                                                        >update</span
                                                    >
                                                    <span class="pre"
                                                        >--host=test.example.com</span
                                                    >
                                                    <span class="pre"
                                                        >path/to/app/</span
                                                    ></tt
                                                >
                                            </dt>
                                            <dd>
                                                This creates or updates an
                                                application at the given host.
                                                It edits
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >/etc/hosts</span
                                                    ></tt
                                                >
                                                so that the domain is locally
                                                viewable.
                                            </dd>
                                            <dt>
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >toppcloud</span
                                                    >
                                                    <span class="pre">run</span>
                                                    <span class="pre"
                                                        >test.example.com</span
                                                    >
                                                    <span class="pre"
                                                        >script.py</span
                                                    ></tt
                                                >
                                            </dt>
                                            <dd>
                                                Run a script (from
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >bin/</span
                                                    ></tt
                                                >) on a remote server. This
                                                allows you to run things like
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >django-admin.py</span
                                                    >
                                                    <span class="pre"
                                                        >syncdb</span
                                                    ></tt
                                                >.
                                            </dd>
                                        </dl>
                                        <p>
                                            There&#8217;s a few other things
                                            &#8212; stuff to manage the servers
                                            and change around hostnames or the
                                            active version of applications.
                                            It&#8217;s growing to fit a variety
                                            of workflows, but I don&#8217;t
                                            think its growth is unbounded.
                                        </p>
                                        <hr class="docutils" />
                                        <p>
                                            So&#8230; this is what toppcloud.
                                            From the outside it doen&#8217;t do
                                            a lot. From the inside it&#8217;s
                                            not actually that complicated
                                            either. I&#8217;ve included a lot of
                                            constraints in the tool but I think
                                            it offers an excellent balance. The
                                            constraints are workable for
                                            applications (insignificant for many
                                            applications), while still exposing
                                            a simple and consistent system
                                            that&#8217;s easier to reason about
                                            than a big-ball-of-server.
                                        </p>
                                        <p>Some of the constraints:</p>
                                        <ol class="arabic simple">
                                            <li>
                                                Binary packages are supported
                                                via Ubuntu packages; you only
                                                upload portable files. If you
                                                need a library like lxml, you
                                                need to request that package
                                                (<tt class="docutils literal"
                                                    ><span class="pre"
                                                        >python-lxml</span
                                                    ></tt
                                                >) to be installed in your
                                                app.ini. If you need a version
                                                of a binary library that is not
                                                yet packaged, I think creating a
                                                new deb is reasonable.
                                            </li>
                                            <li>
                                                There is no Linux distribution
                                                abstraction, but I don&#8217;t
                                                care.
                                            </li>
                                            <li>
                                                There is no option for the way
                                                your application is run &#8212;
                                                there&#8217;s one way
                                                applications are run, because I
                                                believe there is a best
                                                practice. I might have gotten
                                                the best practice wrong, but
                                                that should be resolved inside
                                                toppcloud, not inside
                                                applications. Is Varnish a
                                                terrible cache? Probably not,
                                                but if it is we should all be
                                                able to agree on that and
                                                replace it. If there are
                                                genuinely different needs then
                                                maybe additional application or
                                                deployment configuration will be
                                                called for &#8212; but we
                                                shouldn&#8217;t add
                                                configuration just because
                                                someone <em>says</em> there is a
                                                better practice (and a better
                                                practice that is not universally
                                                better); there must be
                                                justifications.
                                            </li>
                                            <li>
                                                By abstracting out services and
                                                persistence some additional code
                                                is required for each such
                                                service, and that code is
                                                centralized in toppcloud, but it
                                                means we can also start to add
                                                consistent tools usable across a
                                                wide set of applications and
                                                backends.
                                            </li>
                                            <li>
                                                All file paths have to be
                                                relative, because files get
                                                moved around. I know of some
                                                particularly problematic files
                                                (e.g.,
                                                <tt class="docutils literal"
                                                    ><span class="pre"
                                                        >.pth</span
                                                    ></tt
                                                >
                                                files), and toppcloud fixes
                                                these automatically. Mostly this
                                                isn&#8217;t so hard to do.
                                            </li>
                                        </ol>
                                        <p>
                                            These particular compromises are
                                            ones I have not seen in many systems
                                            (and
                                            <a
                                                class="reference external"
                                                href="http://toppcloud.colorstudy.com/comparisons.html"
                                                >I&#8217;ve started to look
                                                more</a
                                            >). App Engine I think goes too far
                                            with its constraints.
                                            <a
                                                class="reference external"
                                                href="http://heroku.com/"
                                                >Heroku</a
                                            >
                                            is close, but closed source.
                                        </p>
                                        <p>
                                            This is different than a strict
                                            everything-must-be-a-package
                                            strategy. This deployment system is
                                            light and simple and takes into
                                            account reasonable web development
                                            workflows. The pieces of an
                                            application that move around a lot
                                            are all well-greased and agile. The
                                            parts of an application that are
                                            better to Do Right And Then Leave
                                            Alone (like Apache configuration)
                                            are static.
                                        </p>
                                        <p>
                                            Unlike generalized systems like
                                            buildout this system avoids
                                            &quot;building&quot; entirely,
                                            making deployment a simpler and
                                            lower risk action, leaning on system
                                            packages for the things they do
                                            best. Other open source tools
                                            emphasize a greater degree of
                                            flexibility than I think is
                                            necessary, allowing people to encode
                                            exploratory service integration into
                                            what <em>appears</em> to be an
                                            encapsulated build (I&#8217;m
                                            looking at you buildout).
                                        </p>
                                        <p>
                                            Unlike
                                            <a
                                                class="reference external"
                                                href="http://pip.openplans.org/requirement-format.html"
                                                >requirement sets</a
                                            >
                                            and packaging and versioning
                                            libraries, this makes all the Python
                                            libraries (typically the most
                                            volatile libraries) explicit and
                                            controlled, and can better ensure
                                            that small updates really are small.
                                            It doesn&#8217;t invalidate
                                            installers and versioning, but it
                                            makes that process even more
                                            explicit and encourages greater
                                            thoughtfulness.
                                        </p>
                                        <p>
                                            Unlike many production-oriented
                                            systems (what I&#8217;ve seen in a
                                            lot of &quot;cloud&quot; tools) this
                                            encorporates both the development
                                            environment and production
                                            environment; but unlike some
                                            developer-oriented systems this does
                                            not try to normalize
                                            everyone&#8217;s environment and
                                            instead relies on developers to set
                                            up their systems however is
                                            appropriate. And unlike
                                            platform-neutral systems this can
                                            ensure an amount of reliability and
                                            predictability through extremely
                                            hard requirements (it is deployed on
                                            Ubuntu Jaunty/Karmic <em>only</em>).
                                        </p>
                                        <p>
                                            But it&#8217;s not all constraints.
                                            Toppcloud is solidly web framework
                                            neutral. It&#8217;s even
                                            <a
                                                class="reference external"
                                                href="http://toppcloud.colorstudy.com/php.html"
                                                >slightly language neutral</a
                                            >. Though it does require support
                                            code for each persistence technique,
                                            it is fairly easy to do, and there
                                            are no requirements for
                                            &quot;scalable systems&quot;; I
                                            think unscalable systems are a
                                            perfectly reasonable implementation
                                            choice for many problems. I believe
                                            a more scalable system could be
                                            built on this, but as a deployment
                                            and development option, not a
                                            starting requirement.
                                        </p>
                                        <p>
                                            So far I&#8217;ve done some
                                            deployments using toppcloud; not a
                                            lot, but some. And I can say that it
                                            feels really good; lots of rough
                                            edges still, but the core concept
                                            feels really right. I&#8217;ve made
                                            a lot of sideways attacks on
                                            deployment, and a few direct
                                            attacks&#8230; sometimes I write
                                            things that I think are useful, and
                                            sometimes I write things that I
                                            think are right. Toppcloud is at the
                                            moment maybe more right than useful.
                                            But I genuinely believe this is (in
                                            theory) a universally appropriate
                                            deployment tool.
                                        </p>
                                        <hr class="docutils" />
                                        <p>
                                            Alright, so now you think maybe you
                                            should look more at toppcloud&#8230;
                                        </p>
                                        <p>
                                            Well, I can offer you
                                            <a
                                                class="reference external"
                                                href="http://toppcloud.colorstudy.com"
                                                >a fair amount of
                                                documentation</a
                                            >. A lot of that documentation
                                            refers to design, and a bit of it to
                                            examples. There&#8217;s also a
                                            couple projects you can look at;
                                            they are all small, but :
                                        </p>
                                        <ul class="simple">
                                            <li>
                                                <a
                                                    class="reference external"
                                                    href="http://bitbucket.org/geraldmc/frank-src/src/tip/build-fs-layout"
                                                    >Frank</a
                                                >
                                                (will be
                                                interactivesomerville.org) which
                                                is another similar Django/Pinax
                                                project (Pinax was a bit
                                                tricky). This is probably the
                                                largest project. It&#8217;s a
                                                Django/Pinax volunteer-written
                                                application for collecting
                                                community feedback the Boston
                                                Greenline project, if that
                                                sounds interesting to you might
                                                want to chip in on the
                                                development (if so
                                                <a
                                                    class="reference external"
                                                    href="https://projects.openplans.org/greenline"
                                                    >check out the wiki</a
                                                >).
                                            </li>
                                            <li>
                                                <a
                                                    class="reference external"
                                                    href="http://github.com/ianb/neighborly/blob/master/INSTALL.txt"
                                                    >Neighborly</a
                                                >, with minimal functionality
                                                (we need to run more sprints)
                                                but an installation story.
                                            </li>
                                            <li>
                                                <a
                                                    class="reference external"
                                                    href="http://bitbucket.org/ianb/bbdocs/src/tip/create-layout.sh"
                                                    >bbdocs</a
                                                >
                                                which is a very simple bitbucket
                                                document generator, that makes
                                                the toppcloud site.
                                            </li>
                                            <li>
                                                <a
                                                    class="reference external"
                                                    href="http://bitbucket.org/ianb/geodns"
                                                    >geodns</a
                                                >
                                                which is another simple
                                                no-framework PostGIS project.
                                            </li>
                                        </ul>
                                        <hr class="docutils" />
                                        <p>
                                            Now, the letdown. One thing I cannot
                                            offer you is support.
                                            <strong>THERE IS NO SUPPORT</strong
                                            >. I cannot now, and I might never
                                            really be able to support this tool.
                                            This tool is appropriate for
                                            collaborators, for people who like
                                            the idea and are ready to build on
                                            it. If it grows well I hope that it
                                            can grow a community, I hope people
                                            can support each other. I&#8217;d
                                            like to help that happen. But I
                                            can&#8217;t do that by bootstrapping
                                            it through unending support, because
                                            I&#8217;m not good at it and
                                            I&#8217;m not consistent and
                                            it&#8217;s unrealistic and
                                            unsustainable. This is not a open
                                            source dead drop. But it&#8217;s
                                            also not My Future; I&#8217;m not
                                            going to build a company around it,
                                            and I&#8217;m not going to use all
                                            my free time supporting it.
                                            It&#8217;s a tool I want to exist. I
                                            <strong>very much</strong> want it
                                            to exist. But even very much wanting
                                            something is not the same as being
                                            an undying champion, and I am not an
                                            undying champion. If you want to
                                            tell me what my process
                                            <em>should</em> be, please do!
                                        </p>
                                        <hr class="docutils" />
                                        <blockquote>
                                            <p>
                                                If you want to see me get
                                                philosophical about packaging
                                                and deployment and other stuff
                                                like that, see my upcoming talk
                                                at
                                                <a
                                                    class="reference external"
                                                    href="http://us.pycon.org/"
                                                    >PyCon</a
                                                >.
                                            </p>
                                        </blockquote>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2010/01/29/new-way-to-deploy-web-apps/"
    dc:identifier="https://ianbicking.org/2010/01/29/new-way-to-deploy-web-apps/"
    dc:title="A new way to deploy web applications"
    trackback:ping="https://ianbicking.org/2010/01/29/new-way-to-deploy-web-apps/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2010 01 29</h3>
                            <p class="post-categories">
                                <a
                                    href="../../../packaging/index.html"
                                    title="View all posts in Packaging"
                                    rel="category tag"
                                    >Packaging</a
                                ><br /><a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../../silverlining.1"
                                    title="View all posts in Silver Lining"
                                    rel="category tag"
                                    >Silver Lining</a
                                ><br /><a
                                    href="../../../web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2010/01/29/new-way-to-deploy-web-apps/index.html#comments"
                                    title="Comment on A new way to deploy web applications"
                                    >Comments (13)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2010/01/29/new-way-to-deploy-web-apps/index.html"
                                    title="Permalink to A new way to deploy web applications"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-125" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2009/09/10/a-new-self-definition-for-foss/index.html"
                                        title="Permalink to Toward a new self-definition for open source"
                                        rel="bookmark"
                                        >Toward a new self-definition for open
                                        source</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <blockquote>
                                            <p>
                                                This is roughly the speech I
                                                gave as a keynote address at
                                                <a
                                                    class="reference external"
                                                    href="http://www.djangocon.org/"
                                                    >DjangoCon 2009</a
                                                >
                                                in Portland.
                                            </p>
                                        </blockquote>
                                        <p>
                                            I&#8217;ve been programming Python
                                            web software for quite a while now.
                                            I considered coming here and talked
                                            about WSGI, standards,
                                            cross-framework integration, etc.,
                                            but I decided I wanted to come up
                                            here and talk to you as compatriots,
                                            as fellow open source programmers.
                                        </p>
                                        <p>
                                            Over the past year or so I have been
                                            thinking a lot about politics. Not
                                            electoral politics per se, or the
                                            geopolitical situation, but the
                                            question of the meaning of what we
                                            are doing. Maybe it is some sort of
                                            programmer midlife crisis: why am I
                                            doing what I&#8217;m doing, and why
                                            does it matter? And also I have been
                                            thinking a lot about open source
                                            &#8212; what this thing that
                                            we&#8217;re doing means in the
                                            larger context. Are we just
                                            engineers? Is there some sort of
                                            movement? If so, what is that
                                            movement? Especially as open source
                                            has become more popular, the sense
                                            of a movement seems to dwindle. It
                                            felt like a movement 10 years ago,
                                            but not as much today. Why should
                                            this happen? Why now, in the midst
                                            of success does open source seem
                                            less politically relevant than it
                                            did 10 years ago?
                                        </p>
                                        <p>
                                            I&#8217;m also speaking somewhat to
                                            Django specifically, as I think it
                                            is one of the communities with a bit
                                            more resistance to the idea of the
                                            politics of code. The Django
                                            philosophy is more: the value of
                                            this code is the value of what you
                                            do with it. I&#8217;m not here to
                                            criticize this perspective, but to
                                            think about how we can find meaning
                                            without relying on the traditional
                                            free software ideas. To see if
                                            there&#8217;s something here that
                                            isn&#8217;t described yet.
                                        </p>
                                        <p>
                                            I&#8217;d like to start with a quick
                                            history of free and open source
                                            software. My own start was in
                                            highschool where I was taking a
                                            class in which we all used Emacs.
                                            This was my first introduction to
                                            any real sort of programming
                                            environment, to Unix, to a text
                                            editor that was anything to talk
                                            about. At the time Emacs would say
                                            at startup &quot;to learn more about
                                            the GNU project hit Control-H
                                            Control-P&quot; &#8212; because of
                                            course you need a keyboard shortcut
                                            to get to a philosophy statement
                                            about an editor. So one day I hit
                                            Control-H Control-P. I was expecting
                                            to see some sort of About Message,
                                            or if you remember the software of
                                            the times maybe something about
                                            Shareware, or even &quot;if you
                                            really like this software, consider
                                            giving to the Red Cross.&quot; But
                                            instead I came upon the GNU
                                            Manifesto.
                                        </p>
                                        <div class="section" id="gnu-manifesto">
                                            <h2>GNU Manifesto</h2>
                                            <p>
                                                I&#8217;d like to read a couple
                                                quotes from the
                                                <a
                                                    class="reference external"
                                                    href="http://www.gnu.org/gnu/manifesto.html"
                                                    >GNU Manifesto</a
                                                >. There are more
                                                <a
                                                    class="reference external"
                                                    href="http://www.gnu.org/gnu/thegnuproject.html"
                                                    >modern descriptions of
                                                    GNU</a
                                                >, but this is one of the first
                                                documents describing the project
                                                and its mission, written by
                                                Richard Stallman. Let me quote
                                                the section &quot;Why I Must
                                                Write GNU&quot;:
                                            </p>
                                            <blockquote>
                                                <p>
                                                    &quot;I consider that the
                                                    golden rule requires that if
                                                    I like a program I must
                                                    share it with other people
                                                    who like it. Software
                                                    sellers want to divide the
                                                    users and conquer them,
                                                    making each user agree not
                                                    to share with others. I
                                                    refuse to break solidarity
                                                    with other users in this
                                                    way. [it continues...]
                                                </p>
                                                <p>
                                                    &quot;So that I can continue
                                                    to use computers without
                                                    dishonor, I have decided to
                                                    put together a sufficient
                                                    body of free software so
                                                    that I will be able to get
                                                    along without any software
                                                    that is not free.&quot;
                                                </p>
                                                <p>[later it goes on...]</p>
                                                <p>
                                                    &quot;The fundamental act of
                                                    friendship among programmers
                                                    is the sharing of programs;
                                                    marketing arrangements now
                                                    typically used essentially
                                                    forbid programmers to treat
                                                    others as friends. The
                                                    purchaser of software must
                                                    choose between friendship
                                                    and obeying the law.
                                                    Naturally, many decide that
                                                    friendship is more
                                                    important. But those who
                                                    believe in law often do not
                                                    feel at ease with either
                                                    choice. They become cynical
                                                    and think that programming
                                                    is just a way of making
                                                    money.&quot;
                                                </p>
                                            </blockquote>
                                            <p>
                                                When I read this statement I was
                                                immediate head-over-heels in
                                                love with this concept. As a
                                                teenager, thinking about
                                                programming, thinking about the
                                                world, having a statement that
                                                was so intellectually aggressive
                                                was exciting. It didn&#8217;t
                                                ask: &quot;how wrong is piracy
                                                really&quot;, or &quot;why are
                                                our kids doing this&quot;, but
                                                it asked &quot;is piracy a moral
                                                imperative&quot; &#8212;
                                                that&#8217;s the kind of
                                                aggressive question that feels
                                                revolutionary and passionate.
                                            </p>
                                            <p>
                                                Let me go over one of the lines
                                                that I think exemplifies this:
                                            </p>
                                            <blockquote>
                                                <p>
                                                    &quot;I consider that the
                                                    golden rule requires that if
                                                    I like a program I must
                                                    share it with other people
                                                    who like it.&quot;
                                                </p>
                                            </blockquote>
                                            <p>
                                                It wasn&#8217;t saying: what are
                                                we not allowed to do, nor did it
                                                talk about some kind of societal
                                                injustice. It didn&#8217;t talk
                                                about the meaning of actions or
                                                their long-term effects. Instead
                                                it asked: what must we do, not
                                                as a society, not in service of
                                                some end, but what are we called
                                                upon to do as an
                                                <em>individual</em>,
                                                <em>right now</em>, in service
                                                of the people we call friends.
                                                It didn&#8217;t allude to any
                                                sociological explanation,
                                                natural selection, economics;
                                                there is just the golden rule,
                                                the most basic tenant of moral
                                                thought.
                                            </p>
                                        </div>
                                        <div
                                            class="section"
                                            id="free-software-vs-open-source"
                                        >
                                            <h2>
                                                Free Software vs. Open Source
                                            </h2>
                                            <p>
                                                When I first encountered free
                                                software, I suppose about 15
                                                years ago, this was during one
                                                of the more difficult periods of
                                                its evolution. It was past the
                                                initial excitement, the initial
                                                optimism that the project would
                                                take only a couple years to
                                                reach parity with closed-source
                                                Unix, it was before it was clear
                                                how the project would move
                                                forward. Linux was young and
                                                seemed to be largely off the
                                                radar of Richard Stallman and
                                                other GNU advocates, and they
                                                were struggling to fill in final
                                                key pieces, things like a
                                                kernel, widgets, and they
                                                hadn&#8217;t even thought about
                                                entirely new things like
                                                browsers.
                                            </p>
                                            <p>
                                                The message that came through
                                                from that period is not the
                                                message I wish came through. The
                                                message I wish came through was
                                                that message from the GNU
                                                Manifesto, that spirit of a new
                                                sense of duty and ability. When
                                                people talk about Richard
                                                Stallman and the Free Software
                                                Foundation and the GNU Project,
                                                they&#8217;ll often point to the
                                                GNU General Public License as
                                                the most important contribution
                                                &#8212; the GPL. I&#8217;m sure
                                                you all know something about it.
                                                Of course the core concept there
                                                is the idea of copyleft. Not
                                                only will the software be open,
                                                but it&#8217;s takes the implied
                                                perspective that the principles
                                                of freedom are rights &#8212;
                                                that unfortunately the world is
                                                not wise enough to see that use,
                                                distribution, and modification
                                                are rights; but the GPL still
                                                asserts that these
                                                <em>are</em> your rights. When
                                                you become one of us, when you
                                                participate in the freedoms this
                                                license grants you, when you use
                                                the GPL, there is encoded in the
                                                license a support for this sense
                                                of the natural right of free
                                                software. We, GNU, can&#8217;t
                                                encode that for the world, but
                                                for the software that we write
                                                these rights are inalienable.
                                            </p>
                                            <p>
                                                But as I said those were
                                                difficult times. There was a
                                                great deal of pressure. People
                                                were trying to understand what
                                                open source meant. People still
                                                struggle with questions: how
                                                would an economy function, how
                                                would a programmer get a job, if
                                                this is as successful as people
                                                hoped will we all just be out of
                                                jobs? Other questions were: who
                                                will write the software that no
                                                one wants to write? How can I,
                                                embedded in a situation where I
                                                can&#8217;t actually use only
                                                free software &#8212; remember
                                                at this time there was no way to
                                                use completely free software
                                                &#8212; how can I assert a duty
                                                to do something that is not
                                                possible? How can I be useful
                                                unless I interface with all
                                                these proprietary things? If I
                                                deal with companies which
                                                aren&#8217;t comfortable with
                                                open source software, then what?
                                                After all, open source seemed
                                                only barely plausible at this
                                                time. It was not an easy
                                                argument to make.
                                            </p>
                                            <p>
                                                And all this was before the term
                                                &quot;open source&quot; really
                                                took hold as a distinct idea.
                                                That itself is an interesting
                                                story. There was a time during
                                                this marketing period when there
                                                arose a kind of terminology
                                                divide &#8212; free software vs.
                                                open source software. The
                                                terminology divide was that the
                                                &quot;free&quot; in free
                                                software implied you
                                                couldn&#8217;t charge anything,
                                                that made people think about
                                                price, might even imply
                                                cheapness. Open source directly
                                                refers to programming, uses the
                                                feel-good term &quot;open&quot;,
                                                and doesn&#8217;t sound too
                                                revolutionary. But besides that
                                                there was also a substantial
                                                philosophical difference about
                                                the value of the software
                                                itself.
                                            </p>
                                            <p>
                                                So there was a difference in how
                                                things were going to be pitched,
                                                but also a difference in what
                                                people thought the general value
                                                of this project was. From GNU
                                                and Richard Stallman there was
                                                the notion that this was right
                                                because it was right; it was a
                                                moral imperative. The virtue of
                                                what we build is in its freedom;
                                                if it is also technically
                                                superior then that&#8217;s
                                                great, but it is not how we
                                                should judge our success. We
                                                were giving people
                                                self-determination: programmer
                                                self-determination, user
                                                self-determination&#8230; on the
                                                open source side the argument
                                                was that this is a good way to
                                                create software. Programmers
                                                working together can do better
                                                work. With many eyes all bugs
                                                are shallow. All working
                                                together, we&#8217;ll work
                                                faster, you get the benefit of
                                                free contributions from all
                                                sorts of people. People were
                                                clamouring to get all these
                                                proprietary companies with
                                                failing software products to
                                                open source their software;
                                                miracles will occur! What you
                                                thought was useless will regain
                                                value! You&#8217;ll reattain
                                                relevance!
                                            </p>
                                            <p>
                                                The open source and free
                                                software philosophical divide:
                                                on one side practical concerns,
                                                on the other moral. And this is
                                                what I want to talk about later:
                                                can we find a moral argument for
                                                these practical concerns?
                                            </p>
                                            <p>
                                                The basic free/open disagreement
                                                continues in debates over
                                                licenses: the GPL vs. the BSD
                                                and other permissive licenses.
                                                If you read the
                                                <a
                                                    class="reference external"
                                                    href="http://www.gnu.org/copyleft/gpl.html"
                                                    >GPL</a
                                                >
                                                it talks a great deal about
                                                philosophy; if you read the
                                                <a
                                                    class="reference external"
                                                    href="http://www.opensource.org/licenses/bsd-license.html"
                                                    >BSD license</a
                                                >
                                                it&#8217;s really just some
                                                disclaimers and basic
                                                instructions, and the one line:
                                                &quot;Redistribution and use in
                                                source and binary forms, with or
                                                without modification, are
                                                permitted.&quot; It
                                                doesn&#8217;t say why
                                                you&#8217;ve received this
                                                software, or any philosophy
                                                about rights and freedoms, or
                                                even encourage you to use the
                                                same license on your own
                                                software. An engineer&#8217;s
                                                license.
                                            </p>
                                            <p>
                                                So these two licenses in many
                                                ways became a focus and
                                                definition of free and open
                                                source software. If you look at
                                                the
                                                <a
                                                    class="reference external"
                                                    href="http://www.opensource.org/"
                                                    >Open Source Initiative</a
                                                >, which has served to define
                                                what &quot;open source&quot;
                                                means, it is basically just a
                                                <a
                                                    class="reference external"
                                                    href="http://www.opensource.org/licenses/alphabetical"
                                                    >list of approved
                                                    licenses</a
                                                >. If you use one of those
                                                licenses, the software is open
                                                source, if not then it is
                                                closed.
                                            </p>
                                            <p>
                                                I think this is disappointing,
                                                because licenses are just law,
                                                and law is not very interesting.
                                                A law tells you what you
                                                shouldn&#8217;t do, it
                                                doesn&#8217;t tell you what you
                                                should do. When both sides are
                                                talking about freedom, the
                                                licenses just define freedom as
                                                the lack of certain
                                                restrictions. Take away those
                                                restrictions and voila, you are
                                                free&#8230; as though we are all
                                                just bundles of freedom waiting
                                                to be released.
                                            </p>
                                        </div>
                                        <div
                                            class="section"
                                            id="self-definitions"
                                        >
                                            <h2>Self-Definitions</h2>
                                            <p>
                                                With licenses we have a negative
                                                definition of our community.
                                                Either license you choose, the
                                                license feels like a reaction
                                                against closed source software.
                                                If you can imagine a world in
                                                which there was no copyright,
                                                where our platforms were all
                                                setup to distribute source code
                                                in modifiable forms, where
                                                everything was open and
                                                everything was free, then none
                                                of these licenses would matter.
                                                No one would be compelled to
                                                create the GPL in such a world;
                                                we wouldn&#8217;t advocate for
                                                copyright just so we can secure
                                                people&#8217;s freedoms. In that
                                                kind of world all this licensing
                                                disappears. And this isn&#8217;t
                                                even so weird a world. You can
                                                pretend there&#8217;s no
                                                copyright now. Maybe you have to
                                                reverse-engineer some stuff.
                                                There&#8217;s lots of places in
                                                the world where no one really
                                                gives a damn about copyright.
                                                But those places don&#8217;t
                                                feel open source to me, they
                                                don&#8217;t feel that more free.
                                                We aren&#8217;t made unfree just
                                                by legal restrictions; freedom
                                                is something we have to actively
                                                grasp.
                                            </p>
                                            <p>
                                                I don&#8217;t think what we do
                                                is predicated on copyright.
                                                Indeed, many projects are
                                                comfortable with an entirely
                                                confused copyright ownership.
                                                This causes very few problems. A
                                                focus on licensing makes us into
                                                a reaction against proprietary
                                                software, where we allow
                                                proprietary software and its
                                                makers to define what it means
                                                to be <em>us</em>.
                                            </p>
                                            <p>
                                                This concerns me because it
                                                isn&#8217;t just about formal
                                                definitions and terminology.
                                                When I say
                                                <em>what do I do</em>, I say I
                                                am an open source programmer.
                                                That&#8217;s not just an
                                                attribute, like saying that my
                                                hair is brown. Open source is a
                                                way in which I see myself, a way
                                                I think about my craft, my
                                                profession, and a way I justify
                                                the work I put out to the world:
                                                that it aligns with these
                                                values. So it&#8217;s very
                                                important to me what these
                                                values are. And it&#8217;s
                                                frustrating to see open source
                                                defined in reaction to closed
                                                source software, because
                                                personally I don&#8217;t care
                                                about closed source software
                                                that much.
                                            </p>
                                            <p>
                                                I never really cared much about
                                                fighting Microsoft, and I
                                                certainly don&#8217;t care now.
                                                I see myself as a builder; this
                                                is what always drew me towards
                                                programming. The desire to build
                                                new things. This is our
                                                privilege as programmers, that
                                                we always have the opportunity
                                                to build new things. If
                                                we&#8217;re asked to do
                                                something again and again and
                                                again, you always have the power
                                                to do it in a more abstract way,
                                                to generalize it away, until you
                                                can start to ignore the requests
                                                and move on to another problem.
                                                This is something unique thing
                                                to computer programming. These
                                                are the kind of unique
                                                attributes that make us
                                                different as a profession and as
                                                a craft than just about anything
                                                I can think of.
                                            </p>
                                            <p>
                                                So I&#8217;m frustrated. Here we
                                                are stuck in this notion of a
                                                license as a self-definition. I
                                                want to find a new
                                                self-definition, a new idea of
                                                what makes us us.
                                            </p>
                                        </div>
                                        <div
                                            class="section"
                                            id="what-makes-us-us"
                                        >
                                            <h2>What Makes Us Us</h2>
                                            <p>So&#8230; what makes us us?</p>
                                            <p>
                                                I was saying about Django, the
                                                community is not particularly
                                                enthusiastic about philosophy.
                                                Or maybe I should say,
                                                Django&#8217;s philosophy is:
                                                the value of the code is the
                                                thing you do with it. These
                                                abstract discussions about
                                                architecture, reuse, big
                                                plans&#8230; instead, Django as
                                                a community encourages you to
                                                keep your head in the code,
                                                think about what you want to do,
                                                and then do it. Don&#8217;t
                                                shave yaks.
                                            </p>
                                            <p>
                                                But I&#8217;m not here to tell
                                                you to get philosophical about
                                                freedom, or to berate you for a
                                                functional definition of value.
                                                I&#8217;d like to look at this
                                                community for what it is, and
                                                ask: what is the value system
                                                here? Maybe it isn&#8217;t
                                                described, but I also
                                                don&#8217;t think it is
                                                therefore absent.
                                            </p>
                                            <p>
                                                So&#8230; when I say I identify
                                                as an open source programmer,
                                                what is it that I am identifying
                                                as?
                                            </p>
                                            <p>
                                                I don&#8217;t believe licensing
                                                makes something truly open
                                                source. There was this clamour
                                                in the past to get companies to
                                                open source their products. This
                                                has stopped, because all the
                                                software that got open source
                                                sucked. It&#8217;s just not very
                                                interesting to have a closed
                                                source program get open sourced.
                                                It doesn&#8217;t help anyone,
                                                because the way closed source
                                                software is created in a very
                                                different way than open source
                                                software. The result is a
                                                software base that just does not
                                                engage people in a way to make
                                                it a valid piece of software for
                                                further development. At least
                                                not unless you have something
                                                peculiar going on&#8230; an
                                                economic force like you had
                                                behind Mozilla that could push
                                                things forward even in the midst
                                                of all the problems that project
                                                had. One might even ask, is
                                                Mozilla still suffering from
                                                that proprietary background,
                                                when something like KHTML or
                                                WebKit which came from a truly
                                                open source background, and has
                                                been a more successful basis for
                                                collaboration and new work.
                                            </p>
                                            <p>
                                                So whatever it is that makes
                                                something open source,
                                                it&#8217;s not just licensing.
                                                Given a codebase, we can&#8217;t
                                                necessarily expect that someone
                                                going to care about it and love
                                                it and make it successful. A lot
                                                of people have described what
                                                makes a successful open source
                                                codebase; I&#8217;d like to talk
                                                some about what the communities
                                                look like.
                                            </p>
                                            <hr class="docutils" />
                                            <p>
                                                Open source works as a fairly
                                                loose federation of people
                                                together. Everyone involved is
                                                involved as an individual.
                                                Companies seldom participate
                                                directly in open source.
                                                Companies might use open source,
                                                they might sponsor people to
                                                work on open source projects,
                                                they might ask an employee to
                                                act as a liason. But it&#8217;s
                                                not cool to submit a bug as a
                                                company. You submit it as
                                                yourself. If someone asks a
                                                question, you answer as
                                                yourself. You don&#8217;t join a
                                                mailing list under the
                                                company&#8217;s name. And even
                                                when you put a company name on a
                                                product, it&#8217;s hard to
                                                relate to the product as a
                                                <em>project</em> without some
                                                sense of authorship, of the
                                                underlying individual.
                                            </p>
                                            <hr class="docutils" />
                                            <p>
                                                There&#8217;s also very little
                                                money being moved about.
                                                There&#8217;s not a lot of
                                                commercial contracts. You might
                                                get software, you might get bug
                                                fixes, you might get reputation,
                                                but there&#8217;s seldom any
                                                formal way setup to introduce
                                                commerce into the community. How
                                                many projects let you pay to
                                                escalate a bug? Even if everyone
                                                involved might like that,
                                                it&#8217;s just not there.
                                            </p>
                                            <hr class="docutils" />
                                            <p>
                                                But I want to get back to
                                                individuals. How things are
                                                created is not that someone
                                                determines a set of priorities,
                                                lays them out, then people work
                                                on implementation based on those
                                                priorities. That of course is
                                                how things typically work at a
                                                company, as an employee. But
                                                open source software and open
                                                source projects are created
                                                because an individual looks at
                                                the world and sees an
                                                opportunity to create something
                                                they think should exist. Maybe
                                                it resolves a tension
                                                they&#8217;ve felt in their
                                                work, maybe it allows that
                                                person to respond to the
                                                priorities from above better,
                                                but the decision to implement
                                                lies primarily with the
                                                implementor. When someone makes
                                                a decision to move a product
                                                from simply private code &#8212;
                                                regardless of the license
                                                &#8212; to being a real open
                                                source project, that decision is
                                                almost always driven by the
                                                programmer.
                                            </p>
                                            <hr class="docutils" />
                                            <p>
                                                Underneath most open source work
                                                there is a passion for the craft
                                                itself. This is what leads to a
                                                certain kind of quality that is
                                                not the norm in closed source
                                                software. It&#8217;s not
                                                necessarily less bugs or more
                                                features, but a pride in the
                                                expression itself. A sense of
                                                aesthetic that applies to even
                                                the individual lines of
                                                software, not just to the
                                                functionality produced. This
                                                kind of aesthetic defies
                                                scheduling and relies on
                                                personal motivation.
                                            </p>
                                            <p>
                                                As open source programmers we
                                                are not first concerned with how
                                                a task fits into institutions,
                                                how a task can be directed by a
                                                hierarchy or an authority, or
                                                even how the task can be
                                                directed by economics. The tasks
                                                that we take on are motivated by
                                                aesthetic, by personal
                                                excitement and drive.
                                            </p>
                                            <hr class="docutils" />
                                            <p>
                                                We are also in a profession
                                                where there is little stasis. If
                                                you can create something once,
                                                you can create it a thousand
                                                times, through iteration or
                                                abstraction. You can constantly
                                                make your own effort obsolete. A
                                                good programmer is always trying
                                                to work themselves out of a job.
                                            </p>
                                            <p>
                                                Djangocon didn&#8217;t exist a
                                                couple years ago. Django
                                                didn&#8217;t exist only a few
                                                years ago. And I don&#8217;t
                                                think there&#8217;s anyone here
                                                who thinks that, having found
                                                Django, they&#8217;ve reached
                                                some terminal point. It&#8217;s
                                                hardly even a point to pause.
                                                There&#8217;s a constant churn,
                                                a constant push forward that
                                                we&#8217;re all participating
                                                in.
                                            </p>
                                            <p>
                                                As a result it&#8217;s demanded
                                                of us that we have a tight
                                                feedback cycle, that education
                                                is not a formal affair but a
                                                constant process in our own
                                                work. There&#8217;s a constant
                                                churn, and a professional sense
                                                we&#8217;re kind of like fruit
                                                flies. A generation of knowledge
                                                and practice is short enough
                                                that the evolution is rapid and
                                                visible. You don&#8217;t have to
                                                be particularly old or even
                                                thoughtful to see the changes.
                                                You can look back even on your
                                                own work and on communities to
                                                see changes over the course of a
                                                couple years, to see changes and
                                                shifts and a maturing of the
                                                work and the community.
                                            </p>
                                            <hr class="docutils" />
                                            <p>
                                                Another attribute of open
                                                source: our communities are ad
                                                hoc and temporary. We do not
                                                overvalue these communities and
                                                institutions; we regularly
                                                migrate, split, recombine, and
                                                we constantly rewrite. There is
                                                both an arrogance and a humility
                                                to this. We are arrogant to
                                                think This Time Will Be
                                                Different. But we are humble
                                                enough to know that last time
                                                wasn&#8217;t different either.
                                                There will always be a next
                                                thing, another technique,
                                                another vision.
                                            </p>
                                            <p>
                                                Because of the ad hoc nature of
                                                the communities, we don&#8217;t
                                                have long collective plans. The
                                                ad hoc community may be the
                                                intersection of different
                                                <em>personal</em> long range
                                                plans, a time when different
                                                visions somehow coincide in a
                                                similar implementation. Or
                                                perhaps it&#8217;s just
                                                serendipity, or leadership. But
                                                we make each decision anew. I
                                                believe this protects us from
                                                being misled by sunk costs. The
                                                idea of a sunk cost is that when
                                                you make an investment,
                                                you&#8217;ve put in effort, that
                                                effort is gone. Just because
                                                you&#8217;ve put in effort
                                                doesn&#8217;t mean you&#8217;ve
                                                received value, or that the path
                                                of investment remains valid. But
                                                as humans we are highly
                                                reluctant to let go of a plan
                                                that we&#8217;ve invested in. We
                                                have a hard time recognizing
                                                sunk costs.
                                            </p>
                                            <p>
                                                I believe in our developer
                                                community we approach our work
                                                with sufficient humility that we
                                                can see our work as simply a
                                                sunk cost. Our effort does not
                                                entitle us to any particular
                                                success, so we can choose new
                                                directions with more rationality
                                                than an institution. Though it
                                                can also be argued that we are
                                                too quick to dismiss past
                                                investments; there is a
                                                youthfulness even to our oldest
                                                members.
                                            </p>
                                            <hr class="docutils" />
                                            <p>
                                                We do not have hierachies with
                                                decision makers above
                                                implementors. Some people have
                                                veto power (a BDFL), but no one
                                                has <em>executive</em> power. A
                                                decision only is valid paired
                                                with an implementation. You
                                                cannot decide something based on
                                                information you
                                                <em>wish</em> was true; you
                                                cannot decide on something then
                                                blame the implementors for
                                                getting it wrong. We are in this
                                                sense vertically integrated,
                                                decision and implementation are
                                                combined. The result may be
                                                success or failure, commitment
                                                or abandonment, but the
                                                hierarchy is flat and the
                                                feedback loop is very tight. And
                                                if an individual feels stymied,
                                                there is always another
                                                community to join or create.
                                            </p>
                                            <p>
                                                Though this is only a start,
                                                it&#8217;s these attributes that
                                                I would prefer define us, not
                                                licenses.
                                            </p>
                                            <p>
                                                I also would like that this
                                                could be a model for how other
                                                work should be done.
                                            </p>
                                        </div>
                                        <div class="section" id="why-us">
                                            <h2>Why Us?</h2>
                                            <p>
                                                Why would we, as programmers, be
                                                unique or worthy of emulation? I
                                                mentioned before that we
                                                constantly work ourselves out of
                                                our job. We also create the
                                                tools we use to do the work. We
                                                define the structure of our
                                                communities. We&#8217;re
                                                consistently finding novel ways
                                                to use the internet build those
                                                communities. It&#8217;s not that
                                                we as a group are somehow
                                                uniquely wise, or some Greatest
                                                Generation, but we have become
                                                distinctly self-empowered. There
                                                is a uniqueness to us. It might
                                                be a coincidence of history, but
                                                it is there.
                                            </p>
                                            <p>
                                                A question I might then ask: is
                                                there a political meaning to
                                                this? This is the form our craft
                                                takes, but does that mean
                                                anything? We work with
                                                computers, someone else might
                                                work with their hands, an artist
                                                considers color, a salesperson
                                                learns how to put on a good
                                                smile.
                                            </p>
                                            <p>
                                                I haven&#8217;t quite figured
                                                this out yet, but I think
                                                there&#8217;s something in this.
                                                Over the years I&#8217;ve found
                                                myself looking at politics in a
                                                increasingly technocratic lens;
                                                more so than as a liberal,
                                                conservative, or radical. That
                                                is, instead of looking at the
                                                world and seeing what&#8217;s
                                                wrong about it, and explaining
                                                it in terms of a class struggle,
                                                a cultural conflict, in terms of
                                                advocacy or invented enemies or
                                                allies, I see a system that just
                                                works how it works. It&#8217;s
                                                more like gears than like a war.
                                                The gears turn and sometimes we
                                                don&#8217;t like what results,
                                                but it&#8217;s not malice.
                                            </p>
                                            <p>
                                                But I also don&#8217;t think we
                                                are slaves to the technical
                                                functioning of the system. None
                                                of us are inevitably caught up
                                                in some statistical outcome of
                                                markets, or condemned by money
                                                in politics or advertising. At
                                                any time we can say Here Is What
                                                I Believe, and it is as powerful
                                                as any of those other things;
                                                we&#8217;re too quick to look at
                                                the people who aren&#8217;t
                                                asserting a belief, who
                                                aren&#8217;t asserting their own
                                                potential for self-empowerment
                                                and direction, and we ignore
                                                everyone who is aware and
                                                concerned and attempting
                                                self-determination. We are at
                                                danger of ignoring the great
                                                potential around us.
                                            </p>
                                            <p>
                                                It is in this sense that I
                                                wonder not just how we can
                                                spread the idea of freedom
                                                through licensing, which has
                                                inspired the free culture
                                                movement, but also how we can
                                                spread this idea and practice of
                                                individual action, of combining
                                                decision and implementation, and
                                                of constant ad hoc
                                                collaboration.
                                            </p>
                                            <p>
                                                I&#8217;m not just thinking of
                                                politics directly, but of
                                                professional lives as well.
                                                Right now we&#8217;re talking
                                                about healthcare. It&#8217;s a
                                                very political issue, and yet
                                                healthcare is ultimately a
                                                profession, a job, an action.
                                                How we work on that,
                                                collaboratively or not, is as
                                                political as any aspect of the
                                                system.
                                            </p>
                                            <p>
                                                One anecdote that made me think
                                                about this, is a task I had that
                                                involved putting authentication
                                                in front of a mailing list. The
                                                mailing list happened to be for
                                                wound, ostomy, and continence
                                                nurses, and in the process of
                                                the job I read a bunch of their
                                                emails from the archives. As
                                                wound nurses they spent a lot of
                                                time asking about specific
                                                questions &#8212; maybe a wound
                                                that wouldn&#8217;t heal, they
                                                kept draining the puss and it
                                                discharge kept reappearing, and
                                                did anyone have ideas of the
                                                next technique to try?
                                            </p>
                                            <p>
                                                Reading a few of these I could
                                                tell this was a profession where
                                                you needed a strong stomach. But
                                                the whole interaction, the way
                                                they described problems, the way
                                                people came back with answers,
                                                it felt very familiar to me. It
                                                was the same kind of discussions
                                                I could imagine having about
                                                Linux administration or
                                                debugging. And the goals were
                                                similar. No one was making
                                                money, there wasn&#8217;t really
                                                reputation on the line, it was
                                                just people who wanted to help
                                                their patients and who wanted to
                                                help each other.
                                            </p>
                                            <p>
                                                So that mailing list was great,
                                                but it&#8217;s unfortunately not
                                                that common. And if nurses were
                                                open to that kind of
                                                collaboration, doctors
                                                don&#8217;t seem nearly as
                                                ready. And there&#8217;s a lot
                                                of professions where
                                                there&#8217;s not even that
                                                thoughtfulness. I believe in any
                                                profession there&#8217;s the
                                                ability to do it well or not;
                                                there&#8217;s nothing so rote or
                                                well understood that
                                                there&#8217;s no room for
                                                improvement. It doesn&#8217;t
                                                have to be fancy technology, it
                                                can just be a technique, a way
                                                of managing work; all things
                                                worth doing have some way of
                                                improving, by bringing in this
                                                same sense of collaboration and
                                                individual action and
                                                thoughtfulness, all things can
                                                be implemented better than they
                                                are now. What I&#8217;m
                                                describing isn&#8217;t a fancy
                                                new website for professionals,
                                                but about people look at their
                                                own work differently; the
                                                technology is not the hard part.
                                            </p>
                                        </div>
                                        <div class="section" id="the-political">
                                            <h2>The Political</h2>
                                            <p>
                                                Changing how people look at
                                                their work I think is political.
                                                It involves individual
                                                empowerment. It can mean
                                                economic change. I also think it
                                                deemphasizes competition. When I
                                                think about Pylons, or Django,
                                                or TurboGears, or WSGI,
                                                there&#8217;s competition, but
                                                it&#8217;s also collegial.
                                                There&#8217;s not really that
                                                much of a sense of survival. We
                                                aren&#8217;t carving out
                                                territories, we&#8217;re just
                                                finding paths to some unknown
                                                end. If something else wins out,
                                                well, we&#8217;re all just along
                                                for the ride. In the end it is
                                                inevitable that something else
                                                other than what <em>any</em> of
                                                us are working on will win out
                                                over what any of us are doing.
                                                Just like everyone eventually
                                                loses their job at least to
                                                death or retirement.
                                                There&#8217;s no permanency. But
                                                if we can be individually more
                                                productive, it doesn&#8217;t
                                                have to mean we&#8217;ve put
                                                someone else out. It
                                                <em>could</em> mean we all, all
                                                of society, all of humanity,
                                                just do <em>more</em>. Why do we
                                                have to set ourselves against
                                                the Chinese, or Europe against
                                                the U.S.? Why do we have to set
                                                ourselves one economy against
                                                another?
                                            </p>
                                            <p>
                                                Or consider government itself:
                                                we&#8217;re obsessed with our
                                                elected officials, but of course
                                                government is far larger than
                                                just the elected officials. The
                                                U.S. Federal Government alone
                                                has 1.8 million employees. We
                                                constantly threaten to institute
                                                accountability, meaning that
                                                we&#8217;ll poke and prod
                                                government workers from the
                                                outside and expect better
                                                outcomes. That we expect
                                                anything to come of this is
                                                absurd, but somehow
                                                accountability has become an
                                                easy alternative to constructive
                                                suggestions for improvement.
                                            </p>
                                            <p>
                                                But why shouldn&#8217;t we
                                                expect that government workers
                                                <em>want</em> to do better? I
                                                believe in fact those people
                                                doing the work are especially
                                                well equiped to figure out
                                                <em>how</em> to do better. But
                                                it&#8217;s not automatic. They
                                                aren&#8217;t empowered in a
                                                system that is so exceptionally
                                                hierarchical. Lately we&#8217;ve
                                                seen lots of efforts to ask the
                                                public how to do government work
                                                better, but we&#8217;ve seen
                                                nothing asking
                                                <em>government</em> how to do
                                                government work better.
                                            </p>
                                            <p>
                                                These are the kinds of things
                                                I&#8217;d like to see us all
                                                think about more: open source
                                                has done incredible things, has
                                                inspired new ideas, about more
                                                than just software and
                                                engineering, but I think we have
                                                yet more things to give.
                                            </p>
                                            <p>Thank you for your time.</p>
                                        </div>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2009/09/10/a-new-self-definition-for-foss/"
    dc:identifier="https://ianbicking.org/2009/09/10/a-new-self-definition-for-foss/"
    dc:title="Toward a new self-definition for open source"
    trackback:ping="https://ianbicking.org/2009/09/10/a-new-self-definition-for-foss/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2009 09 10</h3>
                            <p class="post-categories">
                                <a
                                    href="../../../licensing/index.html"
                                    title="View all posts in Licensing"
                                    rel="category tag"
                                    >Licensing</a
                                ><br /><a
                                    href="../../../politics/index.html"
                                    title="View all posts in Politics"
                                    rel="category tag"
                                    >Politics</a
                                ><br /><a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2009/09/10/a-new-self-definition-for-foss/index.html#comments"
                                    title="Comment on Toward a new self-definition for open source"
                                    >Comments (22)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2009/09/10/a-new-self-definition-for-foss/index.html"
                                    title="Permalink to Toward a new self-definition for open source"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="post-122" class="post">
                        <div class="post-container">
                            <div class="post-content">
                                <h2 class="post-title">
                                    <a
                                        href="../../../../2009/05/22/webob-decorator/index.html"
                                        title="Permalink to WebOb decorator"
                                        rel="bookmark"
                                        >WebOb decorator</a
                                    >
                                </h2>
                                <div class="post-entry">
                                    <div class="document">
                                        <p>
                                            Lately I&#8217;ve been writing a few
                                            applications (e.g.,
                                            <a
                                                class="reference external"
                                                href="http://pickywiki.org"
                                                >PickyWiki</a
                                            >
                                            and a revisiting a request-tracking
                                            application
                                            <a
                                                class="reference external"
                                                href="http://svn.pythonpaste.org/Paste/VaingloriousEye/trunk"
                                                >VaingloriousEye</a
                                            >), and I usually use no framework
                                            at all.
                                            <a
                                                class="reference external"
                                                href="http://pylonshq.com"
                                                >Pylons</a
                                            >
                                            would be a natural choice, but given
                                            that I am comfortable with all the
                                            components, I find myself inclined
                                            to assemble the pieces myself.
                                        </p>
                                        <p>
                                            In the process I keep writing bits
                                            of code to make WSGI applications
                                            from simple
                                            <a
                                                class="reference external"
                                                href="http://pythonpaste.org/webob/"
                                                >WebOb</a
                                            >
                                            -based request/response cycles. The
                                            simplest form looks like this:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">from</span> webob
                                            <span class="kw1">import</span>
                                            Request, Response, exc<br />
                                            <br />
                                            <span class="kw1">def</span>
                                            wsgiwrap<span class="br0"
                                                >&#40;</span
                                            >func<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            wsgi_app<span class="br0"
                                                >&#40;</span
                                            >environ, start_response<span
                                                class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; req =
                                            Request<span class="br0">&#40;</span
                                            >environ<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">try</span>:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp; resp = func<span class="br0"
                                                >&#40;</span
                                            >req<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">except</span>
                                            exc.<span class="me1"
                                                >HTTPException</span
                                            >, e:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                            &nbsp; resp = e<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            resp<span class="br0">&#40;</span
                                            >environ, start_response<span
                                                class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            wsgi_app<br />
                                            <br />
                                            @<span class="co1">wsgiwrap</span
                                            ><br />
                                            <span class="kw1">def</span>
                                            hello_world<span class="br0"
                                                >&#40;</span
                                            >req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            Response<span class="br0"
                                                >&#40;</span
                                            ><span class="st0">'Hi %s!'</span> %
                                            <span class="br0">&#40;</span
                                            >req.<span class="me1">POST</span
                                            >.<span class="me1">get</span
                                            ><span class="br0">&#40;</span
                                            ><span class="st0">'name'</span>,
                                            <span class="st0">'You'</span
                                            ><span class="br0">&#41;</span
                                            ><span class="br0">&#41;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            But each time I&#8217;d write it, I
                                            change things slightly, implementing
                                            more or less features. For instance,
                                            <a
                                                class="reference external"
                                                href="../../../../2008/10/24/decorators-and-descriptors/index.html"
                                                >handling methods</a
                                            >, or coercing other responses, or
                                            handling middleware.
                                        </p>
                                        <p>
                                            Having implemented several of these
                                            (and
                                            <a
                                                class="reference external"
                                                href="http://svn.pythonpaste.org/Paste/WebOb/contrib"
                                                >reading other people&#8217;s
                                                implementations</a
                                            >) I decided I wanted WebOb to
                                            include a kind of reference
                                            implementation. But I don&#8217;t
                                            like to include anything in WebOb
                                            unless I&#8217;m sure I can get it
                                            <em>right</em>, so I&#8217;d really
                                            like feedback. (There&#8217;s been
                                            some
                                            <a
                                                class="reference external"
                                                href="http://groups.google.com/group/paste-users/browse_thread/thread/7346e75940413f46"
                                                >less than positive feedback</a
                                            >, but I trudge on.)
                                        </p>
                                        <p>
                                            My implementation is in a
                                            <a
                                                class="reference external"
                                                href="http://svn.pythonpaste.org/Paste/WebOb/branches/ianb-decorator-experiment"
                                                >WebOb branch</a
                                            >, primarily in
                                            <a
                                                class="reference external"
                                                href="http://svn.pythonpaste.org/Paste/WebOb/branches/ianb-decorator-experiment/webob/dec.py"
                                                >webob.dec</a
                                            >
                                            (along with some
                                            <a
                                                class="reference external"
                                                href="http://svn.pythonpaste.org/Paste/WebOb/branches/ianb-decorator-experiment/tests/test_dec.txt"
                                                >doctests</a
                                            >).
                                        </p>
                                        <p>
                                            The most prominent way this is
                                            different from the example I gave is
                                            that it doesn&#8217;t change the
                                            function signature, instead it adds
                                            an attribute
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >.wsgi_app</span
                                                ></tt
                                            >
                                            which is WSGI application associated
                                            with the function. My goal with this
                                            is that the decorator isn&#8217;t
                                            intrusive. Here&#8217;s the case
                                            where I&#8217;ve been bothered:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            <span class="kw1">class</span>
                                            MyClass<span class="br0">&#40;</span
                                            ><span class="kw2">object</span
                                            ><span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; @<span class="co1"
                                                >wsgiwrap</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            form<span class="br0">&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            Response<span class="br0"
                                                >&#40;</span
                                            >form_html...<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            <br />
                                            &nbsp; &nbsp; @<span class="co1"
                                                >wsgiwrap</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">def</span>
                                            form_post<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp; handle
                                            submission<br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            OK, that&#8217;s fine, then I add
                                            validation:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            @<span class="co1">wsgiwrap</span
                                            ><br />
                                            <span class="kw1">def</span>
                                            form_post<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">if</span> req
                                            <span class="kw1">not</span>
                                            valid:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >form</span
                                            ><br />
                                            &nbsp; &nbsp; handle submission<br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            This still works, because the
                                            decorator allows you to return
                                            <em>any</em> WSGI application, not
                                            just a WebOb Response object. But
                                            that&#8217;s not helpful, because I
                                            need errors&#8230;
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            @<span class="co1">wsgiwrap</span
                                            ><br />
                                            <span class="kw1">def</span>
                                            form_post<span class="br0"
                                                >&#40;</span
                                            ><span class="kw2">self</span>,
                                            req<span class="br0">&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">if</span> req
                                            <span class="kw1">not</span>
                                            valid:<br />
                                            &nbsp; &nbsp; &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            <span class="kw2">self</span>.<span
                                                class="me1"
                                                >form</span
                                            ><span class="br0">&#40;</span>req,
                                            errors<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; handle submission<br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            That is, I want to have an option
                                            argument to the
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >form</span
                                                ></tt
                                            >
                                            method that passes in errors. But I
                                            can&#8217;t do this with the
                                            traditional
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >wsgiwrap</span
                                                ></tt
                                            >
                                            decorator, instead I have to
                                            refactor the code to have a third
                                            method that both
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >form</span
                                                ></tt
                                            >
                                            and
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >form_post</span
                                                ></tt
                                            >
                                            use. Of course, there&#8217;s more
                                            than one way to address this issue,
                                            but this is the technique I like.
                                        </p>
                                        <p>
                                            The one other notable feature is
                                            that you can also make middleware:
                                        </p>
                                        <div
                                            class="dean_ch"
                                            style="white-space: wrap"
                                        >
                                            <br />
                                            @<span class="co1"
                                                >wsgify.middleware</span
                                            ><br />
                                            <span class="kw1">def</span>
                                            cap_middleware<span class="br0"
                                                >&#40;</span
                                            >req, app<span class="br0"
                                                >&#41;</span
                                            >:<br />
                                            &nbsp; &nbsp; resp = app<span
                                                class="br0"
                                                >&#40;</span
                                            >req<span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp; resp.<span class="me1"
                                                >body</span
                                            >
                                            = resp.<span class="me1">body</span
                                            >.<span class="me1">upper</span
                                            ><span class="br0">&#40;</span
                                            ><span class="br0">&#41;</span
                                            ><br />
                                            &nbsp; &nbsp;
                                            <span class="kw1">return</span>
                                            resp<br />
                                            <br />
                                            capped_app = cap_middleware<span
                                                class="br0"
                                                >&#40;</span
                                            >some_wsgi_app<span class="br0"
                                                >&#41;</span
                                            ><br />
                                            &nbsp;
                                        </div>
                                        <p>
                                            Otherwise, for some reason
                                            I&#8217;ve found myself putting an
                                            inordinate amount of time into
                                            <tt class="docutils literal"
                                                ><span class="pre"
                                                    >__repr__</span
                                                ></tt
                                            >. Why I&#8217;ve done this I cannot
                                            say.
                                        </p>
                                    </div>
                                    <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2009/05/22/webob-decorator/"
    dc:identifier="https://ianbicking.org/2009/05/22/webob-decorator/"
    dc:title="WebOb decorator"
    trackback:ping="https://ianbicking.org/2009/05/22/webob-decorator/trackback/" />
</rdf:RDF> -->
                                </div>
                                <!-- END POST-ENTRY -->
                            </div>
                            <!-- END POST-CONTENT  -->
                        </div>
                        <!-- END-CONTAINER -->
                        <div class="post-header">
                            <h3 class="post-date">2009 05 22</h3>
                            <p class="post-categories">
                                <a
                                    href="../../index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                ><br /><a
                                    href="../../../python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                ><br /><a
                                    href="../../../web/index.html"
                                    title="View all posts in Web"
                                    rel="category tag"
                                    >Web</a
                                >
                            </p>
                            <p class="post-comments">
                                <a
                                    href="../../../../2009/05/22/webob-decorator/index.html#comments"
                                    title="Comment on WebOb decorator"
                                    >Comments (11)</a
                                >
                            </p>
                            <p class="post-permalink">
                                <a
                                    href="../../../../2009/05/22/webob-decorator/index.html"
                                    title="Permalink to WebOb decorator"
                                    rel="permalink"
                                    >Permalink</a
                                >
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div class="navigation">
                        <div class="alignleft">
                            <a
                                href="https://ianbicking.org/category/programming/page/3/"
                                >&laquo; Older posts</a
                            >
                        </div>
                        <div class="alignright">
                            <a href="../../index.html">Newer posts &raquo;</a>
                        </div>
                    </div>
                    <!-- END NAVIGATION -->
                </div>
                <!-- END CONTENT -->
            </div>
            <!-- END CONTAINER  -->

            <div id="sidebar">
                <ul>
                    <li id="home-link">
                        <h2>
                            <a
                                href="../../../../index.html"
                                title="Ian Bicking: a blog"
                                >Home</a
                            >
                        </h2>
                    </li>
                    <li id="text-315934862" class="widget widget_text">
                        <h2 class="widgettitle">About</h2>
                        <div class="textwidget">
                            Ian is a developer with Mozilla,
                            <a href="http://ianbicking.appspot.com/projects"
                                >Python open source developer</a
                            >, actually uses
                            <a
                                href="https://plus.google.com/u/0/104537541227697934010/posts"
                                >Google+</a
                            >
                            more than
                            <a href="http://twitter.com/ianbicking">twitter</a>
                            and lives in Minneapolis.<br />
                            <span
                                class="gittip-0001"
                                gittip-username="ianbicking"
                            ></span>
                            <script
                                id="gittip-0001"
                                src="https://www.gittip.com/assets/widgets/0001.js"
                            ></script>
                        </div>
                    </li>
                    <li id="text-315934863" class="widget widget_text">
                        <div class="textwidget">
                            <!-- <script type="text/javascript">mbgc='f5f5f5';ww='160';mbc='cecece';bbc='3F79D5';bmobc='3b71c6';bbgc='4889F0';bmoc='3F79D5';bfc='FFFFFF';bmofc='ffffff';tlc='cecece';tc='6a6a6a';nc='6a6a6a';bc='6a6a6a';l='y';fs='16';fsb='13';bw='100';ff='4';lu='6a6a6a';pc='4889F0';wh='340';b='s'; pid='104537541227697934010';</script><script type="text/javascript" src="http://widgetsplus.com/google_plus_widget.js"></script> -->
                        </div>
                    </li>
                    <li id="archives-2" class="widget widget_archive">
                        <h2 class="widgettitle">Archives</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../../../2012/10/index.html"
                                    title="October 2012"
                                    >October 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2012/02/index.html"
                                    title="February 2012"
                                    >February 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2011/04/index.html"
                                    title="April 2011"
                                    >April 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2011/03/index.html"
                                    title="March 2011"
                                    >March 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/09/index.html"
                                    title="September 2010"
                                    >September 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/08/index.html"
                                    title="August 2010"
                                    >August 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/05/index.html"
                                    title="May 2010"
                                    >May 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/04/index.html"
                                    title="April 2010"
                                    >April 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/03/index.html"
                                    title="March 2010"
                                    >March 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/02/index.html"
                                    title="February 2010"
                                    >February 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/01/index.html"
                                    title="January 2010"
                                    >January 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/09/index.html"
                                    title="September 2009"
                                    >September 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/05/index.html"
                                    title="May 2009"
                                    >May 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/04/index.html"
                                    title="April 2009"
                                    >April 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/01/index.html"
                                    title="January 2009"
                                    >January 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/12/index.html"
                                    title="December 2008"
                                    >December 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/11/index.html"
                                    title="November 2008"
                                    >November 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/10/index.html"
                                    title="October 2008"
                                    >October 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/09/index.html"
                                    title="September 2008"
                                    >September 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/08/index.html"
                                    title="August 2008"
                                    >August 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/07/index.html"
                                    title="July 2008"
                                    >July 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/06/index.html"
                                    title="June 2008"
                                    >June 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/05/index.html"
                                    title="May 2008"
                                    >May 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/04/index.html"
                                    title="April 2008"
                                    >April 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/03/index.html"
                                    title="March 2008"
                                    >March 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/02/index.html"
                                    title="February 2008"
                                    >February 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/01/index.html"
                                    title="January 2008"
                                    >January 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/11/index.html"
                                    title="November 2007"
                                    >November 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/10/index.html"
                                    title="October 2007"
                                    >October 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/09/index.html"
                                    title="September 2007"
                                    >September 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/08/index.html"
                                    title="August 2007"
                                    >August 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/07/index.html"
                                    title="July 2007"
                                    >July 2007</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="text-315934861" class="widget widget_text">
                        <div class="textwidget">
                            <a href="../../../../archive/index.html"
                                >The Older Archives</a
                            >
                        </div>
                    </li>
                    <li id="categories-1" class="widget widget_categories">
                        <h2 class="widgettitle">Categories</h2>
                        <ul>
                            <li class="cat-item cat-item-12">
                                <a
                                    href="../../../erlang/index.html"
                                    title="View all posts filed under Erlang"
                                    >Erlang</a
                                >
                            </li>
                            <li class="cat-item cat-item-11">
                                <a
                                    href="../../../html/index.html"
                                    title="View all posts filed under HTML"
                                    >HTML</a
                                >
                            </li>
                            <li class="cat-item cat-item-8">
                                <a
                                    href="../../../javascript/index.html"
                                    title="View all posts filed under Javascript"
                                    >Javascript</a
                                >
                            </li>
                            <li class="cat-item cat-item-15">
                                <a
                                    href="../../../licensing/index.html"
                                    title="View all posts filed under Licensing"
                                    >Licensing</a
                                >
                            </li>
                            <li class="cat-item cat-item-18">
                                <a
                                    href="../../../mozilla/index.html"
                                    title="View all posts filed under Mozilla"
                                    >Mozilla</a
                                >
                            </li>
                            <li class="cat-item cat-item-5">
                                <a
                                    href="../../../notech/index.html"
                                    title="View all posts filed under Non-technical"
                                    >Non-technical</a
                                >
                            </li>
                            <li class="cat-item cat-item-6">
                                <a
                                    href="../../../olpc/index.html"
                                    title="View all posts filed under OLPC"
                                    >OLPC</a
                                >
                            </li>
                            <li class="cat-item cat-item-14">
                                <a
                                    href="../../../packaging/index.html"
                                    title="View all posts filed under Packaging"
                                    >Packaging</a
                                >
                            </li>
                            <li class="cat-item cat-item-4">
                                <a
                                    href="../../../politics/index.html"
                                    title="View all posts filed under Politics"
                                    >Politics</a
                                >
                            </li>
                            <li class="cat-item cat-item-3 current-cat">
                                <a
                                    href="../../index.html"
                                    title="View all posts filed under Programming"
                                    >Programming</a
                                >
                            </li>
                            <li class="cat-item cat-item-7">
                                <a
                                    href="../../../python/index.html"
                                    title="View all posts filed under Python"
                                    >Python</a
                                >
                            </li>
                            <li class="cat-item cat-item-10">
                                <a
                                    href="../../../ruby/index.html"
                                    title="View all posts filed under Ruby"
                                    >Ruby</a
                                >
                            </li>
                            <li class="cat-item cat-item-19">
                                <a
                                    href="../../../security/index.html"
                                    title="View all posts filed under Security"
                                    >Security</a
                                >
                            </li>
                            <li class="cat-item cat-item-16">
                                <a
                                    href="../../../silverlining.1"
                                    title="View all posts filed under Silver Lining"
                                    >Silver Lining</a
                                >
                            </li>
                            <li class="cat-item cat-item-20">
                                <a
                                    href="../../testing/index.html"
                                    title="View all posts filed under Testing"
                                    >Testing</a
                                >
                            </li>
                            <li class="cat-item cat-item-9">
                                <a
                                    href="../../../web/index.html"
                                    title="View all posts filed under Web"
                                    >Web</a
                                >
                            </li>
                            <li class="cat-item cat-item-13">
                                <a
                                    href="../../../zopeplone/index.html"
                                    title="View all posts filed under Zope/Plone"
                                    >Zope/Plone</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="search-2" class="widget widget_search">
                        <form
                            id="searchform"
                            method="get"
                            action="../../../../index.html"
                        >
                            <div>
                                <input
                                    id="s"
                                    name="s"
                                    type="text"
                                    value=""
                                    tabindex="1"
                                    size="10"
                                />
                                <input
                                    id="searchsubmit"
                                    name="searchsubmit"
                                    type="submit"
                                    value="Find"
                                    tabindex="2"
                                />
                            </div>
                        </form>
                    </li>
                    <li
                        id="recent-posts-2"
                        class="widget widget_recent_entries"
                    >
                        <h2 class="widgettitle">Recent Posts</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../../../index.html?p=291"
                                    title="Why doctest.js is better than Python&#8217;s doctest"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=283"
                                    title="Python Application Package"
                                    >Python Application Package</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=277"
                                    title="Git-as-sync, not source-control-as-deployment"
                                    >Git-as-sync, not
                                    source-control-as-deployment</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=253"
                                    title="My Unsolicited Advice For PyPy"
                                    >My Unsolicited Advice For PyPy</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=250"
                                    title="A Python Web Application Package and Format (we should make one)"
                                    >A Python Web Application Package and Format
                                    (we should make one)</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li
                        id="recent-comments-2"
                        class="widget widget_recent_comments"
                    >
                        <h2 class="widgettitle">Recent Comments</h2>
                        <ul id="recentcomments">
                            <li class="recentcomments">
                                <a
                                    href="http://www.mirsa.com.tr"
                                    rel="external nofollow"
                                    class="url"
                                    >havalandrma</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-228633"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://redealmeidense.com.br/portalx/modules/"
                                    rel="external nofollow"
                                    class="url"
                                    >this website</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-196267"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Eric Pierce on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195322"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Paul Brian on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195321"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://benjiyork.com"
                                    rel="external nofollow"
                                    class="url"
                                    >Benji York</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195320"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div id="footer">
                <p>
                    &copy; 2013 Ian Bicking<!--
Does this commenting make me evil?
			|
			Thanks, <a href="http://wordpress.org/" title="WordPress">WordPress</a>
			|
			<a href="http://www.plaintxt.org/themes/barthelme/" title="Barthelme for WordPress" rel="follow">Barthelme</a> theme by <a href="http://scottwallick.com/" title="scottwallick.com" rel="follow">Scott</a>
			| <!-- The following is a link to the theme author's sponsor. Please consider its smallness and that Scott was nice enough to make this theme publically available. -->
                    Sponsor:
                    <a
                        href="http://www.active-sandals.com/womreefsan.html"
                        title="Support: Reef Sandals"
                        >Reef Sandals</a
                    >
                    | Valid
                    <a
                        href="http://validator.w3.org/check?uri=http://blog.ianbicking.org&amp;outline=1&amp;verbose=1"
                        title="Valid XHTML 1.0 Strict"
                        rel="nofollow"
                        >XHTML</a
                    >
                    &amp;
                    <a
                        href="http://jigsaw.w3.org/css-validator/validator?uri=https://ianbicking.org/wp-content/themes/Barthelme-ianb/style.css&amp;profile=css2&amp;warning=no"
                        title="Valid CSS"
                        rel="nofollow"
                        >CSS</a
                    >
                    | --> RSS:
                    <a
                        href="../../../../feed/rss/index.html"
                        title="Ian Bicking: a blog RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Posts</a
                    >
                    &amp;
                    <a
                        href="../../../../comments/feed/index.html"
                        title="Ian Bicking: a blog Comments RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Comments</a
                    >
                </p>
            </div>
        </div>
        <!-- END WRAPPER -->

        <!-- Somehow 41 queries occured in 1.749 seconds. Magic! -->
        <!-- The "Barthelme" theme copyright (c) 2006 Scott Allan Wallick - http://www.plaintxt.org/themes/ -->

        <!-- Google Analytics -->
        <script
            src="http://www.google-analytics.com/urchin.js"
            type="text/javascript"
        ></script>
        <script type="text/javascript">
            _uacct = "UA-2442258-1";
            urchinTracker();
        </script>
    </body>
</html>
