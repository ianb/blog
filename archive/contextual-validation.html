<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Contextual Validation</title>
        <link rel="stylesheet" href="WK/default.css" type="text/css" />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="New Posts"
            href="https://ianbicking.org/feeds/new_pages.xml"
        />
    </head>
    <body color="black" bgcolor="white">
        <h1 id="header">
            <a href="index.html">Ian Bicking: the old part of his blog</a>
        </h1>

        <div style="float: right">
            <script type="text/javascript">
                google_ad_client = "pub-2913402032659646";
                google_ad_width = 120;
                google_ad_height = 600;
                google_ad_format = "120x600_as";
                google_ad_type = "text";
                google_ad_channel = "";
                google_color_border = "336699";
                google_color_bg = "FFFFFF";
                google_color_link = "0000FF";
                google_color_text = "000000";
                google_color_url = "008000";
                //-->
            </script>
        </div>
        <h1>Contextual Validation</h1>

        <div class="document">
            <p>
                Martin Fowler just put up a page on
                <a
                    class="reference"
                    href="http://martinfowler.com/bliki/ContextualValidation.html"
                    >Contextual Validation</a
                >. I don't feel like adding much to that right now, except to
                say that
                <a class="reference" href="http://formencode.org">FormEncode</a>
                is built around contextual validation. SQLObject uses FormEncode
                internally, but still just as contextual validation -- the
                context there being Python-process-to-database. That means it
                validates that you put ints into INT fields and stuff like that,
                or handles encoding or other storage transformations. It
                <em>doesn't</em> (and <em>won't</em>) validate all your business
                logic. It won't make sure that passwords are no less than 5
                characters long. It won't validate that zip codes fit a certain
                format. None of that. That isn't storage. I'd argue that isn't
                even a good model.
            </p>
            <p>
                Instead FormEncode sees validation as a transformation, as data
                moves from one place to another. From Python to the database.
                From an HTML form to your internal structures, and so on. So
                objects only get validation schemas when they embody some
                transformation (and SQLObject, as an example, embodies one kind
                of transformation, but just one).
            </p>
            <p>
                Now, lest you think this is an academic distinction and
                overdesign, I should emphasize that this makes your models
                <em>more</em> useful, your data <em>more</em> agile, the risk of
                strict validation <em>less</em> risky. This isn't about tying
                everything down, enforcing absolute integrity. Contextual
                validation means validating <em>less</em>, not more. But if you
                are data integrity freak (sorry, <em>enthusiast</em>) you might
                not like this kind of validation.
            </p>
            <p>
                Anyway, it's nice to see someone give a name to the pattern, and
                it's nice to have an authority I can point to if asked to
                justify the decision.
            </p>
        </div>
        <div class="dates" align="right">Created 07 Dec '05</div>
    </body>
</html>
