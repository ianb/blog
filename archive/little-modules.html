<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Little modules</title>
        <link rel="stylesheet" href="WK/default.css" type="text/css" />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="New Posts"
            href="https://ianbicking.org/feeds/new_pages.xml"
        />
    </head>
    <body color="black" bgcolor="white">
        <h1 id="header">
            <a href="index.html">Ian Bicking: the old part of his blog</a>
        </h1>

        <div style="float: right">
            <script type="text/javascript">
                google_ad_client = "pub-2913402032659646";
                google_ad_width = 120;
                google_ad_height = 600;
                google_ad_format = "120x600_as";
                google_ad_type = "text";
                google_ad_channel = "";
                google_color_border = "336699";
                google_color_bg = "FFFFFF";
                google_color_link = "0000FF";
                google_color_text = "000000";
                google_color_url = "008000";
                //-->
            </script>

            <script src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
        </div>
        <h1>Little modules</h1>
        <p>
            I've added a few small modules to my Subversion repository, and
            generally tried to clean it all up. They are located at
            <tt>svn://colorstudy.com/home/ianb/</tt> or
            <a href="http://colorstudy.com/svn/home/ianb/"
                >http://colorstudy.com/svn/home/ianb</a
            >. Here's description of them all:
        </p>

        <p></p>

        <dl>
            <dt>
                <tt
                    ><a href="http://colorstudy.com/svn/home/ianb/indexer.cgi"
                        >indexer.cgi</a
                    ></tt
                >
            </dt>
            <dd>
                A module used as <tt>DirectoryIndex</tt> in Apache. Creates a
                somewhat better index than the default in Apache. Makes
                thumbnails of images.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/audio_reorg.py"
                        >audio_reorg.py</a
                    ></tt
                >
            </dt>
            <dd>
                A module to keep my audio files well sorted. It moves files
                around according to the metadata, or changes the metadata
                according to the filename. And downsamples my oggs to mp3's.
                It's rough, but it's useful for me.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/config/iniparser.py"
                        >config.iniparser</a
                    ></tt
                >
            </dt>
            <dd>
                Parses .ini files. There's been
                <a href="http://python.org/moin/ConfigParserShootout"
                    >discussions about a replacement for ConfigParser</a
                >, and this fits into that.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/slideshow/slideshow.html"
                        >slideshow/</a
                    ></tt
                >
            </dt>
            <dd>
                A Javascript slideshow which I
                <a
                    href="http://blog.colorstudy.com/ianb/weblog/2004/08/04.html#P142"
                >
                    mentioned before</a
                >. I think it works properly in IE now.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/color.py"
                        >recipes.color</a
                    ></tt
                >
            </dt>
            <dt></dt>
            <dd>
                A color module, RGBA, etc. Doesn't actually offer many features
                at this point.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/dictdiff"
                        >recipes.dictdiff</a
                    ></tt
                >
            </dt>
            <dd>
                Pretty prints the difference between two dictionaries. I've used
                it in unit tests.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/html.py"
                        >recipes.html</a
                    ></tt
                >
                and
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/htmlstream.py"
                        >recipes.htmlstream</a
                    ></tt
                >
            </dt>
            <dd>
                Two modules for generating HTML. <tt>html</tt> is just a
                simplest-possible-thing generator, similar to
                <a href="http://www.divmod.org/Home/Projects/Nevow/#stan"
                    >stan</a
                >
                or
                <a
                    href="http://starship.python.net/crew/friedrich/HTMLgen/html/main.html"
                    >HTMLgen</a
                >.
                <p>
                    <tt>htmlstream</tt> is a bit more complex, and knows about
                    the structure of HTML. So it kind of validates your HTML as
                    you go along. Unlike <tt>html</tt> and similar modules, it
                    implements a stream, so you don't have to have valid HTML at
                    all points in your module. Here's an example of creating a
                    SELECT with both <tt>html</tt> and <tt>htmlstream</tt>:
                </p>

                <pre>
select_name = 'month'
data = [(1, 'Jan'), (2, 'Feb'), ...]

from html import html
ops = []
for value, desc in data:
    ops.append(html.option(value=value, c=desc))
select = html.select(name=select_name, c=ops)

from htmlstream import HTMLStream
s = HTMLStream()
s.select.start()
for value, desc in data:
    s.option(value=value, c=desc)
s.select.end()
select = s.finish()
</pre
                >
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/securehidden.py"
                        >recipes.securehidden</a
                    ></tt
                >
            </dt>
            <dd>
                Generates values for use in HTML hidden fields, signed so that
                the user cannot modify the value (e.g.,
                <a
                    href="http://www.squarefree.com/bookmarklets/forms.html#show_hiddens"
                    >using this bookmarklet</a
                >).
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/setonce.py"
                        >recipes.setonce</a
                    ></tt
                >
            </dt>
            <dd>
                Mentioned this
                <a
                    href="http://blog.colorstudy.com/ianb/weblog/2004/07/15.html#P131"
                    >before</a
                >; kind of a read-only attribute.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/sqlbuilder.py"
                        >recipes.sqlbuilder</a
                    ></tt
                >
            </dt>
            <dd>
                From <a href="http://sqlobject.org">SQLObject</a>, this allows
                you to make SQL queries using Python syntax.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/stricttype.py"
                        >recipes.stricttype</a
                    ></tt
                >
            </dt>
            <dd>
                A
                <a href="http://users.rcn.com/python/download/Descriptor.htm"
                    >descriptor</a
                >
                (like <tt>setonce</tt>) that enforces the type of the attribute.
            </dd>

            <dt>
                <tt
                    ><a
                        href="http://colorstudy.com/svn/home/ianb/recipes/variabledecode.py"
                        >recipes.variabledecode</a
                    ></tt
                >
            </dt>
            <dd>
                From <a href="http://formencode.org">FormEncode</a>, this
                unpacks variables from an HTTP request into a nested structure.
                While all the names in an HTTP request are flat, but using
                <tt>.</tt> and <tt>-</tt> this will change it into a bunch of
                nested lists and dictionaries.
            </dd>
        </dl>
        <div class="dates" align="right">
            Created 22 Oct '04<br />
            Modified 14 Dec '04
        </div>
        <hr noshade />
        <h3 id="comments">Comments:</h3>
        <blockquote>
            Hi, Ian.
            <br />

            <br />
            I had to change line 67 to make <tt>indexer.cgi</tt> work for me
            (Apache, running as CGI from <tt>.htaccess</tt>):
            <br />

            <br />
            <tt
                >#path_url = os.environ['SCRIPT_URL']
                <br />
                path_url = os.environ['REQUEST_URI']</tt
            >
            <br />

            <br />
            There was no <tt>SCRIPT_URL</tt> key. Other than that, works great.
            :)
            <div align="right">
                <a href="https://ianbicking.org/comment429.html" rel="nofollow"
                    >#</a
                >
                <a href="http://dealmeida.net">Roberto</a>
            </div>
            <hr noshade />
            On my system it must be SCRIPT_URL or it won't work
            <div align="right">
                <a href="https://ianbicking.org/comment430.html" rel="nofollow"
                    >#</a
                >
                <a href="http://dagur.sytes.net/">Dagur</a>
            </div>
            <hr noshade />
            I concur with Roberto, REQUEST_URI works for me; SCRIPT_URL does
            not. I'm using Apache 2.
            <div align="right">
                <a href="https://ianbicking.org/comment431.html" rel="nofollow"
                    >#</a
                >
                Jim
            </div>
            <hr noshade />
            Re: the slideshow, I have some Javascript code that does something
            along similar lines, paging backwards and forwards between sections
            of text. It animates fairly nicely, too. You can see it in action
            here:
            <br />

            <br />
            <a
                href="http://codepoetics.com/half_cocks/poem.html"
                target="_blank"
                >http://codepoetics.com/half_cocks/poem.html</a
            >
            <br />

            <br />
            The Javascript source files can be seen here:
            <br />

            <br />
            <a href="http://codepoetics.com/scripts/list.js" target="_blank"
                >http://codepoetics.com/scripts/list.js</a
            >
            <br />
            <a href="http://codepoetics.com/scripts/events.js" target="_blank"
                >http://codepoetics.com/scripts/events.js</a
            >
            <br />
            <a
                href="http://codepoetics.com/scripts/interpolation.js"
                target="_blank"
                >http://codepoetics.com/scripts/interpolation.js</a
            >
            <br />
            <a href="http://codepoetics.com/scripts/fade.js" target="_blank"
                >http://codepoetics.com/scripts/fade.js</a
            >
            <div align="right">
                <a href="https://ianbicking.org/comment432.html" rel="nofollow"
                    >#</a
                >
                <a href="http://www.codepoetics.com">Dominic Fox</a>
            </div>
            <hr noshade />
            Funny, no SCRIPT_URL? I'm running it under Apache 1.3. I also can't
            figure out how to really tell what directory the indexer is supposed
            to be indexing; instead I have to fake it, and it might not work
            with aliases and whatnot. Which seems like an oversight on Apache's
            part. Maybe some of this is changed in Apache 2.
            <div align="right">
                <a href="https://ianbicking.org/comment433.html" rel="nofollow"
                    >#</a
                >
                Ian Bicking
            </div>
            <hr noshade />
            I am using Apache 2.0 btw.
            <div align="right">
                <a href="https://ianbicking.org/comment434.html" rel="nofollow"
                    >#</a
                >
                <a href="http://dagur.sytes.net/">Dagur</a>
            </div>
            <hr noshade />
            I'm using Apache 2 also, but with a few hacks for my Pyblosxom setup
            that could be the culprit.
            <div align="right">
                <a href="https://ianbicking.org/comment435.html" rel="nofollow"
                    >#</a
                >
                <a href="http://dealmeida.net">Roberto</a>
            </div>
            <hr noshade />
            sqlbuilder wants to import a non-existent 'converters', which is
            presumably in the original sqlobject.
            <div align="right">
                <a href="https://ianbicking.org/comment436.html" rel="nofollow"
                    >#</a
                >
                Hamish Lawson
            </div>
            <hr noshade />
        </blockquote>
        <script
            src="http://www.google-analytics.com/urchin.js"
            type="text/javascript"
        ></script>
        <script type="text/javascript">
            _uacct = "UA-2442258-1";
            urchinTracker();
        </script>
    </body>
</html>
