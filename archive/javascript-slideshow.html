<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Javascript Slideshow</title>
        <link rel="stylesheet" href="WK/default.css" type="text/css" />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="New Posts"
            href="http://blog.ianbicking.org/feeds/new_pages.xml"
        />

        <link rel="openid.server" href="http://www.myopenid.com/server" />
        <link rel="openid.delegate" href="http://ianb.myopenid.com" />
    </head>
    <body color="black" bgcolor="white">
        <h1 id="header">
            <a href="index.html">Ian Bicking: the old part of his blog</a>
        </h1>

        <div style="float: right">
            <script type="text/javascript">
                google_ad_client = "pub-2913402032659646";
                google_ad_width = 120;
                google_ad_height = 600;
                google_ad_format = "120x600_as";
                google_ad_type = "text";
                google_ad_channel = "";
                google_color_border = "336699";
                google_color_bg = "FFFFFF";
                google_color_link = "0000FF";
                google_color_text = "000000";
                google_color_url = "008000";
                //-->
            </script>

            <script src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
        </div>
        <h1>Javascript Slideshow</h1>
        <p>
            As a lesson in Javascript for myself, I wrote a slideshow
            application. After fiddling with it quite a bit, I think it's
            actually a good bit of code, not just "working". Most Javascript
            seems like it's just "working". Anyway, it uses the document as its
            data source (instead of Javascript literals), is object-oriented
            (you can have more than one slideshow on a page), and can be
            customized. If viewcvs doesn't break (stupid permission issues) you
            can view it at
            <a
                href="http://colorstudy.com/cgi-bin/viewcvs.cgi/home/ianb/slideshow/"
                >svn://colorstudy.com/home/ianb/slideshow</a
            >; an open issue is how to have permalinks within the slideshow.
            Javascript doesn't, I think, have access to GET variables or
            anything, and I'm trying to avoid a server-side component. Maybe the
            fragment identifier, somehow?
        </p>

        <p>
            Anyway, here's my first slideshow: my sister and I painted my
            <a href="http://potteryblog.com">my girlfriend Emily</a>'s car.
        </p>

        <div id="images">
            <a href="https://ianbicking.org/pics/car/PICT0661-medium.jpg"
                >The before picture. Apparently this year and model had a bad
                paint job.</a
            ><br />

            <a href="https://ianbicking.org/pics/car/PICT0663-medium.jpg"
                >Its last time in its native environment. Though Chicago has a
                large number of candidates for art cars -- i.e., crappy, ugly,
                and with no resale value -- there aren't that many. They were a
                lot more popular in Minneapolis. </a
            ><br />

            <a href="https://ianbicking.org/pics/car/PICT0667-medium.jpg"
                >This is my sister. No pictures of me, because there's never
                pictures of me, because I'm the one who takes the pictures.<br /><br />

                We're planning on doing Monica's car too, by doing decoupage
                with newspaper. It should be spiffy. I just hope it doesn't
                start on fire.</a
            ><br />

            <a href="https://ianbicking.org/pics/car/PICT0668-medium.jpg"
                >Here's the handsome car.</a
            ><br />

            <a href="https://ianbicking.org/pics/car/PICT0671-medium.jpg"
                >And again, in front of our apartment.</a
            ><br />

            <a href="https://ianbicking.org/pics/car/PICT0672-medium.jpg"
                >Notice the fine detail ;) The fuzzy edges from the spraypaint
                have grown on us. We still have to fix up a few scratches and
                apply a clear layer, and probably some car polish, then it'll be
                real pretty.</a
            ><br />
        </div>
        <div class="dates" align="right">
            Created 04 Aug '04<br />
            Modified 14 Dec '04
        </div>
        <hr noshade />
        <h3 id="comments">Comments:</h3>
        <blockquote>
            JavaScript actually does have access to GET variables:
            <br />

            <br />
            <a
                href="http://www.devguru.com/Technologies/ecmascript/quickref/location.html"
                target="_blank"
                >http://www.devguru.com/Technologies/ecmascript/quickref/location.html</a
            >
            <br />

            <br />
            The location object has two properties which might interest you:
            <br />

            <br />
            location.search is the part of the current URL beginning with a
            question mark. Should be easy to parse
            <br />

            <br />
            location.hash is the part of the current URL beginning with a hash
            mark (#), which denotes an anchor name in the document
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment264.html"
                    rel="nofollow"
                    >#</a
                >
                Will McCutchen
            </div>
            <hr noshade />
            In my build of Mozilla 1.6, the prev/next buttons are floating all
            the way to the sides of the browser window -- the next button to the
            right of your blogroll, the prev button sticking out a bit to the
            left of the red border around your main blog div.
            <br />

            <br />
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment265.html"
                    rel="nofollow"
                    >#</a
                >
                Jacob
            </div>
            <hr noshade />
            Yeah, that button... it worked fine when the slideshow has its own
            window, but with the sidebar it's causing problems. I have the CSS
            set to position: absolute; right: 5px;. I'm not sure how to indicate
            that it should hang out on the right side of its container. float:
            right, maybe, but I've had bad luck with floats and consistent
            rendering on different browsers.
            <br />
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment266.html"
                    rel="nofollow"
                    >#</a
                >
                Ian Bicking
            </div>
            <hr noshade />
            IE doubles side margins on floats. Generally, if you float, say, a
            div, you should set display to 'inline':
            <br />

            <br />
            div#bar {
            <br />
            float: right;
            <br />
            display: inline;
            <br />
            }
            <br />

            <br />
            ...which will fix the right margin for IE without changing Moz,
            Opera, et al.
            <br />

            <br />
            <a
                href="http://www.positioniseverything.net/explorer/doubled-margin.html"
                target="_blank"
                >http://www.positioniseverything.net/explorer/doubled-margin.html</a
            >
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment267.html"
                    rel="nofollow"
                    >#</a
                >
                Robert Brewer
            </div>
            <hr noshade />
            In IE 6 (or 6.0.2800.1106.xpsp2.030422-1633, to be precise), I only
            get a list of hyperlinks to JPEG images (and a bunch of javascript
            errors). Is that what you meant with "not just working" ? ;-)
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment268.html"
                    rel="nofollow"
                    >#</a
                >
                <a href="http://effbot.org">Fredrik</a>
            </div>
            <hr noshade />
            On osx, using either Safari or OmniWeb (both use webkit), there is
            no slide show, just some descriptive text links to jpeg files.
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment269.html"
                    rel="nofollow"
                    >#</a
                >
                Andrew
            </div>
            <hr noshade />
            Damn you IE! It was working, and then I just tweaked it a little
            bit, and it broke. Part of this is Mozilla's fault, as it seems much
            more lenient on syntax and some other rules, so it works where IE
            breaks. But after fixing that, the stupid buttons aren't working.
            Stupid IE! I hate you IE!
            <br />

            <br />
            I also am finding the event model to be a pain in the ass.
            Javascript doesn't have bound methods, so you can't register a
            method as a callback for an event. Well, you can, but then
            <tt>this</tt> suddenly becomes the window. So I have to create a
            string that represents the object (an object which otherwise could
            have been anonymous). But IE doesn't like it either way. Arr! I was
            feeling fairly happy with Javascript for a while there.
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment270.html"
                    rel="nofollow"
                    >#</a
                >
                Ian Bicking
            </div>
            <hr noshade />
            Floats don't seem to work correctly on Mozilla (haven't tested IE).
            The prev button stacks ontop of the next button. All that after
            struggling to apply the float style, because you can't do
            <tt>obj.style.float = 'right';</tt> instead you have to do
            <tt>someOtherObject.innerHTML = '[a style="float: right"][/a]'</tt>
            (this comment system tends to mess up angle brackets, so I replaced
            those with square brackets). Floats seem really unreliable to me.
            And I still have to work on the events.
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment271.html"
                    rel="nofollow"
                    >#</a
                >
                Ian Bicking
            </div>
            <hr noshade />
            <blockquote>
                <div class="document">
                    <p>
                        float is a reserved word in JavaScript. -&gt; use
                        CSSfloat instead.
                    </p>
                </div>
                <div align="right">
                    <a
                        href="http://blog.ianbicking.org/-comment-857.html"
                        rel="nofollow"
                        >#</a
                    >
                    <a href="http://blog.ianbicking.org/www.speich.net"
                        >SnowCrash</a
                    >
                </div>
                <hr noshade />

                <div class="document">
                    float is a reserved word in JavaScript. -&gt; use CSSfloat
                    instead.
                </div>
                <div align="right">
                    <a
                        href="http://blog.ianbicking.org/-comment-858.html"
                        rel="nofollow"
                        >#</a
                    >
                    <a href="http://www.speich.net">SnowCrash</a>
                </div>
                <hr noshade />

                <div class="document">
                    <p>to bad I can't edit my posting:</p>
                    <p>It's style.cssFloat</p>
                    <p>sorry for double posting.</p>
                </div>
                <div align="right">
                    <a
                        href="http://blog.ianbicking.org/-comment-859.html"
                        rel="nofollow"
                        >#</a
                    >
                    <a href="http://www.speich.net">SnowCrash</a>
                </div>
                <hr noshade />
            </blockquote>
            Neat paint job! I have a car of similar age and appearance. If you
            and your sister happen to be in Sydney with a spare day on your
            hands... ;)
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment272.html"
                    rel="nofollow"
                    >#</a
                >
                <a href="http://cardboard.nu">Alan Green</a>
            </div>
            <hr noshade />
            I'm currently painting my bathroom .. maybe i don't choose the same
            design / colors :)
            <br />

            <br />

            <br />
            Bye Bye Ian
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment273.html"
                    rel="nofollow"
                    >#</a
                >
                Jkx
            </div>
            <hr noshade />
            I think you need run svnadmin recover:
            <br />

            <br />
            fn@lunix:~$ svn co svn://colorstudy.com/home/ianb/slideshow
            slideshow
            <br />
            svn: Berkeley DB error while opening environment for filesystem
            /var/lib/subversion/repository/db:
            <br />
            DB_RUNRECOVERY: Fatal error, run database recovery
            <br />
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment274.html"
                    rel="nofollow"
                    >#</a
                >
                <a href="http://www.hungry.com/~fn/">Faried Nawaz</a>
            </div>
            <hr noshade />
            On Firefox 0.9.2 and Mozilla 1.7.1, the "prev" button reloads the
            page, in addition to cycling the image. I'm not sure why it would do
            that, but I suspect that it's because you're using the a tag's
            onclick property over an href javascript link. Try
            href="javascript:" link instead, even though onclick is abstractly
            more elegant. Another option might be to use the button tag,
            although that has issues in IE.
            <br />

            <br />
            Sweet paint job.
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment275.html"
                    rel="nofollow"
                    >#</a
                >
                <a href="http://www.kenkinder.com/"
                    >Previous Button Reloads Page</a
                >
            </div>
            <hr noshade />
            Yeah, I tried the href="javascript:..." thing too. But I couldn't
            return false (some stupid error about not being able to return false
            in that context), so it kept loading the return value of the
            function into the window (even if it's false). I'm so fucking pissed
            at Javascript over this crap.
            <div align="right">
                <a
                    href="http://blog.ianbicking.org/comment276.html"
                    rel="nofollow"
                    >#</a
                >
                Ian Bicking
            </div>
            <hr noshade />
        </blockquote>
        <script
            src="http://www.google-analytics.com/urchin.js"
            type="text/javascript"
        ></script>
        <script type="text/javascript">
            _uacct = "UA-2442258-1";
            urchinTracker();
        </script>
    </body>
</html>
