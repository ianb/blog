<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- MOBIFY - DO NOT ALTER - PASTE IMMEDIATELY AFTER OPENING HEAD TAG -->
<script type="text/javascript">/*<![CDATA[*/(function(a){function b(a,b){if(+a)return~a||(d.cookie=h+"=; path=/");j=d.createElement(e),k=d.getElementsByTagName(e)[0],j.src=a,b&&(j.onload=j.onerror=b),k.parentNode.insertBefore(j,k)}function c(){n.api||b(l.shift()||-1,c)}if(this.Mobify)return;var d=document,e="script",f="mobify",g="."+f+".com/",h=f+"-path",i=g+"un"+f+".js",j,k,l=[!1,1],m,n=this.Mobify={points:[+(new Date)],tagVersion:[6,0]},o=/(; |#|&|^)mobify-path=([^&;]*)/g.exec(location.hash+"; "+d.cookie);o?(m=o[2])&&!+(m=sessionStorage[h]||m)&&(l=[!0,"//preview"+g+escape(m)]):(l=a()||l,l[0]&&l.push("//cdn"+i,"//files01"+i)),l.shift()?(d.write('<plaintext style="display:none;">'),setTimeout(c)):b(l[0])})(function(){if(/ip(hone|od)|android.*(mobile)|blackberry.*applewebkit/i.test(navigator.userAgent)){return[1,"//cdn.mobify.com/sites/ians-blog/production/mobify.js"]}})/*]]>*/</script>
<!-- END MOBIFY -->
	<title>Ian Bicking: a blog   ::  WebOb</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta name="generator" content="WordPress 3.4.2" /><!-- LEAVE FOR STATS -->
	<meta name="description" content="" />
	<link rel="stylesheet" title="plaintxtSimpler" href="../../../../wp-content/themes/Barthelme-ianb/style.css" type="text/css" media="all" />
	<link rel="start" href="../../../../index.html" title="Ian Bicking: a blog" />
	<link rel="alternate" type="application/atom+xml" title="Ian Bicking: a blog Atom Feed" href="../../../../feed/atom/index.html" />
	<link rel="alternate" type="application/rss+xml" title="Ian Bicking: a blog RSS 2.0 Feed" href="../../../../feed/rss/index.html" />
	<link rel="alternate" type="application/rss+xml" title="Ian Bicking: a blog Comments RSS 2.0 Feed" href="../../../../comments/feed/index.html" />
	<link rel="alternate" type="application/rdf+xml" title="Ian Bicking: a blog RSS 1.0" href="../../../../feed/rdf/index.html" />
	<link rel="alternate" type="text/xml" title="Ian Bicking: a blog RSS 0.92 Feed" href="../../../../feed/rss/index.html" />
	<link rel="pingback" href="../../../../xmlrpc.php" />
	<link rel="openid.server" href="http://www.myopenid.com/server" />
	<link rel="openid.delegate" href="http://ianb.myopenid.com" />
        <link rel="me" type="text/html" href="http://www.google.com/profiles/ianbicking"/>
		<link rel='archives' title='October 2012' href='../../../../2012/10/index.html' />
	<link rel='archives' title='February 2012' href='../../../../2012/02/index.html' />
	<link rel='archives' title='April 2011' href='../../../../2011/04/index.html' />
	<link rel='archives' title='March 2011' href='../../../../2011/03/index.html' />
	<link rel='archives' title='September 2010' href='../../../../2010/09/index.html' />
	<link rel='archives' title='August 2010' href='../../../../2010/08/index.html' />
	<link rel='archives' title='May 2010' href='../../../../2010/05/index.html' />
	<link rel='archives' title='April 2010' href='../../../../2010/04/index.html' />
	<link rel='archives' title='March 2010' href='../../../../2010/03/index.html' />
	<link rel='archives' title='February 2010' href='../../../../2010/02/index.html' />
	<link rel='archives' title='January 2010' href='../../../../2010/01/index.html' />
	<link rel='archives' title='September 2009' href='../../../../2009/09/index.html' />
	<link rel='archives' title='May 2009' href='../../../../2009/05/index.html' />
	<link rel='archives' title='April 2009' href='../../../../2009/04/index.html' />
	<link rel='archives' title='January 2009' href='../../../../2009/01/index.html' />
	<link rel='archives' title='December 2008' href='../../../../2008/12/index.html' />
	<link rel='archives' title='November 2008' href='../../../../2008/11/index.html' />
	<link rel='archives' title='October 2008' href='../../../../2008/10/index.html' />
	<link rel='archives' title='September 2008' href='../../../../2008/09/index.html' />
	<link rel='archives' title='August 2008' href='../../../../2008/08/index.html' />
	<link rel='archives' title='July 2008' href='../../../../2008/07/index.html' />
	<link rel='archives' title='June 2008' href='../../../../2008/06/index.html' />
	<link rel='archives' title='May 2008' href='../../../../2008/05/index.html' />
	<link rel='archives' title='April 2008' href='../../../../2008/04/index.html' />
	<link rel='archives' title='March 2008' href='../../../../2008/03/index.html' />
	<link rel='archives' title='February 2008' href='../../../../2008/02/index.html' />
	<link rel='archives' title='January 2008' href='../../../../2008/01/index.html' />
	<link rel='archives' title='November 2007' href='../../../11/index.html' />
	<link rel='archives' title='October 2007' href='../../../10/index.html' />
	<link rel='archives' title='September 2007' href='../../../09/index.html' />
	<link rel='archives' title='August 2007' href='../../index.html' />
	<link rel='archives' title='July 2007' href='../../../07/index.html' />
	<link rel="alternate" type="application/rss+xml" title="Ian Bicking: a blog &raquo; WebOb Comments Feed" href="http://blog.ianbicking.org/2007/08/18/webob/feed/" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='DictMixin' href='../../17/dictmixin/index.html' />
<link rel='next' title='The Shrinking Python Web Framework World' href='../../21/the-shrinking-python-web-framework-world/index.html' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='canonical' href='index.html' />
<link rel='shortlink' href='http://blog.ianbicking.org/?p=25' />
<link rel="stylesheet" href="../../../../wp-content/plugins/source-code-syntax-highlighting-plugin-for-wordpress/geshi.css"  type="text/css" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
        <style type="text/css" media="all">
/*<![CDATA[*/
body { font-size: 100%; }
body { font-family: tahoma, geneva, sans-serif; }
div.post-header, h2.post-title, p.post-date-single, h2.post-title-single, div.post-entry h1, div.post-entry h2, div.post-entry h3, div.post-entry h4, div.post-entry h5, div.post-entry h6, div.post-entry blockquote, div.post-footer, h3#comment-count, h4#comment-header, div#comments ol li p.comment-metadata, h4#respond { font-family: verdana, geneva, sans-serif; }
div.post-entry p { text-align: left; }
div#wrapper { width: 100%; }

/*]]>*/
</style>
</head>
<body>

<div id="wrapper">

	<div id="header" onclick="location.href='http://blog.ianbicking.org/';" style="cursor:pointer;">
		<h1 id="title"><a href="../../../../index.html" title="Ian Bicking: a blog">Ian Bicking: a blog</a></h1>
		<p id="description"></p>
	</div>
<!-- WP Theme Credits -->
<div style="display: none;">We can answer on question <a href="http://www.olnevhost.net/vps-hosting.html">what is VPS</a>? and
what is <a href="http://www.olnevhost.net/dedicated-servers.html"><strong>cheap dedicated servers</strong></a>?</div>
<!-- END HEADER -->
<div id="container">
	<div id="content" class="widecolumn">


		<div id="post-25" class="post single-post">
			<p class="post-date-single">{ 2007 08 18 }</p>
			<h2 class="post-title-single">WebOb</h2>
			<div class="post-entry">
				<div class="document">
<p>I&#8217;ve have it in my head to extract/rewrite parts of <a class="reference external" href="http://pythonpaste.org">Paste</a> lately.  <a class="reference external" href="../../06/tempita/index.html">Tempita</a> was one example.</p>
<p>The request and response functions in Paste grew very organically.  I wasn&#8217;t trying to create a framework, so I studiously avoided anything that might look like a request or response object.  I felt that would be stepping on toes or something.  Eventually, though, <a class="reference external" href="http://groovie.org/">Ben Bangert</a> really wanted a request object for <a class="reference external" href="http://pylonshq.com/">Pylons</a>, and it went in <a class="reference external" href="http://pythonpaste.org/module-paste.wsgiwrappers.html">paste.wsgiwrappers</a>.  And at a certain point I decided that the class-based access was really just fine, and doing lots of <tt class="docutils literal"><span class="pre">function(environ,</span> <span class="pre">...)</span></tt> was no better than <tt class="docutils literal"><span class="pre">Request(environ).function(...)</span></tt>.</p>
<p>So I started <a class="reference external" href="http://pythonpaste.org/webob/">WebOb</a>.  WebOb has Request, Response, and some exceptions, incorporating the functionality of Paste&#8217;s <tt class="docutils literal"><span class="pre">paste.request</span></tt>, <tt class="docutils literal"><span class="pre">paste.response</span></tt>, <tt class="docutils literal"><span class="pre">paste.wsgilib</span></tt>, <tt class="docutils literal"><span class="pre">paste.httpexceptions</span></tt>, and <tt class="docutils literal"><span class="pre">paste.httpheaders</span></tt>.  And some extra stuff.</p>
<p>I&#8217;ve included a comparison with <a class="reference external" href="http://pythonpaste.org/webob/differences.html">a few other framework request/response objects</a>.  What this doesn&#8217;t note, though, is that WebOb has a much larger <a class="reference external" href="http://pythonpaste.org/webob/class-webob.Request.html">Request</a> and <a class="reference external" href="http://pythonpaste.org/webob/class-webob.Response.html">Response</a> objects.  I&#8217;ve taken almost all the <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">HTTP headers</a> and mapped them to parsed attributes.  So <tt class="docutils literal"><span class="pre">req.if_modified_since</span></tt> returns a <tt class="docutils literal"><span class="pre">datetime</span></tt> object, and <tt class="docutils literal"><span class="pre">req.if_none_match</span></tt> returns a somewhat set-like object, as a few examples.  I created a lot of view-like objects for this, representing the canonical form of the information in several other forms (the WSGI request environment, and the status/headers/body of the response).</p>
<p>It&#8217;s fairly well tested and includes almost everything I think it should include, but I reserve the right to change the API any way I want until 1.0; this means if you have <em>any</em> opinion on the API I have nothing to stop me from taking your opinions into account.</p>
<p>Oh, and it has <a class="reference external" href="http://pythonpaste.org/webob/">docs</a>, really.  They may not be the best docs, but they mention most everything and are automatically tested for accuracy.  If you just want a sense of the feel, maybe the <a class="reference external" href="http://pythonpaste.org/webob/file-example.html">file-serving example</a> would be a good place to start (though really you&#8217;ll only read about the Response object there).</p>
</div>
<p>Automatically generated list of related posts:</p><ol>
<li><a href='../../../../2009/05/22/webob-decorator/index.html' rel='bookmark' title='WebOb decorator'>WebOb decorator</a> <small>Lately I&#8217;ve been writing a few applications (e.g., PickyWiki and...</small></li>
<li><a href='../../../../2010/03/12/a-webob-app-example/index.html' rel='bookmark' title='What Does A WebOb App Look Like?'>What Does A WebOb App Look Like?</a> <small>Lately I&#8217;ve been writing code using WebOb and just a...</small></li>
<li><a href='../../../../2008/04/02/json-rpc-webob-example/index.html' rel='bookmark' title='JSON-RPC WebOb Example'>JSON-RPC WebOb Example</a> <small>I just saw this json-rpc recipe go by as a...</small></li>
<li><a href='../../../../2008/04/17/webob-do-it-yourself-framework/index.html' rel='bookmark' title='WebOb Do-It-Yourself Framework'>WebOb Do-It-Yourself Framework</a> <small>My old do-it-yourself framework tutorial was getting a bit long...</small></li>
<li><a href='../../../../index.html?p=215' rel='bookmark' title='WebTest HTTP testing'>WebTest HTTP testing</a> <small>I&#8217;ve yet to see another testing system for local web...</small></li>
</ol>											</div><!-- END POST-ENTRY  -->
			<!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://blog.ianbicking.org/2007/08/18/webob/"
    dc:identifier="http://blog.ianbicking.org/2007/08/18/webob/"
    dc:title="WebOb"
    trackback:ping="http://blog.ianbicking.org/2007/08/18/webob/trackback/" />
</rdf:RDF> -->
			<div class="post-footer">
				<p>Posted by Ian Bicking on Saturday, August 18th, 2007, at 7:37 pm, and filed under <a href="../../../../category/programming/index.html" title="View all posts in Programming" rel="category tag">Programming</a>, <a href="../../../../category/python/index.html" title="View all posts in Python" rel="category tag">Python</a>, <a href="../../../../category/web/index.html" title="View all posts in Web" rel="category tag">Web</a>.</p>
				<p>
				Comments have a <a href='http://blog.ianbicking.org/2007/08/18/webob/feed/'>feed</a>.</p>
			</div><!-- END POST-FOOTER -->
		</div><!-- END POST -->

<div id="comments">




<h4 id="comments">15 Comments</h4>
 <ul class="commentlist">
		<li class="comment even thread-even depth-1" id="comment-205">
				<div id="div-comment-205" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/509d2eb63d985d90dec817ba0f2f0045?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='http://www.aminus.org/blogs/index.php/fumanchu' rel='external nofollow' class='url'>Robert Brewer</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-205">
			August 18, 2007 at 8:32 pm</a>		</div>

		<p>Hm. I&#8217;ve always resisted making a separate attribute for each header, for two reasons: 1) it makes dir(req) or help(req) insanely long, and 2) it hides one API vocabulary behind another, in the simple fact that <code>if_none_match</code> (the Request attribute name) is now not the same set of characters as <code>"If-None-Match"</code> (the request header key). That sort of API-to-API translation step has always seemed to me to be something worth minimizing. Of course, if you could write <code>Request.If-None-Match</code> there&#8217;d be no issue, but that&#8217;s not a legal Python identifier. So I&#8217;ve preferred <code>Request.headers['If-None-Match']</code> instead, even though it&#8217;s more keystrokes.</p>

<p>Comments on either of those design pressures?</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment byuser comment-author-ianb bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-206">
				<div id="div-comment-206" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='../../../../index.html' rel='external nofollow' class='url'>Ian Bicking</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-206">
			August 18, 2007 at 9:11 pm</a>		</div>

		<p>It does make <code>dir()</code> very long, as well as the extracted docs.  I can imagine perhaps <code>req.headers.if_none_match</code> might be a way of partitioning out those headers.  I don&#8217;t know if the value of that outweighs the extra typing.</p>

<p><code>req.headers['if-none-match']</code> (case-insensitive) gives you the <em>actual</em> header value.  <code>req.if_none_match</code> gives you a parsed form.  So there is a distinct difference between the two.  There&#8217;s no generic <code>req.x_y_z</code> map to <code>req.headers['X-Y-Z']</code>; only explicit attributes I&#8217;ve setup with explicit parsing.</p>

<p>I think the name mismatch isn&#8217;t much of an issue.  It&#8217;s pretty obvious how the names map; everything in the API is the PEP 8 preferred lower-case underscore form, and headers are an obvious translation to that.</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment even thread-even depth-1" id="comment-213">
				<div id="div-comment-213" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/dd1a815ca3634ab75bd9c92a719005d5?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='http://www.maluke.com/' rel='external nofollow' class='url'>Sergey Schetinin</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-213">
			August 19, 2007 at 3:49 am</a>		</div>

		<p>It would be great if you&#8217;ve provided an example of how to use these objects CherryPy / RhubabTart style. This is done via <code>paste.registry</code> middleware IIRC, so I suppose I can implement that myself, but an example from the author would be much appreciated.
Thanks.</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-221">
				<div id="div-comment-221" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/509d2eb63d985d90dec817ba0f2f0045?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='http://www.aminus.org/blogs/index.php/fumanchu' rel='external nofollow' class='url'>Robert Brewer</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-221">
			August 19, 2007 at 5:04 pm</a>		</div>

		<p>Ian:</p>

<pre><code>req.headers['if-none-match']
(case-insensitive) gives you
the actual header value.
req.if_none_match gives you
a parsed form.
</code></pre>

<p>Sure, gotta have both. CherryPy solves the huge-namespace problem via a <code>headers.elements(key)</code> method, so <code>req.headers['if-none-match']</code> gives you the actual header value, and <code>req.headers.elements('if-none-match')</code> gets you the parsed value. There are plenty of variations on that theme&#8211;even <code>req.headers.if_none_match</code> might be an improvement.</p>

<p>(btw, your Markdown parser doesn&#8217;t seem to do blockquotes?)</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment byuser comment-author-ianb bypostauthor even thread-even depth-1" id="comment-222">
				<div id="div-comment-222" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='../../../../index.html' rel='external nofollow' class='url'>Ian Bicking</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-222">
			August 19, 2007 at 5:40 pm</a>		</div>

		<p>I really don&#8217;t like the idea of parsed values coming out of a dictionary-like object.  The parsed headers supported are limited and constrained and have different types, which is exactly the place where attributes fit and a dictionary interface doesn&#8217;t.  Dictionaries are right when there might be arbitrary keys, and the values are generally of the same type or meaning.</p>

<p>(Markdown uses leading <code>&gt;</code> for blockquotes; seems to work for me, but sometimes WordPress has pre- or post-filters that can mess up markup)</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-224">
				<div id="div-comment-224" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/ac7005eff7720218df4cf0c72ddf6a3d?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='http://simonwillison.net/' rel='external nofollow' class='url'>Simon Willison</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-224">
			August 19, 2007 at 6:56 pm</a>		</div>

		<p>I&#8217;ve been talking to both Ben Bangert and James Gardner about the possibility of making the Django and Pylons/Paste request/response objects compatible with each other in some way &#8211; either through changes to the API or just by ensuring they are similar enough that a very simple bi-directional conversion could be possible. This would make code written against Django and code written against Paste interchangeable, which would be a massive boost for Web programming on Python in general.</p>

<p>Would you be interested in helping out with this? I should probably start a mailing list dedicated to the effort.</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment even thread-even depth-1" id="comment-227">
				<div id="div-comment-227" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/769084f2da2ebbc1e483af3f0e72adaa?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">Jim</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-227">
			August 19, 2007 at 8:37 pm</a>		</div>

		<p>I&#8217;ve got something very similar to this, so thank you, you&#8217;ve enabled me to delete code :).</p>

<p>One thing I would like to see though, is proper decoding of incoming cookies.  They aren&#8217;t necessarily plain strings, they can have various properties attached to them, like expiry dates and comments.  The Cookie module in the stdlib can handle this.</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment byuser comment-author-ianb bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-228">
				<div id="div-comment-228" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='../../../../index.html' rel='external nofollow' class='url'>Ian Bicking</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-228">
			August 19, 2007 at 8:41 pm</a>		</div>

		<p>Do clients send structured cookie information?  I haven&#8217;t seen this; outgoing cookies can have comments and whatnot, and I guess theoretically incoming cookies <em>could</em> have this, but they don&#8217;t.</p>

<p>If you are in a weird situation where you are getting more information in Cookie headers than what a normal browser sends, you can always parse the cookies yourself using <code>req.header['Cookie']</code></p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment even thread-even depth-1" id="comment-232">
				<div id="div-comment-232" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/769084f2da2ebbc1e483af3f0e72adaa?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">Jim</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-232">
			August 19, 2007 at 10:19 pm</a>		</div>

		<p>&gt; Do clients send structured cookie information?</p>

<p>Yes.  At the very least, multiple values are incredibly common (e.g. Cookie: foo=bar;baz=qux).  Clients are also supposed to include the path and domain attributes when they are specified by the server (but they often don&#8217;t).</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment byuser comment-author-ianb bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-233">
				<div id="div-comment-233" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='../../../../index.html' rel='external nofollow' class='url'>Ian Bicking</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-233">
			August 19, 2007 at 10:32 pm</a>		</div>

		<p>Multiple values are of course supported (it&#8217;s a dictionary).  Because no clients I know of include the path and domain attributes, I&#8217;m not that interested; I find the Cookie objects really lousy, and I don&#8217;t want to expose them when they don&#8217;t carry any meaningful information for the majority of user agents.  If you are in an environment where there are unusual user agents that send more information you can parse it yourself easily enough (<code>c = Cookie.SimpleCookie(); c.load(req.headers.get('Cookie', ''))</code>).</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment even thread-even depth-1" id="comment-240">
				<div id="div-comment-240" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/ab535cda1b74f481dde53091b03417a2?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">Paul Boddie</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-240">
			August 20, 2007 at 4:59 am</a>		</div>

		<p>Simon: &#8220;I’ve been talking to both Ben Bangert and James Gardner about the possibility of making the Django and Pylons/Paste request/response objects compatible with each other in some way &#8211; either through changes to the API or just by ensuring they are similar enough that a very simple bi-directional conversion could be possible.&#8221;</p>

<p>Of course, such things should be possible: WebStack shows that very few request/response object features are so exotic that such objects cannot be manipulated using a common abstraction.</p>

<p>Simon: &#8220;This would make code written against Django and code written against Paste interchangeable, which would be a massive boost for Web programming on Python in general.&#8221;</p>

<p>This is probably possible already with WebStack in that Django is supported (unless the API is changing a lot in recent snapshots) along with WSGI (but not Paste explicitly). And along with a bunch of other frameworks, of course.</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-242">
				<div id="div-comment-242" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/ac7005eff7720218df4cf0c72ddf6a3d?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='http://simonwillison.net/' rel='external nofollow' class='url'>Simon Willison</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-242">
			August 20, 2007 at 7:17 am</a>		</div>

		<p>Hey Paul &#8211; I hadn&#8217;t seen WebStack. Is there any chance you could put the readme.txt and docs/ files online so they can be viewed without downloading the archive? Makes it much easier to link to things.</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment even thread-even depth-1" id="comment-1162">
				<div id="div-comment-1162" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/769084f2da2ebbc1e483af3f0e72adaa?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">Jim</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-1162">
			September 27, 2007 at 6:11 pm</a>		</div>

		<p>The charset attribute is a bit of a misnomer.  You aren&#8217;t looking at the character set, you are looking at the character encoding.  For example, UTF-8 and UTF-16 are the same charset but a different encoding.  Any chance of changing it to be more accurate?</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment byuser comment-author-ianb bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-1167">
				<div id="div-comment-1167" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='../../../../index.html' rel='external nofollow' class='url'>Ian Bicking</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-1167">
			September 28, 2007 at 10:11 am</a>		</div>

		<p>Jim: charset is meant to match <code>text/html; charset=utf8</code>, where the name is &#8220;charset&#8221;.  To me this felt like the most obvious name as a result.  If it&#8217;s something of a misnomer then I&#8217;m only copying the misnomer (which I didn&#8217;t even realize &#8212; I suppose there&#8217;s really just one charset in Python, unicode, and it treats <em>everything</em> as an encoding, so I don&#8217;t really have a distinction in my head between the two concepts).</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment even thread-even depth-1" id="comment-1182">
				<div id="div-comment-1182" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/769084f2da2ebbc1e483af3f0e72adaa?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">Jim</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://blog.ianbicking.org/2007/08/18/webob/comment-page-1/#comment-1182">
			September 29, 2007 at 12:25 pm</a>		</div>

		<p>I understand why you did it, but most other Python refers to character encodings properly.  For example u&#8221;".encode(&#8230;), genshi.core.Stream.render(encoding=&#8230;), # -&#42;- encoding: &#8230; -&#42;-, etc.  IMHO it&#8217;s better to have all the Python consistent and keep the charset an unfortunate artefact of the file format rather than have the Python disagree.  Maybe just provide both?</p>

		<div class="reply">
				</div>
				</div>
		</li>
</ul>

<div class="navigation">
<div class="alignleft"></div>
<div class="alignright"></div>
</div>




</div>

		<div class="navigation">
			<div class="nav-left">&laquo; <a href="../../17/dictmixin/index.html" rel="prev">DictMixin</a></div>
			<div class="nav-right"><a href="../../21/the-shrinking-python-web-framework-world/index.html" rel="next">The Shrinking Python Web Framework World</a> &raquo;</div>
		</div><!-- END NAVIGATION -->


	</div><!-- END CONTENT -->
</div><!-- END CONTAINER  -->

<div id="sidebar">
	<ul>
		<li id="home-link">
			<h2><a href="../../../../index.html" title="Ian Bicking: a blog">Home</a></h2>
		</li>
<li id="text-315934862" class="widget widget_text"><h2 class="widgettitle">About</h2>
			<div class="textwidget">Ian is a developer with Mozilla, <a href="http://ianbicking.appspot.com/projects">Python open source developer</a>, actually uses <a href="https://plus.google.com/u/0/104537541227697934010/posts">Google+</a> more than <a href="http://twitter.com/ianbicking">twitter</a> and lives in Minneapolis.<br>
<span class="gittip-0001" gittip-username="ianbicking"></span>
<script id="gittip-0001"
  src="https://www.gittip.com/assets/widgets/0001.js"></script>
</div>
		</li>
<li id="text-315934863" class="widget widget_text">			<div class="textwidget"><!-- <script type="text/javascript">mbgc='f5f5f5';ww='160';mbc='cecece';bbc='3F79D5';bmobc='3b71c6';bbgc='4889F0';bmoc='3F79D5';bfc='FFFFFF';bmofc='ffffff';tlc='cecece';tc='6a6a6a';nc='6a6a6a';bc='6a6a6a';l='y';fs='16';fsb='13';bw='100';ff='4';lu='6a6a6a';pc='4889F0';wh='340';b='s'; pid='104537541227697934010';</script><script type="text/javascript" src="http://widgetsplus.com/google_plus_widget.js"></script> --></div>
		</li>
<li id="archives-2" class="widget widget_archive"><h2 class="widgettitle">Archives</h2>
		<ul>
			<li><a href='../../../../2012/10/index.html' title='October 2012'>October 2012</a></li>
	<li><a href='../../../../2012/02/index.html' title='February 2012'>February 2012</a></li>
	<li><a href='../../../../2011/04/index.html' title='April 2011'>April 2011</a></li>
	<li><a href='../../../../2011/03/index.html' title='March 2011'>March 2011</a></li>
	<li><a href='../../../../2010/09/index.html' title='September 2010'>September 2010</a></li>
	<li><a href='../../../../2010/08/index.html' title='August 2010'>August 2010</a></li>
	<li><a href='../../../../2010/05/index.html' title='May 2010'>May 2010</a></li>
	<li><a href='../../../../2010/04/index.html' title='April 2010'>April 2010</a></li>
	<li><a href='../../../../2010/03/index.html' title='March 2010'>March 2010</a></li>
	<li><a href='../../../../2010/02/index.html' title='February 2010'>February 2010</a></li>
	<li><a href='../../../../2010/01/index.html' title='January 2010'>January 2010</a></li>
	<li><a href='../../../../2009/09/index.html' title='September 2009'>September 2009</a></li>
	<li><a href='../../../../2009/05/index.html' title='May 2009'>May 2009</a></li>
	<li><a href='../../../../2009/04/index.html' title='April 2009'>April 2009</a></li>
	<li><a href='../../../../2009/01/index.html' title='January 2009'>January 2009</a></li>
	<li><a href='../../../../2008/12/index.html' title='December 2008'>December 2008</a></li>
	<li><a href='../../../../2008/11/index.html' title='November 2008'>November 2008</a></li>
	<li><a href='../../../../2008/10/index.html' title='October 2008'>October 2008</a></li>
	<li><a href='../../../../2008/09/index.html' title='September 2008'>September 2008</a></li>
	<li><a href='../../../../2008/08/index.html' title='August 2008'>August 2008</a></li>
	<li><a href='../../../../2008/07/index.html' title='July 2008'>July 2008</a></li>
	<li><a href='../../../../2008/06/index.html' title='June 2008'>June 2008</a></li>
	<li><a href='../../../../2008/05/index.html' title='May 2008'>May 2008</a></li>
	<li><a href='../../../../2008/04/index.html' title='April 2008'>April 2008</a></li>
	<li><a href='../../../../2008/03/index.html' title='March 2008'>March 2008</a></li>
	<li><a href='../../../../2008/02/index.html' title='February 2008'>February 2008</a></li>
	<li><a href='../../../../2008/01/index.html' title='January 2008'>January 2008</a></li>
	<li><a href='../../../11/index.html' title='November 2007'>November 2007</a></li>
	<li><a href='../../../10/index.html' title='October 2007'>October 2007</a></li>
	<li><a href='../../../09/index.html' title='September 2007'>September 2007</a></li>
	<li><a href='../../index.html' title='August 2007'>August 2007</a></li>
	<li><a href='../../../07/index.html' title='July 2007'>July 2007</a></li>
		</ul>
</li>
<li id="text-315934861" class="widget widget_text">			<div class="textwidget"><a href="../../../../archive/index.html">The Older Archives</a></div>
		</li>
<li id="categories-1" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
		<ul>
	<li class="cat-item cat-item-12"><a href="../../../../category/erlang/index.html" title="View all posts filed under Erlang">Erlang</a>
</li>
	<li class="cat-item cat-item-11"><a href="../../../../category/html/index.html" title="View all posts filed under HTML">HTML</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../../../category/javascript/index.html" title="View all posts filed under Javascript">Javascript</a>
</li>
	<li class="cat-item cat-item-15"><a href="../../../../category/licensing/index.html" title="View all posts filed under Licensing">Licensing</a>
</li>
	<li class="cat-item cat-item-18"><a href="../../../../category/mozilla/index.html" title="View all posts filed under Mozilla">Mozilla</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../../../category/notech/index.html" title="View all posts filed under Non-technical">Non-technical</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../../../category/olpc/index.html" title="View all posts filed under OLPC">OLPC</a>
</li>
	<li class="cat-item cat-item-14"><a href="../../../../category/packaging/index.html" title="View all posts filed under Packaging">Packaging</a>
</li>
	<li class="cat-item cat-item-4"><a href="../../../../category/politics/index.html" title="View all posts filed under Politics">Politics</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../../../category/programming/index.html" title="View all posts filed under Programming">Programming</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../../../category/python/index.html" title="View all posts filed under Python">Python</a>
</li>
	<li class="cat-item cat-item-10"><a href="../../../../category/ruby/index.html" title="View all posts filed under Ruby">Ruby</a>
</li>
	<li class="cat-item cat-item-19"><a href="../../../../category/security/index.html" title="View all posts filed under Security">Security</a>
</li>
	<li class="cat-item cat-item-16"><a href="../../../../category/silverlining.1" title="View all posts filed under Silver Lining">Silver Lining</a>
</li>
	<li class="cat-item cat-item-20"><a href="../../../../category/programming/testing/index.html" title="View all posts filed under Testing">Testing</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../../../category/web/index.html" title="View all posts filed under Web">Web</a>
</li>
	<li class="cat-item cat-item-13"><a href="../../../../category/zopeplone/index.html" title="View all posts filed under Zope/Plone">Zope/Plone</a>
</li>
		</ul>
</li>
<li id="search-2" class="widget widget_search"><form id="searchform" method="get" action="../../../../index.html">
	<div>
		<input id="s" name="s" type="text" value="" tabindex="1" size="10" />
		<input id="searchsubmit" name="searchsubmit" type="submit" value="Find" tabindex="2" />
	</div>
</form> </li>
		<li id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widgettitle">Recent Posts</h2>
		<ul>
				<li><a href="../../../../index.html?p=291" title="Why doctest.js is better than Python&#8217;s doctest">Why doctest.js is better than Python&#8217;s doctest</a></li>
				<li><a href="../../../../index.html?p=283" title="Python Application Package">Python Application Package</a></li>
				<li><a href="../../../../index.html?p=277" title="Git-as-sync, not source-control-as-deployment">Git-as-sync, not source-control-as-deployment</a></li>
				<li><a href="../../../../index.html?p=253" title="My Unsolicited Advice For PyPy">My Unsolicited Advice For PyPy</a></li>
				<li><a href="../../../../index.html?p=250" title="A Python Web Application Package and Format (we should make one)">A Python Web Application Package and Format (we should make one)</a></li>
				</ul>
		</li>
<li id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widgettitle">Recent Comments</h2>
<ul id="recentcomments"><li class="recentcomments"><a href='http://www.mirsa.com.tr' rel='external nofollow' class='url'>havalandırma</a> on <a href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-228633">Why doctest.js is better than Python&#8217;s doctest</a></li><li class="recentcomments"><a href='http://redealmeidense.com.br/portalx/modules/' rel='external nofollow' class='url'>this website</a> on <a href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-196267">Why doctest.js is better than Python&#8217;s doctest</a></li><li class="recentcomments">Eric Pierce on <a href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195322">Why doctest.js is better than Python&#8217;s doctest</a></li><li class="recentcomments">Paul Brian on <a href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195321">Why doctest.js is better than Python&#8217;s doctest</a></li><li class="recentcomments"><a href='http://benjiyork.com' rel='external nofollow' class='url'>Benji York</a> on <a href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195320">Why doctest.js is better than Python&#8217;s doctest</a></li></ul></li>
	</ul>
</div>

	<div id="footer">
		<p>
			&copy; 2013 Ian Bicking<!--
Does this commenting make me evil?
			|
			Thanks, <a href="http://wordpress.org/" title="WordPress">WordPress</a>
			|
			<a href="http://www.plaintxt.org/themes/barthelme/" title="Barthelme for WordPress" rel="follow">Barthelme</a> theme by <a href="http://scottwallick.com/" title="scottwallick.com" rel="follow">Scott</a>
			| <!-- The following is a link to the theme author's sponsor. Please consider its smallness and that Scott was nice enough to make this theme publically available. -->
			Sponsor: <a href="http://www.active-sandals.com/womreefsan.html" title="Support: Reef Sandals">Reef Sandals</a>
			|
			Valid <a href="http://validator.w3.org/check?uri=http://blog.ianbicking.org&amp;outline=1&amp;verbose=1" title="Valid XHTML 1.0 Strict" rel="nofollow">XHTML</a> &amp; <a href="http://jigsaw.w3.org/css-validator/validator?uri=http://blog.ianbicking.org/wp-content/themes/Barthelme-ianb/style.css&amp;profile=css2&amp;warning=no" title="Valid CSS" rel="nofollow">CSS</a>
			|
			-->
			RSS: <a href="../../../../feed/rss/index.html" title="Ian Bicking: a blog RSS 2.0 (XML) Feed" rel="alternate" type="application/rss+xml">Posts</a> &amp; <a href="../../../../comments/feed/index.html" title="Ian Bicking: a blog Comments RSS 2.0 (XML) Feed" rel="alternate" type="application/rss+xml">Comments</a>
		</p>
	</div>

</div><!-- END WRAPPER -->

	<!-- Somehow 44 queries occured in 1.491 seconds. Magic! -->
	<!-- The "Barthelme" theme copyright (c) 2006 Scott Allan Wallick - http://www.plaintxt.org/themes/ -->
	<script type='text/javascript' src='../../../../wp-includes/js/comment-reply.js?ver=3.4.2'></script>

<!-- Google Analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2442258-1";
urchinTracker();
</script>

</body>
</html>