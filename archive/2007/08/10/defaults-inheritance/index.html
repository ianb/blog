<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!-- MOBIFY - DO NOT ALTER - PASTE IMMEDIATELY AFTER OPENING HEAD TAG -->
        <script type="text/javascript">
            /*<![CDATA[*/ (function (a) {
                function b(a, b) {
                    if (+a) return ~a || (d.cookie = h + "=; path=/");
                    (j = d.createElement(e)),
                        (k = d.getElementsByTagName(e)[0]),
                        (j.src = a),
                        b && (j.onload = j.onerror = b),
                        k.parentNode.insertBefore(j, k);
                }
                function c() {
                    n.api || b(l.shift() || -1, c);
                }
                if (this.Mobify) return;
                var d = document,
                    e = "script",
                    f = "mobify",
                    g = "." + f + ".com/",
                    h = f + "-path",
                    i = g + "un" + f + ".js",
                    j,
                    k,
                    l = [!1, 1],
                    m,
                    n = (this.Mobify = {
                        points: [+new Date()],
                        tagVersion: [6, 0],
                    }),
                    o = /(; |#|&|^)mobify-path=([^&;]*)/g.exec(
                        location.hash + "; " + d.cookie
                    );
                o
                    ? (m = o[2]) &&
                      !+(m = sessionStorage[h] || m) &&
                      (l = [!0, "//preview" + g + escape(m)])
                    : ((l = a() || l),
                      l[0] && l.push("//cdn" + i, "//files01" + i)),
                    l.shift()
                        ? (d.write('<plaintext style="display:none;">'),
                          setTimeout(c))
                        : b(l[0]);
            })(function () {
                if (
                    /ip(hone|od)|android.*(mobile)|blackberry.*applewebkit/i.test(
                        navigator.userAgent
                    )
                ) {
                    return [
                        1,
                        "//cdn.mobify.com/sites/ians-blog/production/mobify.js",
                    ];
                }
            }); /*]]>*/
        </script>
        <!-- END MOBIFY -->
        <title>Ian Bicking: a blog :: Defaults &amp; Inheritance</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="generator" content="WordPress 3.4.2" />
        <!-- LEAVE FOR STATS -->
        <meta name="description" content="" />
        <link
            rel="stylesheet"
            title="plaintxtSimpler"
            href="../../../../wp-content/themes/Barthelme-ianb/style.css"
            type="text/css"
            media="all"
        />
        <link
            rel="start"
            href="../../../../index.html"
            title="Ian Bicking: a blog"
        />
        <link
            rel="alternate"
            type="application/atom+xml"
            title="Ian Bicking: a blog Atom Feed"
            href="../../../../feed/atom/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog RSS 2.0 Feed"
            href="../../../../feed/rss/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog Comments RSS 2.0 Feed"
            href="../../../../comments/feed/index.html"
        />
        <link
            rel="alternate"
            type="application/rdf+xml"
            title="Ian Bicking: a blog RSS 1.0"
            href="../../../../feed/rdf/index.html"
        />
        <link
            rel="alternate"
            type="text/xml"
            title="Ian Bicking: a blog RSS 0.92 Feed"
            href="../../../../feed/rss/index.html"
        />
        <link
            rel="archives"
            title="October 2012"
            href="../../../../2012/10/index.html"
        />
        <link
            rel="archives"
            title="February 2012"
            href="../../../../2012/02/index.html"
        />
        <link
            rel="archives"
            title="April 2011"
            href="../../../../2011/04/index.html"
        />
        <link
            rel="archives"
            title="March 2011"
            href="../../../../2011/03/index.html"
        />
        <link
            rel="archives"
            title="September 2010"
            href="../../../../2010/09/index.html"
        />
        <link
            rel="archives"
            title="August 2010"
            href="../../../../2010/08/index.html"
        />
        <link
            rel="archives"
            title="May 2010"
            href="../../../../2010/05/index.html"
        />
        <link
            rel="archives"
            title="April 2010"
            href="../../../../2010/04/index.html"
        />
        <link
            rel="archives"
            title="March 2010"
            href="../../../../2010/03/index.html"
        />
        <link
            rel="archives"
            title="February 2010"
            href="../../../../2010/02/index.html"
        />
        <link
            rel="archives"
            title="January 2010"
            href="../../../../2010/01/index.html"
        />
        <link
            rel="archives"
            title="September 2009"
            href="../../../../2009/09/index.html"
        />
        <link
            rel="archives"
            title="May 2009"
            href="../../../../2009/05/index.html"
        />
        <link
            rel="archives"
            title="April 2009"
            href="../../../../2009/04/index.html"
        />
        <link
            rel="archives"
            title="January 2009"
            href="../../../../2009/01/index.html"
        />
        <link
            rel="archives"
            title="December 2008"
            href="../../../../2008/12/index.html"
        />
        <link
            rel="archives"
            title="November 2008"
            href="../../../../2008/11/index.html"
        />
        <link
            rel="archives"
            title="October 2008"
            href="../../../../2008/10/index.html"
        />
        <link
            rel="archives"
            title="September 2008"
            href="../../../../2008/09/index.html"
        />
        <link
            rel="archives"
            title="August 2008"
            href="../../../../2008/08/index.html"
        />
        <link
            rel="archives"
            title="July 2008"
            href="../../../../2008/07/index.html"
        />
        <link
            rel="archives"
            title="June 2008"
            href="../../../../2008/06/index.html"
        />
        <link
            rel="archives"
            title="May 2008"
            href="../../../../2008/05/index.html"
        />
        <link
            rel="archives"
            title="April 2008"
            href="../../../../2008/04/index.html"
        />
        <link
            rel="archives"
            title="March 2008"
            href="../../../../2008/03/index.html"
        />
        <link
            rel="archives"
            title="February 2008"
            href="../../../../2008/02/index.html"
        />
        <link
            rel="archives"
            title="January 2008"
            href="../../../../2008/01/index.html"
        />
        <link
            rel="archives"
            title="November 2007"
            href="../../../11/index.html"
        />
        <link
            rel="archives"
            title="October 2007"
            href="../../../10/index.html"
        />
        <link
            rel="archives"
            title="September 2007"
            href="../../../09/index.html"
        />
        <link rel="archives" title="August 2007" href="../../index.html" />
        <link rel="archives" title="July 2007" href="../../../07/index.html" />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog &raquo; Defaults &amp; Inheritance Comments Feed"
            href="https://ianbicking.org/2007/08/10/defaults-inheritance/feed/"
        />
        <link
            rel="EditURI"
            type="application/rsd+xml"
            title="RSD"
            href="../../../../xmlrpc.php?rsd"
        />
        <link
            rel="wlwmanifest"
            type="application/wlwmanifest+xml"
            href="../../../../wp-includes/wlwmanifest.xml"
        />
        <link
            rel="prev"
            title="Opening Python Classes"
            href="../../08/opening-python-classes/index.html"
        />
        <link
            rel="next"
            title="Atom Publishing Protocol: Atompub"
            href="../../12/atom-publishing-protocol-atompub/index.html"
        />
        <meta name="generator" content="WordPress 3.4.2" />
        <link rel="canonical" href="index.html" />
        <link rel="shortlink" href="https://ianbicking.org/?p=20" />
        <link
            rel="stylesheet"
            href="../../../../wp-content/plugins/source-code-syntax-highlighting-plugin-for-wordpress/geshi.css"
            type="text/css"
        />
        <style type="text/css">
            .recentcomments a {
                display: inline !important;
                padding: 0 !important;
                margin: 0 !important;
            }
        </style>
        <style type="text/css" media="all">
            /*<![CDATA[*/
            body {
                font-size: 100%;
            }
            body {
                font-family: tahoma, geneva, sans-serif;
            }
            div.post-header,
            h2.post-title,
            p.post-date-single,
            h2.post-title-single,
            div.post-entry h1,
            div.post-entry h2,
            div.post-entry h3,
            div.post-entry h4,
            div.post-entry h5,
            div.post-entry h6,
            div.post-entry blockquote,
            div.post-footer,
            h3#comment-count,
            h4#comment-header,
            div#comments ol li p.comment-metadata,
            h4#respond {
                font-family: verdana, geneva, sans-serif;
            }
            div.post-entry p {
                text-align: left;
            }
            div#wrapper {
                width: 100%;
            }

            /*]]>*/
        </style>
    </head>
    <body>
        <div id="wrapper">
            <div
                id="header"
                onclick="location.href='https://ianbicking.org/';"
                style="cursor: pointer"
            >
                <h1 id="title">
                    <a href="../../../../index.html" title="Ian Bicking: a blog"
                        >Ian Bicking: a blog</a
                    >
                </h1>
                <p id="description"></p>
            </div>
            <!-- WP Theme Credits -->
            <div style="display: none">
                We can answer on question
                <a href="http://www.olnevhost.net/vps-hosting.html"
                    >what is VPS</a
                >? and what is
                <a href="http://www.olnevhost.net/dedicated-servers.html"
                    ><strong>cheap dedicated servers</strong></a
                >?
            </div>
            <!-- END HEADER -->
            <div id="container">
                <div id="content" class="widecolumn">
                    <div id="post-20" class="post single-post">
                        <p class="post-date-single">{ 2007 08 10 }</p>
                        <h2 class="post-title-single">
                            Defaults &#038; Inheritance
                        </h2>
                        <div class="post-entry">
                            <div class="document">
                                <p>
                                    I thought I&#8217;d note a way I try to make
                                    classes reasonably customizable without
                                    creating lots of classes, but letting other
                                    people create classes if they want.
                                </p>
                                <p>
                                    Here&#8217;s a common technique; I&#8217;m
                                    going to use a class from
                                    <a
                                        class="reference external"
                                        href="http://pythonpaste.org/wsgiproxy/"
                                        >WSGIProxy</a
                                    >
                                    as an example, because that&#8217;s where I
                                    was about to use this technique when I
                                    thought it might make an okay post.
                                </p>
                                <p>
                                    In this example there&#8217;s a WSGI
                                    application that forwards requests to
                                    another HTTP server. There&#8217;s different
                                    ways to forward requests, depending on what
                                    kind of data you want to give the remote
                                    server about the original request. One
                                    example is Zope&#8217;s VirtualHostMonster,
                                    which takes requests like
                                    <tt class="docutils literal"
                                        ><span class="pre"
                                            >/VirtualHostBase/http/example.org:80/rootdir/VirtualHostBase/path</span
                                        ></tt
                                    >
                                    &#8212; the idea is that the server can then
                                    realize that the original request was for
                                    <tt class="docutils literal"
                                        ><span class="pre"
                                            >http://example.org/path</span
                                        ></tt
                                    >
                                    (and should ignore any Host headers), and
                                    that Zope is supposed to serve that from the
                                    internal path
                                    <tt class="docutils literal"
                                        ><span class="pre"
                                            >/rootdir/path</span
                                        ></tt
                                    >.
                                </p>
                                <p>
                                    There&#8217;s a problem with this particular
                                    pattern, because there&#8217;s no way to
                                    mount, say,
                                    <tt class="docutils literal"
                                        ><span class="pre">/blog</span></tt
                                    >
                                    onto some Zope
                                    <tt class="docutils literal"
                                        ><span class="pre"
                                            >/sitename/blog-application</span
                                        ></tt
                                    >
                                    path, because there&#8217;s no concept like
                                    in WSGI or CGI of SCRIPT_NAME &#8212; the
                                    base <em>path</em> of the request. It only
                                    handles the base <em>host</em>. So I
                                    didn&#8217;t just want to settle on that.
                                </p>
                                <p>
                                    I&#8217;m kind of inclined to prefer
                                    headers, like
                                    <tt class="docutils literal"
                                        ><span class="pre">X-Script-Name:</span>
                                        <span class="pre">/blog</span></tt
                                    >,
                                    <tt class="docutils literal"
                                        ><span class="pre"
                                            >X-Forwarded-Server:</span
                                        >
                                        <span class="pre">example.org</span></tt
                                    >, etc. But I want to support both forms.
                                </p>
                                <p>The common way to do this is:</p>
                                <div class="dean_ch" style="white-space: wrap">
                                    <br />
                                    <span class="kw1">class</span>
                                    WSGIProxyApp<span class="br0">&#40;</span
                                    ><span class="kw2">object</span
                                    ><span class="br0">&#41;</span>:<br />
                                    <br />
                                    &nbsp; &nbsp; <span class="kw1">def</span>
                                    <span class="kw4">__init__</span
                                    ><span class="br0">&#40;</span
                                    ><span class="kw2">self</span>, host<span
                                        class="br0"
                                        >&#41;</span
                                    >: ...<br />
                                    <br />
                                    &nbsp; &nbsp; <span class="kw1">def</span>
                                    <span class="kw4">__call__</span
                                    ><span class="br0">&#40;</span
                                    ><span class="kw2">self</span>, environ,
                                    start_response<span class="br0">&#41;</span
                                    >:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="co1"
                                        ># actual application interface...</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="co1"
                                        ># Constructs the base request:</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; request =
                                    <span class="kw2">self</span>.<span
                                        class="me1"
                                        >construct_request</span
                                    ><span class="br0">&#40;</span>environ<span
                                        class="br0"
                                        >&#41;</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="co1"
                                        ># Uses one of these conventions:</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="kw2">self</span>.<span
                                        class="me1"
                                        >update_headers</span
                                    ><span class="br0">&#40;</span>environ,
                                    request<span class="br0">&#41;</span><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; ...
                                    <span class="me1">do</span> stuff with
                                    request ...<br />
                                    <br />
                                    &nbsp; &nbsp;
                                    <span class="kw1">def</span>
                                    update_headers<span class="br0">&#40;</span
                                    ><span class="kw2">self</span>,
                                    orig_environ, request<span class="br0"
                                        >&#41;</span
                                    >:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="kw1">raise</span>
                                    <span class="kw2">NotImplementedError</span
                                    ><br />
                                    <br />
                                    <span class="kw1">class</span>
                                    VirtualHostMonsterApp<span class="br0"
                                        >&#40;</span
                                    >WSGIProxyApp<span class="br0">&#41;</span
                                    >:<br />
                                    <br />
                                    &nbsp; &nbsp;
                                    <span class="kw1">def</span>
                                    update_headers<span class="br0">&#40;</span
                                    ><span class="kw2">self</span>,
                                    orig_environ, request<span class="br0"
                                        >&#41;</span
                                    >:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; request.<span
                                        class="me1"
                                        >environ</span
                                    ><span class="br0">&#91;</span
                                    ><span class="st0">'SCRIPT_NAME'</span
                                    ><span class="br0">&#93;</span> =
                                    <span class="br0">&#40;</span><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="st0"
                                        >'/VirtualHostRoot/%(wsgi.scheme)s/%(HTTP_HOST)s/VirtualHostRoot/'</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; %
                                    orig_environ<span class="br0">&#41;</span
                                    ><br />
                                    <br />
                                    <span class="kw1">class</span>
                                    HeaderSetterApp<span class="br0">&#40;</span
                                    >WSGIProxyApp<span class="br0">&#41;</span
                                    >:<br />
                                    <br />
                                    &nbsp; &nbsp;
                                    <span class="kw1">def</span>
                                    update_headers<span class="br0">&#40;</span
                                    ><span class="kw2">self</span>,
                                    orig_environ, request<span class="br0"
                                        >&#41;</span
                                    >:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; request.<span
                                        class="me1"
                                        >environ</span
                                    ><span class="br0">&#91;</span
                                    ><span class="st0"
                                        >'HTTP_X_SCRIPT_NAME'</span
                                    ><span class="br0">&#93;</span> =
                                    orig_environ<span class="br0">&#91;</span
                                    ><span class="st0">'SCRIPT_NAME'</span
                                    ><span class="br0">&#93;</span><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="co1"># and so on...</span
                                    ><br />
                                    &nbsp;
                                </div>
                                <p>
                                    Then you use one of the subclasses depending
                                    on your needs. Personally I think this
                                    really sucks. For one thing, you may have to
                                    determine which class to use based on some
                                    configuration parameter, which can get
                                    awkward. And you might want to subclass the
                                    class to change the functionality some
                                    yourself, but you have to subclass
                                    <em>both</em> of them. There&#8217;s
                                    patterns to handle this, with policies and
                                    factories and other crap; but it&#8217;s
                                    <em>not a hard problem</em>, and those
                                    patterns are hard solutions to a problem
                                    that <em>shouldn&#8217;t</em> be hard.
                                </p>
                                <p>
                                    Also, it&#8217;s harder to inform people
                                    about the options available to them, and
                                    somewhat harder to use these classes. So I
                                    tend to do something like:
                                </p>
                                <div class="dean_ch" style="white-space: wrap">
                                    <br />
                                    <span class="kw1">class</span>
                                    WSGIProxyApp<span class="br0">&#40;</span
                                    ><span class="kw2">object</span
                                    ><span class="br0">&#41;</span>:<br />
                                    &nbsp; &nbsp; default_forwarding_style =
                                    <span class="st0">'headers'</span><br />
                                    <br />
                                    &nbsp; &nbsp; <span class="kw1">def</span>
                                    <span class="kw4">__init__</span
                                    ><span class="br0">&#40;</span
                                    ><span class="kw2">self</span>, host,
                                    forwarding_style=<span class="kw2"
                                        >None</span
                                    ><span class="br0">&#41;</span>:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="kw1">if</span> forwarding_style
                                    <span class="kw1">is</span>
                                    <span class="kw2">None</span>:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                    forwarding_style =
                                    <span class="kw2">self</span>.<span
                                        class="me1"
                                        >default_forwarding_style</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="kw2">self</span>.<span
                                        class="me1"
                                        >forwarding_style</span
                                    >
                                    = forwarding_style<br />
                                    <br />
                                    &nbsp; &nbsp; <span class="kw1">def</span>
                                    <span class="kw4">__call__</span
                                    ><span class="br0">&#40;</span
                                    ><span class="kw2">self</span>, environ,
                                    start_response<span class="br0">&#41;</span
                                    >:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="me1">method</span> =
                                    <span class="kw2">self</span>.<span
                                        class="me1"
                                        >forwarding_style</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp;
                                    <span class="kw1">if</span>
                                    <span class="kw2">isinstance</span
                                    ><span class="br0">&#40;</span>method,
                                    <span class="kw2">str</span
                                    ><span class="br0">&#41;</span>:<br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                    method = <span class="kw2">getattr</span
                                    ><span class="br0">&#40;</span
                                    ><span class="kw2">self</span>,
                                    <span class="st0">'forward_'</span>+<span
                                        class="kw2"
                                        >self</span
                                    >.<span class="me1">forwarding_style</span
                                    ><span class="br0">&#41;</span><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; method<span
                                        class="br0"
                                        >&#40;</span
                                    >environ, request<span class="br0"
                                        >&#41;</span
                                    ><br />
                                    &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
                                    <br />
                                    &nbsp; &nbsp;
                                    <span class="kw1">def</span>
                                    forward_headers<span class="br0">&#40;</span
                                    ><span class="kw2">self</span>,
                                    orig_environ, request<span class="br0"
                                        >&#41;</span
                                    >: ...<br />
                                    &nbsp; &nbsp;
                                    <span class="kw1">def</span>
                                    forward_virtual_host_monster<span
                                        class="br0"
                                        >&#40;</span
                                    ><span class="kw2">self</span>,
                                    orig_environ, request<span class="br0"
                                        >&#41;</span
                                    >: ...<br />
                                    &nbsp;
                                </div>
                                <p>
                                    This way it&#8217;s just a simple parameter
                                    to change the style. You can pass in your
                                    own function, or use one of the named
                                    methods already available. The
                                    <tt class="docutils literal"
                                        ><span class="pre"
                                            >default_forwarding_style</span
                                        ></tt
                                    >
                                    class variable lets you change the default
                                    in subclasses. If the default was in the
                                    function signature it would be much more
                                    awkard to change it, because you&#8217;d
                                    have to override the method and its
                                    signature with just that one change, then
                                    delegate back to the superclass method.
                                </p>
                            </div>
                            <p>
                                Automatically generated list of related posts:
                            </p>
                            <ol>
                                <li>
                                    <a
                                        href="../../../../2010/03/12/a-webob-app-example/index.html"
                                        rel="bookmark"
                                        title="What Does A WebOb App Look Like?"
                                        >What Does A WebOb App Look Like?</a
                                    >
                                    <small
                                        >Lately I&#8217;ve been writing code
                                        using WebOb and just a...</small
                                    >
                                </li>
                                <li>
                                    <a
                                        href="../../08/opening-python-classes/index.html"
                                        rel="bookmark"
                                        title="Opening Python Classes"
                                        >Opening Python Classes</a
                                    >
                                    <small
                                        >So, I was reading through comments to
                                        despam my old...</small
                                    >
                                </li>
                                <li>
                                    <a
                                        href="../../17/dictmixin/index.html"
                                        rel="bookmark"
                                        title="DictMixin"
                                        >DictMixin</a
                                    >
                                    <small
                                        >Quite some time ago I gave a little
                                        presentation on...</small
                                    >
                                </li>
                                <li>
                                    <a
                                        href="../../../../2008/10/24/decorators-and-descriptors/index.html"
                                        rel="bookmark"
                                        title="Decorators and Descriptors"
                                        >Decorators and Descriptors</a
                                    >
                                    <small
                                        >So, decorators are neat (maybe check
                                        out a new tutorial...</small
                                    >
                                </li>
                            </ol>
                        </div>
                        <!-- END POST-ENTRY  -->
                        <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2007/08/10/defaults-inheritance/"
    dc:identifier="https://ianbicking.org/2007/08/10/defaults-inheritance/"
    dc:title="Defaults &#038; Inheritance"
    trackback:ping="https://ianbicking.org/2007/08/10/defaults-inheritance/trackback/" />
</rdf:RDF> -->
                        <div class="post-footer">
                            <p>
                                Posted by Ian Bicking on Friday, August 10th,
                                2007, at 5:45 pm, and filed under
                                <a
                                    href="../../../../category/programming/index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                >,
                                <a
                                    href="../../../../category/python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                >.
                            </p>
                            <p>
                                Comments have a
                                <a
                                    href="https://ianbicking.org/2007/08/10/defaults-inheritance/feed/"
                                    >feed</a
                                >.
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="comments">
                        <h4 id="comments">One Comment</h4>
                        <ul class="commentlist">
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-120"
                            >
                                <div id="div-comment-120" class="comment-body">
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="http://0.gravatar.com/avatar/08e107e46b05fab7f7216b2f76a916f7?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Shane Hathaway</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2007/08/10/defaults-inheritance/comment-page-1/#comment-120"
                                        >
                                            August 10, 2007 at 8:09 pm</a
                                        >
                                    </div>

                                    <p>
                                        A correction: Zope&#8217;s
                                        VirtualHostMonster does in fact solve
                                        the problem you described, but the
                                        solution is surprising. Names that begin
                                        with <code>_vh_</code> signify the path
                                        of the original request. In your case,
                                        the full rewrite rule would look about
                                        like this:
                                    </p>

                                    <p>
                                        <code>RewriteRule ^/blog/(.*)</code>
                                        <code
                                            >http://localhost:8080/VirtualHostBase/http/example.org:80/rootdir/VirtualHostRoot/_vh_blog/$1
                                            [L,P]</code
                                        >
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                        </ul>

                        <div class="navigation">
                            <div class="alignleft"></div>
                            <div class="alignright"></div>
                        </div>
                    </div>

                    <div class="navigation">
                        <div class="nav-left">
                            &laquo;
                            <a
                                href="../../08/opening-python-classes/index.html"
                                rel="prev"
                                >Opening Python Classes</a
                            >
                        </div>
                        <div class="nav-right">
                            <a
                                href="../../12/atom-publishing-protocol-atompub/index.html"
                                rel="next"
                                >Atom Publishing Protocol: Atompub</a
                            >
                            &raquo;
                        </div>
                    </div>
                    <!-- END NAVIGATION -->
                </div>
                <!-- END CONTENT -->
            </div>
            <!-- END CONTAINER  -->

            <div id="sidebar">
                <ul>
                    <li id="home-link">
                        <h2>
                            <a
                                href="../../../../index.html"
                                title="Ian Bicking: a blog"
                                >Home</a
                            >
                        </h2>
                    </li>
                    <li id="text-315934862" class="widget widget_text">
                        <h2 class="widgettitle">About</h2>
                        <div class="textwidget">
                            Ian is a developer with Mozilla,
                            <a href="http://ianbicking.appspot.com/projects"
                                >Python open source developer</a
                            >, actually uses
                            <a
                                href="https://plus.google.com/u/0/104537541227697934010/posts"
                                >Google+</a
                            >
                            more than
                            <a href="http://twitter.com/ianbicking">twitter</a>
                            and lives in Minneapolis.<br />
                            <span
                                class="gittip-0001"
                                gittip-username="ianbicking"
                            ></span>
                            <script
                                id="gittip-0001"
                                src="https://www.gittip.com/assets/widgets/0001.js"
                            ></script>
                        </div>
                    </li>
                    <li id="text-315934863" class="widget widget_text">
                        <div class="textwidget">
                            <!-- <script type="text/javascript">mbgc='f5f5f5';ww='160';mbc='cecece';bbc='3F79D5';bmobc='3b71c6';bbgc='4889F0';bmoc='3F79D5';bfc='FFFFFF';bmofc='ffffff';tlc='cecece';tc='6a6a6a';nc='6a6a6a';bc='6a6a6a';l='y';fs='16';fsb='13';bw='100';ff='4';lu='6a6a6a';pc='4889F0';wh='340';b='s'; pid='104537541227697934010';</script><script type="text/javascript" src="http://widgetsplus.com/google_plus_widget.js"></script> -->
                        </div>
                    </li>
                    <li id="archives-2" class="widget widget_archive">
                        <h2 class="widgettitle">Archives</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../../../2012/10/index.html"
                                    title="October 2012"
                                    >October 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2012/02/index.html"
                                    title="February 2012"
                                    >February 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2011/04/index.html"
                                    title="April 2011"
                                    >April 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2011/03/index.html"
                                    title="March 2011"
                                    >March 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/09/index.html"
                                    title="September 2010"
                                    >September 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/08/index.html"
                                    title="August 2010"
                                    >August 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/05/index.html"
                                    title="May 2010"
                                    >May 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/04/index.html"
                                    title="April 2010"
                                    >April 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/03/index.html"
                                    title="March 2010"
                                    >March 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/02/index.html"
                                    title="February 2010"
                                    >February 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/01/index.html"
                                    title="January 2010"
                                    >January 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/09/index.html"
                                    title="September 2009"
                                    >September 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/05/index.html"
                                    title="May 2009"
                                    >May 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/04/index.html"
                                    title="April 2009"
                                    >April 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/01/index.html"
                                    title="January 2009"
                                    >January 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/12/index.html"
                                    title="December 2008"
                                    >December 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/11/index.html"
                                    title="November 2008"
                                    >November 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/10/index.html"
                                    title="October 2008"
                                    >October 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/09/index.html"
                                    title="September 2008"
                                    >September 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/08/index.html"
                                    title="August 2008"
                                    >August 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/07/index.html"
                                    title="July 2008"
                                    >July 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/06/index.html"
                                    title="June 2008"
                                    >June 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/05/index.html"
                                    title="May 2008"
                                    >May 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/04/index.html"
                                    title="April 2008"
                                    >April 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/03/index.html"
                                    title="March 2008"
                                    >March 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/02/index.html"
                                    title="February 2008"
                                    >February 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2008/01/index.html"
                                    title="January 2008"
                                    >January 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../11/index.html"
                                    title="November 2007"
                                    >November 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../10/index.html"
                                    title="October 2007"
                                    >October 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../09/index.html"
                                    title="September 2007"
                                    >September 2007</a
                                >
                            </li>
                            <li>
                                <a href="../../index.html" title="August 2007"
                                    >August 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../07/index.html"
                                    title="July 2007"
                                    >July 2007</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="text-315934861" class="widget widget_text">
                        <div class="textwidget">
                            <a href="../../../../archive/index.html"
                                >The Older Archives</a
                            >
                        </div>
                    </li>
                    <li id="categories-1" class="widget widget_categories">
                        <h2 class="widgettitle">Categories</h2>
                        <ul>
                            <li class="cat-item cat-item-12">
                                <a
                                    href="../../../../category/erlang/index.html"
                                    title="View all posts filed under Erlang"
                                    >Erlang</a
                                >
                            </li>
                            <li class="cat-item cat-item-11">
                                <a
                                    href="../../../../category/html/index.html"
                                    title="View all posts filed under HTML"
                                    >HTML</a
                                >
                            </li>
                            <li class="cat-item cat-item-8">
                                <a
                                    href="../../../../category/javascript/index.html"
                                    title="View all posts filed under Javascript"
                                    >Javascript</a
                                >
                            </li>
                            <li class="cat-item cat-item-15">
                                <a
                                    href="../../../../category/licensing/index.html"
                                    title="View all posts filed under Licensing"
                                    >Licensing</a
                                >
                            </li>
                            <li class="cat-item cat-item-18">
                                <a
                                    href="../../../../category/mozilla/index.html"
                                    title="View all posts filed under Mozilla"
                                    >Mozilla</a
                                >
                            </li>
                            <li class="cat-item cat-item-5">
                                <a
                                    href="../../../../category/notech/index.html"
                                    title="View all posts filed under Non-technical"
                                    >Non-technical</a
                                >
                            </li>
                            <li class="cat-item cat-item-6">
                                <a
                                    href="../../../../category/olpc/index.html"
                                    title="View all posts filed under OLPC"
                                    >OLPC</a
                                >
                            </li>
                            <li class="cat-item cat-item-14">
                                <a
                                    href="../../../../category/packaging/index.html"
                                    title="View all posts filed under Packaging"
                                    >Packaging</a
                                >
                            </li>
                            <li class="cat-item cat-item-4">
                                <a
                                    href="../../../../category/politics/index.html"
                                    title="View all posts filed under Politics"
                                    >Politics</a
                                >
                            </li>
                            <li class="cat-item cat-item-3">
                                <a
                                    href="../../../../category/programming/index.html"
                                    title="View all posts filed under Programming"
                                    >Programming</a
                                >
                            </li>
                            <li class="cat-item cat-item-7">
                                <a
                                    href="../../../../category/python/index.html"
                                    title="View all posts filed under Python"
                                    >Python</a
                                >
                            </li>
                            <li class="cat-item cat-item-10">
                                <a
                                    href="../../../../category/ruby/index.html"
                                    title="View all posts filed under Ruby"
                                    >Ruby</a
                                >
                            </li>
                            <li class="cat-item cat-item-19">
                                <a
                                    href="../../../../category/security/index.html"
                                    title="View all posts filed under Security"
                                    >Security</a
                                >
                            </li>
                            <li class="cat-item cat-item-16">
                                <a
                                    href="../../../../category/silverlining.1"
                                    title="View all posts filed under Silver Lining"
                                    >Silver Lining</a
                                >
                            </li>
                            <li class="cat-item cat-item-20">
                                <a
                                    href="../../../../category/programming/testing/index.html"
                                    title="View all posts filed under Testing"
                                    >Testing</a
                                >
                            </li>
                            <li class="cat-item cat-item-9">
                                <a
                                    href="../../../../category/web/index.html"
                                    title="View all posts filed under Web"
                                    >Web</a
                                >
                            </li>
                            <li class="cat-item cat-item-13">
                                <a
                                    href="../../../../category/zopeplone/index.html"
                                    title="View all posts filed under Zope/Plone"
                                    >Zope/Plone</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="search-2" class="widget widget_search">
                        <form
                            id="searchform"
                            method="get"
                            action="../../../../index.html"
                        >
                            <div>
                                <input
                                    id="s"
                                    name="s"
                                    type="text"
                                    value=""
                                    tabindex="1"
                                    size="10"
                                />
                                <input
                                    id="searchsubmit"
                                    name="searchsubmit"
                                    type="submit"
                                    value="Find"
                                    tabindex="2"
                                />
                            </div>
                        </form>
                    </li>
                    <li
                        id="recent-posts-2"
                        class="widget widget_recent_entries"
                    >
                        <h2 class="widgettitle">Recent Posts</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../../../index.html?p=291"
                                    title="Why doctest.js is better than Python&#8217;s doctest"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=283"
                                    title="Python Application Package"
                                    >Python Application Package</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=277"
                                    title="Git-as-sync, not source-control-as-deployment"
                                    >Git-as-sync, not
                                    source-control-as-deployment</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=253"
                                    title="My Unsolicited Advice For PyPy"
                                    >My Unsolicited Advice For PyPy</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=250"
                                    title="A Python Web Application Package and Format (we should make one)"
                                    >A Python Web Application Package and Format
                                    (we should make one)</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li
                        id="recent-comments-2"
                        class="widget widget_recent_comments"
                    >
                        <h2 class="widgettitle">Recent Comments</h2>
                        <ul id="recentcomments">
                            <li class="recentcomments">
                                <a
                                    href="http://www.mirsa.com.tr"
                                    rel="external nofollow"
                                    class="url"
                                    >havalandırma</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-228633"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://redealmeidense.com.br/portalx/modules/"
                                    rel="external nofollow"
                                    class="url"
                                    >this website</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-196267"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Eric Pierce on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195322"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Paul Brian on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195321"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://benjiyork.com"
                                    rel="external nofollow"
                                    class="url"
                                    >Benji York</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195320"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div id="footer">
                <p>
                    &copy; 2013 Ian Bicking<!--
Does this commenting make me evil?
			|
			Thanks, <a href="http://wordpress.org/" title="WordPress">WordPress</a>
			|
			<a href="http://www.plaintxt.org/themes/barthelme/" title="Barthelme for WordPress" rel="follow">Barthelme</a> theme by <a href="http://scottwallick.com/" title="scottwallick.com" rel="follow">Scott</a>
			| <!-- The following is a link to the theme author's sponsor. Please consider its smallness and that Scott was nice enough to make this theme publically available. -->
                    Sponsor:
                    <a
                        href="http://www.active-sandals.com/womreefsan.html"
                        title="Support: Reef Sandals"
                        >Reef Sandals</a
                    >
                    | Valid
                    <a
                        href="http://validator.w3.org/check?uri=http://blog.ianbicking.org&amp;outline=1&amp;verbose=1"
                        title="Valid XHTML 1.0 Strict"
                        rel="nofollow"
                        >XHTML</a
                    >
                    &amp;
                    <a
                        href="http://jigsaw.w3.org/css-validator/validator?uri=https://ianbicking.org/wp-content/themes/Barthelme-ianb/style.css&amp;profile=css2&amp;warning=no"
                        title="Valid CSS"
                        rel="nofollow"
                        >CSS</a
                    >
                    | --> RSS:
                    <a
                        href="../../../../feed/rss/index.html"
                        title="Ian Bicking: a blog RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Posts</a
                    >
                    &amp;
                    <a
                        href="../../../../comments/feed/index.html"
                        title="Ian Bicking: a blog Comments RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Comments</a
                    >
                </p>
            </div>
        </div>
        <!-- END WRAPPER -->

        <!-- Somehow 44 queries occured in 1.479 seconds. Magic! -->
        <!-- The "Barthelme" theme copyright (c) 2006 Scott Allan Wallick - http://www.plaintxt.org/themes/ -->
        <script
            type="text/javascript"
            src="../../../../wp-includes/js/comment-reply.js?ver=3.4.2"
        ></script>

        <!-- Google Analytics -->
        <script
            src="http://www.google-analytics.com/urchin.js"
            type="text/javascript"
        ></script>
        <script type="text/javascript">
            _uacct = "UA-2442258-1";
            urchinTracker();
        </script>
    </body>
</html>
