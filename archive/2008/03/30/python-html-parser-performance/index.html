<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!-- MOBIFY - DO NOT ALTER - PASTE IMMEDIATELY AFTER OPENING HEAD TAG -->
        <script type="text/javascript">
            /*<![CDATA[*/ (function (a) {
                function b(a, b) {
                    if (+a) return ~a || (d.cookie = h + "=; path=/");
                    (j = d.createElement(e)),
                        (k = d.getElementsByTagName(e)[0]),
                        (j.src = a),
                        b && (j.onload = j.onerror = b),
                        k.parentNode.insertBefore(j, k);
                }
                function c() {
                    n.api || b(l.shift() || -1, c);
                }
                if (this.Mobify) return;
                var d = document,
                    e = "script",
                    f = "mobify",
                    g = "." + f + ".com/",
                    h = f + "-path",
                    i = g + "un" + f + ".js",
                    j,
                    k,
                    l = [!1, 1],
                    m,
                    n = (this.Mobify = {
                        points: [+new Date()],
                        tagVersion: [6, 0],
                    }),
                    o = /(; |#|&|^)mobify-path=([^&;]*)/g.exec(
                        location.hash + "; " + d.cookie
                    );
                o
                    ? (m = o[2]) &&
                      !+(m = sessionStorage[h] || m) &&
                      (l = [!0, "//preview" + g + escape(m)])
                    : ((l = a() || l),
                      l[0] && l.push("//cdn" + i, "//files01" + i)),
                    l.shift()
                        ? (d.write('<plaintext style="display:none;">'),
                          setTimeout(c))
                        : b(l[0]);
            })(function () {
                if (
                    /ip(hone|od)|android.*(mobile)|blackberry.*applewebkit/i.test(
                        navigator.userAgent
                    )
                ) {
                    return [
                        1,
                        "//cdn.mobify.com/sites/ians-blog/production/mobify.js",
                    ];
                }
            }); /*]]>*/
        </script>
        <!-- END MOBIFY -->
        <title>Ian Bicking: a blog :: Python HTML Parser Performance</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="generator" content="WordPress 3.4.2" />
        <!-- LEAVE FOR STATS -->
        <meta name="description" content="" />
        <link
            rel="stylesheet"
            title="plaintxtSimpler"
            href="../../../../wp-content/themes/Barthelme-ianb/style.css"
            type="text/css"
            media="all"
        />
        <link
            rel="start"
            href="../../../../index.html"
            title="Ian Bicking: a blog"
        />
        <link
            rel="alternate"
            type="application/atom+xml"
            title="Ian Bicking: a blog Atom Feed"
            href="../../../../feed/atom/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog RSS 2.0 Feed"
            href="../../../../feed/rss/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog Comments RSS 2.0 Feed"
            href="../../../../comments/feed/index.html"
        />
        <link
            rel="alternate"
            type="application/rdf+xml"
            title="Ian Bicking: a blog RSS 1.0"
            href="../../../../feed/rdf/index.html"
        />
        <link
            rel="alternate"
            type="text/xml"
            title="Ian Bicking: a blog RSS 0.92 Feed"
            href="../../../../feed/rss/index.html"
        />
        <link
            rel="archives"
            title="October 2012"
            href="../../../../2012/10/index.html"
        />
        <link
            rel="archives"
            title="February 2012"
            href="../../../../2012/02/index.html"
        />
        <link
            rel="archives"
            title="April 2011"
            href="../../../../2011/04/index.html"
        />
        <link
            rel="archives"
            title="March 2011"
            href="../../../../2011/03/index.html"
        />
        <link
            rel="archives"
            title="September 2010"
            href="../../../../2010/09/index.html"
        />
        <link
            rel="archives"
            title="August 2010"
            href="../../../../2010/08/index.html"
        />
        <link
            rel="archives"
            title="May 2010"
            href="../../../../2010/05/index.html"
        />
        <link
            rel="archives"
            title="April 2010"
            href="../../../../2010/04/index.html"
        />
        <link
            rel="archives"
            title="March 2010"
            href="../../../../2010/03/index.html"
        />
        <link
            rel="archives"
            title="February 2010"
            href="../../../../2010/02/index.html"
        />
        <link
            rel="archives"
            title="January 2010"
            href="../../../../2010/01/index.html"
        />
        <link
            rel="archives"
            title="September 2009"
            href="../../../../2009/09/index.html"
        />
        <link
            rel="archives"
            title="May 2009"
            href="../../../../2009/05/index.html"
        />
        <link
            rel="archives"
            title="April 2009"
            href="../../../../2009/04/index.html"
        />
        <link
            rel="archives"
            title="January 2009"
            href="../../../../2009/01/index.html"
        />
        <link
            rel="archives"
            title="December 2008"
            href="../../../12/index.html"
        />
        <link
            rel="archives"
            title="November 2008"
            href="../../../11/index.html"
        />
        <link
            rel="archives"
            title="October 2008"
            href="../../../10/index.html"
        />
        <link
            rel="archives"
            title="September 2008"
            href="../../../09/index.html"
        />
        <link
            rel="archives"
            title="August 2008"
            href="../../../08/index.html"
        />
        <link rel="archives" title="July 2008" href="../../../07/index.html" />
        <link rel="archives" title="June 2008" href="../../../06/index.html" />
        <link rel="archives" title="May 2008" href="../../../05/index.html" />
        <link rel="archives" title="April 2008" href="../../../04/index.html" />
        <link rel="archives" title="March 2008" href="../../index.html" />
        <link
            rel="archives"
            title="February 2008"
            href="../../../02/index.html"
        />
        <link
            rel="archives"
            title="January 2008"
            href="../../../01/index.html"
        />
        <link
            rel="archives"
            title="November 2007"
            href="../../../../2007/11/index.html"
        />
        <link
            rel="archives"
            title="October 2007"
            href="../../../../2007/10/index.html"
        />
        <link
            rel="archives"
            title="September 2007"
            href="../../../../2007/09/index.html"
        />
        <link
            rel="archives"
            title="August 2007"
            href="../../../../2007/08/index.html"
        />
        <link
            rel="archives"
            title="July 2007"
            href="../../../../2007/07/index.html"
        />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ian Bicking: a blog &raquo; Python HTML Parser Performance Comments Feed"
            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/feed/"
        />
        <link
            rel="EditURI"
            type="application/rsd+xml"
            title="RSD"
            href="../../../../xmlrpc.php?rsd"
        />
        <link
            rel="wlwmanifest"
            type="application/wlwmanifest+xml"
            href="../../../../wp-includes/wlwmanifest.xml"
        />
        <link
            rel="prev"
            title="HTML Accessibility"
            href="../../23/html-accessibility/index.html"
        />
        <link
            rel="next"
            title="Environmental Guilt"
            href="../../31/environmental-guilt/index.html"
        />
        <meta name="generator" content="WordPress 3.4.2" />
        <link rel="canonical" href="index.html" />
        <link rel="shortlink" href="https://ianbicking.org/?p=48" />
        <link
            rel="stylesheet"
            href="../../../../wp-content/plugins/source-code-syntax-highlighting-plugin-for-wordpress/geshi.css"
            type="text/css"
        />
        <style type="text/css">
            .recentcomments a {
                display: inline !important;
                padding: 0 !important;
                margin: 0 !important;
            }
        </style>
        <style type="text/css" media="all">
            /*<![CDATA[*/
            body {
                font-size: 100%;
            }
            body {
                font-family: tahoma, geneva, sans-serif;
            }
            div.post-header,
            h2.post-title,
            p.post-date-single,
            h2.post-title-single,
            div.post-entry h1,
            div.post-entry h2,
            div.post-entry h3,
            div.post-entry h4,
            div.post-entry h5,
            div.post-entry h6,
            div.post-entry blockquote,
            div.post-footer,
            h3#comment-count,
            h4#comment-header,
            div#comments ol li p.comment-metadata,
            h4#respond {
                font-family: verdana, geneva, sans-serif;
            }
            div.post-entry p {
                text-align: left;
            }
            div#wrapper {
                width: 100%;
            }

            /*]]>*/
        </style>
    </head>
    <body>
        <div id="wrapper">
            <div
                id="header"
                onclick="location.href='https://ianbicking.org/';"
                style="cursor: pointer"
            >
                <h1 id="title">
                    <a href="../../../../index.html" title="Ian Bicking: a blog"
                        >Ian Bicking: a blog</a
                    >
                </h1>
                <p id="description"></p>
            </div>
            <!-- WP Theme Credits -->
            <div style="display: none">
                We can answer on question
                <a href="http://www.olnevhost.net/vps-hosting.html"
                    >what is VPS</a
                >? and what is
                <a href="http://www.olnevhost.net/dedicated-servers.html"
                    ><strong>cheap dedicated servers</strong></a
                >?
            </div>
            <!-- END HEADER -->
            <div id="container">
                <div id="content" class="widecolumn">
                    <div id="post-48" class="post single-post">
                        <p class="post-date-single">{ 2008 03 30 }</p>
                        <h2 class="post-title-single">
                            Python HTML Parser Performance
                        </h2>
                        <div class="post-entry">
                            <div class="document">
                                <p>
                                    In preparation for my
                                    <a
                                        class="reference external"
                                        href="../../21/pycon-talks/index.html"
                                        >PyCon talk on HTML</a
                                    >
                                    I thought I&#8217;d do a performance
                                    comparison of several parsers and document
                                    models.
                                </p>
                                <p>
                                    The situation is a little complex because
                                    there&#8217;s different steps in handling
                                    HTML:
                                </p>
                                <ol class="arabic simple">
                                    <li>Parse the HTML</li>
                                    <li>
                                        Parse it <em>into</em> something (a
                                        document object)
                                    </li>
                                    <li>Serialize it</li>
                                </ol>
                                <p>
                                    Some libraries handle 1, some handle 2, some
                                    handle 1, 2, 3, etc. For instance,
                                    <a
                                        class="reference external"
                                        href="http://effbot.org/zone/element-soup.htm"
                                        >ElementSoup</a
                                    >
                                    uses
                                    <a
                                        class="reference external"
                                        href="http://effbot.org/zone/element-index.htm"
                                        >ElementTree</a
                                    >
                                    as a document, but
                                    <a
                                        class="reference external"
                                        href="http://www.crummy.com/software/BeautifulSoup/"
                                        >BeautifulSoup</a
                                    >
                                    as the parser. BeautifulSoup itself has a
                                    document object included.
                                    <a
                                        class="reference external"
                                        href="http://python.org/doc/current/lib/module-HTMLParser.html"
                                        >HTMLParser</a
                                    >
                                    <em>only</em> parses, while
                                    <a
                                        class="reference external"
                                        href="http://code.google.com/p/html5lib/"
                                        >html5lib</a
                                    >
                                    includes tree builders for several kinds of
                                    trees. There is also XML and HTML
                                    serialization.
                                </p>
                                <p>
                                    So I&#8217;ve taken several combinations and
                                    made benchmarks. The combinations are:
                                </p>
                                <ul class="simple">
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://codespeak.net/lxml/"
                                            >lxml</a
                                        >: a parser, document, and HTML
                                        serializer. Also can use BeautifulSoup
                                        and html5lib for parsing.
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://www.crummy.com/software/BeautifulSoup/"
                                            >BeautifulSoup</a
                                        >: a parser, document, and HTML
                                        serializer.
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://code.google.com/p/html5lib/"
                                            >html5lib</a
                                        >: a parser. It has a serializer, but I
                                        didn&#8217;t use it. It has a built-in
                                        document object (simpletree), but I
                                        don&#8217;t think it&#8217;s meant for
                                        much more than self-testing.
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://effbot.org/zone/element-index.htm"
                                            >ElementTree</a
                                        >: a document object, and XML serializer
                                        (I think newer versions might include an
                                        HTML serializer, but I didn&#8217;t use
                                        it). It doesn&#8217;t have a parser, but
                                        I used html5lib to parse to it. (I
                                        didn&#8217;t use the ElementSoup.)
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://effbot.org/zone/celementtree.htm"
                                            >cElementTree</a
                                        >: a document object implemented as a C
                                        extension. I didn&#8217;t find any
                                        serializer.
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://python.org/doc/current/lib/module-HTMLParser.html"
                                            >HTMLParser</a
                                        >: a parser. It didn&#8217;t parse
                                        <em>to</em> anything. It also
                                        doesn&#8217;t parse lots of normal (but
                                        maybe invalid) HTML. When using it, I
                                        just ran documents through the parser,
                                        not constructing any tree.
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://formencode.org/htmlfill.html"
                                            >htmlfill</a
                                        >: this library uses HTMLParser, but at
                                        least pays <em>a little</em> attention
                                        to the elements as they are parsed.
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://genshi.edgewall.org/"
                                            >Genshi</a
                                        >: includes a parser, document, and HTML
                                        serializer.
                                    </li>
                                    <li>
                                        <a
                                            class="reference external"
                                            href="http://python.org/doc/current/lib/module-xml.dom.minidom.html"
                                            >xml.dom.minidom</a
                                        >: a document model built into the
                                        standard library, which html5lib can
                                        parse to. (I do not recommend using
                                        minidom for anything &#8212; some
                                        reasons will become apparent in this
                                        post, but there are many other reasons
                                        not covered why you shouldn&#8217;t use
                                        it.)
                                    </li>
                                </ul>
                                <p>
                                    I expected lxml to perform well, as it is
                                    based on the C library
                                    <a
                                        class="reference external"
                                        href="http://xmlsoft.org/"
                                        >libxml2</a
                                    >. But it performed better than I realized,
                                    far better than any other library. As a
                                    result, if it wasn&#8217;t for some
                                    persistent installation problems (especially
                                    on Macs) I would recommend lxml for just
                                    about any HTML task.
                                </p>
                                <p>
                                    You can try the code out
                                    <a
                                        class="reference external"
                                        href="http://svn.colorstudy.com/home/ianb/python-html-perf"
                                        >here</a
                                    >. I&#8217;ve included all the sample data,
                                    and the commands I ran for these graphs are
                                    <a
                                        class="reference external"
                                        href="http://svn.colorstudy.com/home/ianb/python-html-perf/results.html"
                                        >here</a
                                    >. These tests use a fairly random selection
                                    of HTML files (355 total) taken from
                                    python.org.
                                </p>
                                <p><strong>Parsing</strong></p>
                                <p>
                                    <img
                                        src="../../../../wp-content/uploads/images/parsing-results.png"
                                        alt="lxml:0.6; BeautifulSoup:10.6; html5lib ElementTree:30.2; html5lib minidom:35.2; Genshi:7.3; HTMLParser:2.9; htmlfill:4.5"
                                        style="padding: 1em"
                                    />
                                </p>
                                <p>
                                    The first test parses the documents. Things
                                    to note: lxml is 6x faster than even
                                    HTMLParser, even though HTMLParser
                                    isn&#8217;t <em>doing</em> anything (lxml is
                                    building a tree in memory). I didn&#8217;t
                                    include all the things html5lib can parse
                                    to, because they all take about the same
                                    amount of time. xml.dom.minidom is only
                                    included because it is so noticeably slow.
                                    Genshi is fairly fast, but it&#8217;s the
                                    most fragile of the parsers. html5lib, lxml,
                                    and BeautifulSoup are all fairly similarly
                                    robust. html5lib has the benefit of (at
                                    least in theory) being <em>the</em> correct
                                    parsing of HTML.
                                </p>
                                <p>
                                    While I don&#8217;t really believe it
                                    matters often, lxml releases the GIL during
                                    parsing.
                                </p>
                                <p><strong>Serialization</strong></p>
                                <p>
                                    <img
                                        src="../../../../wp-content/uploads/images/serialization-results.png"
                                        alt="lxml:0.3; BeautifulSoup:2.0; html5lib ElementTree:1.9; html5lib minidom:3.8; Genshi:4.4"
                                        style="padding: 1em"
                                    />
                                </p>
                                <p>
                                    Serialization is pretty fast across all the
                                    libraries, though again lxml leads the pack
                                    by a long distance. ElementTree and minidom
                                    are only doing XML serialization, but
                                    there&#8217;s no reason that the HTML
                                    equivalent would be any faster. That Genshi
                                    is slower than minidom is surprising. That
                                    <em>anything</em> is worse than minidom is
                                    generally surprising.
                                </p>
                                <p><strong>Memory</strong></p>
                                <p>
                                    <img
                                        src="../../../../wp-content/uploads/images/memory-results.png"
                                        alt="lxml:26; BeautifulSoup:82; BeautifulSoup lxml:104; html5lib cElementTree:54; html5lib ElementTree:64; html5lib simpletree:98; html5lib minidom:192; Genshi:64; htmlfill:5.5; HTMLParser:4.4"
                                        style="padding: 1em"
                                    />
                                </p>
                                <p>
                                    The last test is of memory. I don&#8217;t
                                    have a lot of confidence in the way I made
                                    this test, but I&#8217;m sure it means
                                    <em>something</em>. This was done by parsing
                                    all the documents and holding the documents
                                    in memory, and using the RSS size reported
                                    by
                                    <tt class="docutils literal"
                                        ><span class="pre">ps</span></tt
                                    >
                                    to see how much the process had grown. All
                                    the libraries should be imported when
                                    calculating the baseline, so only the
                                    documents and parsing should cause the
                                    memory increase.
                                </p>
                                <p>
                                    HTMLParser is a baseline, as it just keeps
                                    the documents in memory as a string, and
                                    creates some intermediate strings. The
                                    intermediate strings don&#8217;t end up
                                    accounting for anything, since the memory
                                    used is almost exactly the combined size of
                                    all the files.
                                </p>
                                <p>
                                    A tricky part of this measurement is that
                                    the Python allocator doesn&#8217;t let go of
                                    memory that it requests, so if a
                                    <em>parser</em> creates lots of intermediate
                                    strings and then releases them the process
                                    will still hang onto all that memory. To
                                    detect this I tried allocating new strings
                                    until the process size grew (trying to
                                    detect allocated but unused memory), but
                                    this didn&#8217;t reveal much &#8212; only
                                    the BeautifulSoup parser, serialized to an
                                    lxml tree, showed much extra memory.
                                </p>
                                <p>
                                    This is one of the only places where
                                    html5lib with <strong>c</strong>ElementTree
                                    was noticeably different than html5lib with
                                    ElementTree. Not that surprising, I guess,
                                    since I didn&#8217;t find a coded-in-C
                                    serializer, and I imagine the tree building
                                    is only going to be a lot faster for
                                    cElementTree if you are building the tree
                                    from C code (as its native XML parser would
                                    do).
                                </p>
                                <p>
                                    lxml is probably memory efficient because it
                                    uses native libxml2 data structures, and
                                    only creates Python objects on demand.
                                </p>
                                <p><strong>In Conclusion</strong></p>
                                <p>
                                    I knew lxml was fast before I started these
                                    benchmarks, but I didn&#8217;t expect it to
                                    be quite <em>this</em> fast.
                                </p>
                                <p>
                                    So in conclusion: lxml kicks ass. You can
                                    use it in ways you couldn&#8217;t use other
                                    systems. You can parse, serialize, parse,
                                    serialize, and repeat the process a couple
                                    times with your HTML before the performance
                                    will hurt you. With high-level constructs
                                    many constructs can happen in very fast C
                                    code without calling out to Python. As an
                                    example, if you do an XPath query, the query
                                    string is compiled into something native and
                                    traverses the native libxml2 objects, only
                                    creating Python objects to wrap the query
                                    results. In addition, things like the modest
                                    memory use make me more confident that lxml
                                    will act reliably even under unexpected
                                    load.
                                </p>
                                <p>
                                    I also am more confident about using a
                                    document model instead of stream parsing. It
                                    is sometimes felt that streamed parsing is
                                    better: you don&#8217;t keep the entire
                                    document in memory, and your work generally
                                    scales linearly with your document size.
                                    HTMLParser is a stream-based parser,
                                    emitting events for each kind of token (open
                                    tag, close tag, data, etc). Genshi also uses
                                    this model, with higher-level stuff like
                                    <a
                                        class="reference external"
                                        href="http://genshi.edgewall.org/wiki/Documentation/0.4.x/filters.html"
                                        >filters</a
                                    >
                                    to make it feel a bit more natural. But the
                                    stream model is <em>not</em> the natural way
                                    to process a document, it&#8217;s actually a
                                    really awkward way to handle a document that
                                    is better seen as a single thing. If you are
                                    processing gigabyte files of XML it can make
                                    sense (and both the normally
                                    document-oriented lxml and ElementTree offer
                                    options when this happens). This
                                    doesn&#8217;t make any sense for HTML. And
                                    these tests make me believe that even
                                    <em>really big</em> HTML documents can be
                                    handled quite well by lxml, so a huge
                                    outlying document won&#8217;t break a system
                                    that is appropriately optimized for handling
                                    normal sized documents.
                                </p>
                            </div>
                            <p>
                                Automatically generated list of related posts:
                            </p>
                            <ol>
                                <li>
                                    <a
                                        href="../../../../2007/09/24/lxmlhtml/index.html"
                                        rel="bookmark"
                                        title="lxml.html"
                                        >lxml.html</a
                                    >
                                    <small
                                        >Over the summer I did quite a bit of
                                        work...</small
                                    >
                                </li>
                                <li>
                                    <a
                                        href="../../23/html-accessibility/index.html"
                                        rel="bookmark"
                                        title="HTML Accessibility"
                                        >HTML Accessibility</a
                                    >
                                    <small
                                        >So I gave a presentation at PyCon about
                                        HTML, which...</small
                                    >
                                </li>
                                <li>
                                    <a
                                        href="../../../../index.html?p=250"
                                        rel="bookmark"
                                        title="A Python Web Application Package and Format (we should make one)"
                                        >A Python Web Application Package and
                                        Format (we should make one)</a
                                    >
                                    <small
                                        >At PyCon there was an open space about
                                        deployment, and...</small
                                    >
                                </li>
                                <li>
                                    <a
                                        href="../../../../2007/08/08/opening-python-classes/index.html"
                                        rel="bookmark"
                                        title="Opening Python Classes"
                                        >Opening Python Classes</a
                                    >
                                    <small
                                        >So, I was reading through comments to
                                        despam my old...</small
                                    >
                                </li>
                                <li>
                                    <a
                                        href="../../../../2007/09/16/2-python-environment-experiments/index.html"
                                        rel="bookmark"
                                        title="2 Python Environment Experiments"
                                        >2 Python Environment Experiments</a
                                    >
                                    <small
                                        >two experiments in the Python
                                        environment. The first is
                                        virtualenv,...</small
                                    >
                                </li>
                            </ol>
                        </div>
                        <!-- END POST-ENTRY  -->
                        <!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://ianbicking.org/2008/03/30/python-html-parser-performance/"
    dc:identifier="https://ianbicking.org/2008/03/30/python-html-parser-performance/"
    dc:title="Python HTML Parser Performance"
    trackback:ping="https://ianbicking.org/2008/03/30/python-html-parser-performance/trackback/" />
</rdf:RDF> -->
                        <div class="post-footer">
                            <p>
                                Posted by Ian Bicking on Sunday, March 30th,
                                2008, at 7:54 pm, and filed under
                                <a
                                    href="../../../../category/html/index.html"
                                    title="View all posts in HTML"
                                    rel="category tag"
                                    >HTML</a
                                >,
                                <a
                                    href="../../../../category/programming/index.html"
                                    title="View all posts in Programming"
                                    rel="category tag"
                                    >Programming</a
                                >,
                                <a
                                    href="../../../../category/python/index.html"
                                    title="View all posts in Python"
                                    rel="category tag"
                                    >Python</a
                                >.
                            </p>
                            <p>
                                Comments have a
                                <a
                                    href="https://ianbicking.org/2008/03/30/python-html-parser-performance/feed/"
                                    >feed</a
                                >.
                            </p>
                        </div>
                        <!-- END POST-FOOTER -->
                    </div>
                    <!-- END POST -->

                    <div id="comments">
                        <h4 id="comments">39 Comments</h4>
                        <ul class="commentlist">
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16371"
                            >
                                <div
                                    id="div-comment-16371"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/a88b5a45d4f18442e3264b556d999a36?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://bjorn.tipling.com"
                                                rel="external nofollow"
                                                class="url"
                                                >Bjorn Tipling</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16371"
                                        >
                                            March 30, 2008 at 8:33 pm</a
                                        >
                                    </div>

                                    <p>
                                        Followed your twitter to this post.
                                        Looks like Genshi doesn&#8217;t do so
                                        bad, except for the serialization.
                                        That&#8217;s cool about lxml.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16373"
                            >
                                <div
                                    id="div-comment-16373"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/e50d396533a9455ba01a4827868598e9?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://elliotmurphy.com"
                                                rel="external nofollow"
                                                class="url"
                                                >Elliot Murphy</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16373"
                                        >
                                            March 30, 2008 at 9:48 pm</a
                                        >
                                    </div>

                                    <p>
                                        Ian, thanks for posting these, they are
                                        very useful. We&#8217;ve been fretting
                                        about what to do with our ever-slower
                                        developer test suite for launchpad.net,
                                        which does a LOT of BeautifulSoup
                                        parsing of generated pages for testing.
                                        Looks like lxml deserves some serious
                                        consideration.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment byuser comment-author-ianb bypostauthor even thread-even depth-1"
                                id="comment-16374"
                            >
                                <div
                                    id="div-comment-16374"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="../../../../index.html"
                                                rel="external nofollow"
                                                class="url"
                                                >Ian Bicking</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16374"
                                        >
                                            March 30, 2008 at 10:16 pm</a
                                        >
                                    </div>

                                    <p>
                                        BTW, for acceptance testing [WebTest](<a
                                            href="http://pythonpaste.org/webtest/"
                                            rel="nofollow"
                                            >http://pythonpaste.org/webtest/</a
                                        >) already includes lxml support
                                        (admittedly trivial to implement). You
                                        can do
                                        <code
                                            >assert
                                            app.get('/some_page').lxml.xpath('//div[contains(.,
                                            'something')]')</code
                                        >. I think XPath would be quite useful
                                        for doing testing-related queries.
                                        (There&#8217;s also BeautifulSoup
                                        support with <code>.html</code>, and
                                        etree XML parsing with
                                        <code>.xml</code>, so WebTest is fairly
                                        agnostic.)
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16378"
                            >
                                <div
                                    id="div-comment-16378"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/e04ba8565a82423fc6b401d092bc5a39?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.defuze.org"
                                                rel="external nofollow"
                                                class="url"
                                                >Sylvain Hellegouarch</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16378"
                                        >
                                            March 31, 2008 at 1:10 am</a
                                        >
                                    </div>

                                    <p>
                                        Not really surprising that lxml does so
                                        well, it&#8217;s been very good for
                                        quite some time. I would have personally
                                        found interesting that you analyzed a
                                        bit more the set of random HTML files
                                        you used. Were they mainly well-formed,
                                        XHTML possibly, big files, containing
                                        lots of nested structures? The results
                                        would&#8217;ve be even more meaningful
                                        had we known that kind of information I
                                        think. Any chance you comment there?
                                    </p>

                                    <p>
                                        I would be very curious about the part
                                        on memory allocation. I&#8217;ve been
                                        working on XMPP lately and therefore
                                        have used a sax parser baseline for the
                                        XML stream exchanged but have indeed
                                        found the fact the memory was not freed
                                        was a big issue on the long run. Any
                                        tips? That&#8217;d help.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16379"
                            >
                                <div
                                    id="div-comment-16379"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/f32266cfb594b651f542aa948e25f2a3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.sancairodicopenhagen.com/tbpmd.html"
                                                rel="external nofollow"
                                                class="url"
                                                >Josef Assad</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16379"
                                        >
                                            March 31, 2008 at 2:09 am</a
                                        >
                                    </div>

                                    <p>
                                        The results aren&#8217;t all that much
                                        of a surprise, but I do have to wonder
                                        in the case of beautifulsoup how much of
                                        the performance difference is traded off
                                        (quite happily) in exchange for ability
                                        to successfully parse broken html.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16380"
                            >
                                <div
                                    id="div-comment-16380"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/76fcd11059550e40ccc240408bf53930?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">NDG</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16380"
                                        >
                                            March 31, 2008 at 2:12 am</a
                                        >
                                    </div>

                                    <p>
                                        Can I ask if you have a pointer to some
                                        discussion of why minidom sucks? (Apart
                                        from this speed issue, that is, which is
                                        illuminating but not disastrous.)
                                        I&#8217;ve used it in the past because
                                        it was in the stdlib and I assumed that
                                        was a vote of confidence, but now
                                        I&#8217;m worried that it&#8217;ll come
                                        back to bite me&#8230;.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16381"
                            >
                                <div
                                    id="div-comment-16381"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/a57623b01285beac0e6970cdd016f9ee?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://home.badc.rl.ac.uk/lawrence/blog"
                                                rel="external nofollow"
                                                class="url"
                                                >Bryan Lawrence</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16381"
                                        >
                                            March 31, 2008 at 2:54 am</a
                                        >
                                    </div>

                                    <p>
                                        Ian: what do you mean elementtree (c or
                                        otherwise) doesn&#8217;t include a
                                        parser? What&#8217;s your definition of
                                        a parser? Do you mean it hasn&#8217;t
                                        got an HTML parser? (It clearly parses
                                        XML to an ET object &#8230;)
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16382"
                            >
                                <div
                                    id="div-comment-16382"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/cfa706f0322c43bcb234b0261b2cc37e?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.cmlenz.net/"
                                                rel="external nofollow"
                                                class="url"
                                                >Christopher Lenz</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16382"
                                        >
                                            March 31, 2008 at 3:06 am</a
                                        >
                                    </div>

                                    <p>
                                        &gt; Genshi is fairly fast, but it’s the
                                        most fragile of the parsers.
                                    </p>

                                    <p>
                                        Details? The HTML parser in Genshi is
                                        based pretty much directly on
                                        HTMLParser, only with some added fixups
                                        for bad nesting.
                                    </p>

                                    <p>
                                        For the serialization, the quality of
                                        the results seems to vary wildly.
                                        minidom and ElementTree simply produce
                                        XML output, which you would not be able
                                        to simply use as HTML on the web without
                                        things breaking (for example,
                                        <code>[script src]</code> elements
                                        without a closing tag, or escaping the
                                        contents of
                                        <code>[script]</code> elements.) Genshi
                                        produces HTML you can use in the wild,
                                        and I assume lxml does that too.
                                    </p>

                                    <p>
                                        (BTW you&#8217;re comment system is
                                        stripping out script tags even in code
                                        spans)
                                    </p>

                                    <p>
                                        Reproducing the serialization tests with
                                        Genshi trunk, I see 2.99s for
                                        serialization versus 3.21s for
                                        html5_minidom. So at least it
                                        doesn&#8217;t seem to be slower anymore
                                        :P But the real improvement comes from
                                        disabling whitespace stripping, which I
                                        guess none of the other serializers do:
                                    </p>

                                    <pre><code>return doc.render('html', strip_whitespace=False)
</code></pre>

                                    <p>
                                        That reduces the time taken to 1.78s on
                                        my machine. Probably still a bit slower
                                        than the rest, but at least it should
                                        produce good HTML ;)
                                    </p>

                                    <p>
                                        One last minor comment about the memory
                                        use test: for Genshi, your test keeps
                                        the entire parsed document in memory.
                                        You &#8221;could&#8221; set the Genshi
                                        test up in a way that would parse and
                                        serialize in a completely streaming
                                        fashion (using
                                        <code>genshi.input.HTMLParser</code>).
                                        That would take some tweaks to the test
                                        infrastructure, so that the test types
                                        would be passed file objects that would
                                        be closed externally.
                                    </p>

                                    <pre><code>from genshi import Stream
from genshi.input import HTMLParser
stream = Stream(HTMLParser(fileobj))
return stream.render('html', strip_whitespace=False, out=sys.stdout)
</code></pre>

                                    <p>
                                        Anyway, just saying this test in no way
                                        demonstrates the advantage of streaming
                                        on memory use. On the other hand,
                                        I&#8217;m not arguing that there is an
                                        advantage for most use cases, either.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16385"
                            >
                                <div
                                    id="div-comment-16385"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/ab535cda1b74f481dde53091b03417a2?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Paul Boddie</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16385"
                                        >
                                            March 31, 2008 at 3:59 am</a
                                        >
                                    </div>

                                    <p>
                                        An interesting post, Ian! I think
                                        I&#8217;ll try the code out with
                                        libxml2dom (<a
                                            href="http://www.python.org/pypi/libxml2dom"
                                            rel="nofollow"
                                            >http://www.python.org/pypi/libxml2dom</a
                                        >) and see if the performance is in line
                                        with lxml.html, since they should both
                                        use the same bits of libxml2.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16386"
                            >
                                <div
                                    id="div-comment-16386"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/1315b3910b5daae2d3df05e2d1b52202?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://homepage.mac.com/s_lott/iblog/architecture"
                                                rel="external nofollow"
                                                class="url"
                                                >Steven F. Lott</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16386"
                                        >
                                            March 31, 2008 at 4:17 am</a
                                        >
                                    </div>

                                    <p>
                                        More on the suckishness of minidom,
                                        please.
                                    </p>

                                    <p>
                                        I&#8217;ve never been able to make much
                                        sense of the SAX-style
                                        &#8220;event&#8221; parsing, and always
                                        create a document tree. I&#8217;ve done
                                        it with and without minidom. Parsing
                                        without minidom is sometimes painful
                                        because I have to invent a class
                                        structure for the document, and some
                                        types of documents (HTML, XML
                                        representations of spreadsheets) have so
                                        many tags that I get dizzy trying to
                                        work out the classes. Parsing with
                                        minidom means struggling with their
                                        ineffective and brain-dead search
                                        capabilities; but at least I&#8217;ve
                                        got a structure that I can visit.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16390"
                            >
                                <div
                                    id="div-comment-16390"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/141ac8cdf6d5306a15201d472a32a1c5?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://faassen.n--tree.net/blog"
                                                rel="external nofollow"
                                                class="url"
                                                >Martijn Faassen</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16390"
                                        >
                                            March 31, 2008 at 5:51 am</a
                                        >
                                    </div>

                                    <p>
                                        Thanks for showing these results Ian!
                                        It&#8217;s nice to see lxml (my baby
                                        too) do so well here. Stefan Behnel has
                                        been doing awesome work for the last few
                                        years in making lxml rock, and thanks
                                        for your HTML work too, which already
                                        was quite useful in a few of my own
                                        projects. Nothing could be done without
                                        all the great work by the libxml2
                                        hackers, of course.
                                    </p>

                                    <p>
                                        Anyway, people asked why minidom sucks.
                                        The answer would be to look at
                                        Ian&#8217;s benchmarks. :) Anyway, I
                                        don&#8217;t know the details as I never
                                        did the analysis, but I&#8217;ll give
                                        you the lore:
                                    </p>

                                    <p>
                                        minidom for years has been doing very
                                        bad in various Python/XML benchmarks. It
                                        tends to gobble up inordinate amounts of
                                        memory compared to the competition, and
                                        in exchange it gives you DOM access that
                                        is relatively slow. It also
                                        doesn&#8217;t offer much in the way of
                                        other features (say, xpath). Finally,
                                        the DOM API isn&#8217;t a great API in
                                        the first place, especially from a
                                        Python perspective.
                                    </p>

                                    <p>
                                        In general, excepting the ElementTree
                                        bits that are now in the library, the
                                        Python XML support in the standard
                                        library is inferior to some of
                                        what&#8217;s out there outside the
                                        standard library, in the API, feature
                                        and performance departments all. In
                                        addition, the Python XML project which
                                        theoretically works on this code base
                                        has been dead for some time now. If
                                        you&#8217;re going to do XML parsing
                                        with just the standard library,
                                        I&#8217;d recommend using the
                                        ElementTree bits. That&#8217;s not to
                                        say the other bits are absolutely
                                        useless &#8211; I&#8217;ve built quite a
                                        bit on the SAX support over the years,
                                        and while it&#8217;s low-level
                                        it&#8217;s reasonable for what it does
                                        (but again there ElementTree offers
                                        iterparse).
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16391"
                            >
                                <div
                                    id="div-comment-16391"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/ab535cda1b74f481dde53091b03417a2?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Paul Boddie</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16391"
                                        >
                                            March 31, 2008 at 8:08 am</a
                                        >
                                    </div>

                                    <p>
                                        Remember that there are things in the
                                        standard library like xml.dom.pulldom
                                        which can be very useful. However,
                                        it&#8217;s a shame that PyXML has been
                                        more or less abandoned, since it could
                                        have fed things like XPath into the
                                        standard library. Instead, we&#8217;ve
                                        now got a lot of code which isn&#8217;t
                                        seeing very much maintenance, but which
                                        may be seeing a fair amount of use.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment byuser comment-author-ianb bypostauthor even thread-even depth-1"
                                id="comment-16393"
                            >
                                <div
                                    id="div-comment-16393"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="../../../../index.html"
                                                rel="external nofollow"
                                                class="url"
                                                >Ian Bicking</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16393"
                                        >
                                            March 31, 2008 at 9:30 am</a
                                        >
                                    </div>

                                    <p>
                                        Bryan: these are all tests of HTML
                                        parsers, and ElementTree doesn&#8217;t
                                        include an HTML parser.
                                    </p>

                                    <p>
                                        Josef, Christopher Lenz: I haven&#8217;t
                                        done any thorough tests, but from a
                                        couple examples I tried lxml seemed to
                                        parse a bit better than BeautifulSoup,
                                        and generally lxml parsed documents the
                                        same way as html5lib. In order to get
                                        HTMLParser to parse the pages from
                                        python.org (which themselves are
                                        relatively clean, but many were written
                                        by hand) I had to delete some doctypes
                                        that had bad syntax, as I remember, and
                                        a couple other things (some weird tags,
                                        I think, like
                                        <code>&lt;a&lt;p&gt;</code>). Then when
                                        I added Genshi I also had to delete some
                                        conditional comments in a Word export
                                        (like
                                        <code
                                            >&lt;![if
                                            something]&gt;...&lt;![endif&gt;</code
                                        >). The other parsers all at least
                                        ignored that. Of course, Genshi
                                        isn&#8217;t really intended to be used
                                        to parse random content on the web, so I
                                        don&#8217;t know if this really matters.
                                    </p>

                                    <p>Finally, on minidom:</p>

                                    <p>
                                        I haven&#8217;t used minidom a great
                                        deal. When I have used it, it does
                                        technically work. It has methods like
                                        <code>getElementById</code> which
                                        <em>doesn&#8217;t</em> work (but
                                        pretends to work). When I asked about it
                                        I got some vague answer about DTDs and
                                        document modes. The packages
                                        aren&#8217;t very well maintained. There
                                        used two be two implementations, the
                                        standard library, and PyXML which
                                        provided the same packages but on a
                                        faster release cycle. This pretty much
                                        killed the standard library advantage,
                                        because you couldn&#8217;t rely on the
                                        libraries working in a consistent way.
                                        Now that PyXML is basically dead, at
                                        least the code is stable. But the code
                                        itself is also dead. Given that minidom
                                        has no particularly good attributes, I
                                        don&#8217;t think it&#8217;s worth
                                        using. And now with ElementTree in the
                                        standard library it&#8217;s an even
                                        clearer choice.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16394"
                            >
                                <div
                                    id="div-comment-16394"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/9ff6782a770f7303efa67bc931241116?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://livingcode.org/"
                                                rel="external nofollow"
                                                class="url"
                                                >Dethe Elza</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16394"
                                        >
                                            March 31, 2008 at 11:35 am</a
                                        >
                                    </div>

                                    <p>
                                        While lxml used to be hard to get
                                        installed on a Mac, I haven&#8217;t had
                                        trouble with it recently. OK, as I was
                                        typing that, I decided to fact-check
                                        myself. Running &#8220;easy&#95;install
                                        lxml&#8221; with the system Python (2.5
                                        on Leopard) tried to build
                                        lxml-2.1alpha1 and failed with a variety
                                        of errors. Changing that to
                                        &#8216;easy&#95;install
                                        &#8220;lxml==1.0&#8243;&#8216; worked
                                        fine.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16396"
                            >
                                <div
                                    id="div-comment-16396"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/e04ba8565a82423fc6b401d092bc5a39?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.defuze.org"
                                                rel="external nofollow"
                                                class="url"
                                                >Sylvain Hellegouarch</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16396"
                                        >
                                            March 31, 2008 at 12:34 pm</a
                                        >
                                    </div>

                                    <p>
                                        I think Fredrik would tell you that
                                        ElementTree leaves you the task to write
                                        the parser that fits your need and
                                        that&#8217;s why there is no HTML parser
                                        per se in its core. I think I recall him
                                        saying something along those lines
                                        anyway.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16397"
                            >
                                <div
                                    id="div-comment-16397"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/73e879fe356b2e446337d69233af2392?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://effbot.org/zone/element.htm"
                                                rel="external nofollow"
                                                class="url"
                                                >Fredrik</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16397"
                                        >
                                            March 31, 2008 at 1:07 pm</a
                                        >
                                    </div>

                                    <p>
                                        The current cElementTree implementation
                                        falls back on the Python serializer, but
                                        the next release will use an internal
                                        fast serializer for most cases.
                                    </p>

                                    <p>
                                        As for HTML parsing, that&#8217;s a huge
                                        topic, and lots of folks have worked
                                        hard on that, pretty much all without
                                        getting it entirely right (but once
                                        HTML5 stabilizes, I&#8217;m sure
                                        we&#8217;ll see fast C/C++
                                        implementations of that approach). But
                                        if someone wants to contribute a fast,
                                        self-contained HTML parser in C or
                                        Python that&#8217;s on par with
                                        BeautifulSoup but produces a SAX-style
                                        event stream instead, be my guest ;-)
                                    </p>

                                    <p>
                                        (where&#8217;s Tidy, btw? Benchmarking a
                                        tidy-&gt;xhtml-&gt;xml parser pipeline
                                        could be somewhat interesting, I think.)
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment byuser comment-author-ianb bypostauthor even thread-even depth-1"
                                id="comment-16398"
                            >
                                <div
                                    id="div-comment-16398"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="../../../../index.html"
                                                rel="external nofollow"
                                                class="url"
                                                >Ian Bicking</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16398"
                                        >
                                            March 31, 2008 at 2:00 pm</a
                                        >
                                    </div>

                                    <p>
                                        I think it&#8217;s fine that ElementTree
                                        doesn&#8217;t include a parser,
                                        it&#8217;s totally legitimate to choose
                                        that partitioning. And right now I
                                        don&#8217;t think an HTML parser belongs
                                        in the standard library.
                                    </p>

                                    <p>
                                        There is a pure-Python parser that
                                        generates a SAX-style event stream:
                                        html5lib. It&#8217;s accurate but for
                                        now slow. Not surprising since it is a
                                        reference implementation. (There seems
                                        to be an incomplete C parser in the
                                        html5lib project too?)
                                    </p>

                                    <p>
                                        There is a fast C implementation of HTML
                                        parsing available: lxml. Or using just
                                        the simpler underlying libxml2 Python
                                        bindings (which I believe are rather
                                        unsafe, but as long as you use them
                                        carefully I guess they&#8217;d be okay).
                                        It would be <em>very</em> easy to write
                                        an lxml to ElementTree translator, but
                                        so far no one has bothered (which is
                                        unsurprising, really).
                                    </p>

                                    <p>
                                        Tidy would be interesting, maybe
                                        I&#8217;ll try coding that up. However,
                                        it is <em>by far</em> the least accurate
                                        parser. In the Bad Old Days I used to
                                        use it, and it chewed up HTML quite
                                        badly. It isn&#8217;t just a tool for
                                        interpreting the ambiguities of HTML,
                                        it&#8217;s a tool to &#8220;fix&#8221;
                                        both the ambiguities and style problems.
                                        Even if you give it conservative options
                                        I would be reluctant to trust it. I
                                        would not recommend it as a parsing
                                        tool.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16407"
                            >
                                <div
                                    id="div-comment-16407"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/844f4ceceb1f7686db05fe2c9dc8d6f2?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://mark.stosberg.com"
                                                rel="external nofollow"
                                                class="url"
                                                >Mark Stosberg</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16407"
                                        >
                                            March 31, 2008 at 9:17 pm</a
                                        >
                                    </div>

                                    <p>
                                        Congratulations on making the front page
                                        of del.icio.us.
                                    </p>

                                    <p>
                                        It seems like a thoroughly researched
                                        piece!
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16437"
                            >
                                <div
                                    id="div-comment-16437"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/5e14e03b801b4839a5aa7e16daaba2a9?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://james.html5.org/"
                                                rel="external nofollow"
                                                class="url"
                                                >jgraham</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16437"
                                        >
                                            April 1, 2008 at 4:26 pm</a
                                        >
                                    </div>

                                    <p>
                                        &gt; There seems to be an incomplete C
                                        parser in the html5lib project too?
                                    </p>

                                    <p>
                                        Indeed, there is the very beginning of a
                                        pure-C HTML5 parser in the html5lib
                                        project. This has stalled recently as I
                                        have had other things to keep me busy
                                        and my total inexperience as a C
                                        developer makes it a tough project to
                                        dip into intermittently. If anyone
                                        fancies picking it up and giving it a
                                        push, they are most welcome to; you
                                        should be able to catch me in #whatwg on
                                        irc.freenode.net if you have any
                                        questions.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16448"
                            >
                                <div
                                    id="div-comment-16448"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/edeea7fe94bc8ea60b979916ac50e8a2?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.ohuiginn.net"
                                                rel="external nofollow"
                                                class="url"
                                                >Dan</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16448"
                                        >
                                            April 2, 2008 at 3:29 am</a
                                        >
                                    </div>

                                    <p>
                                        &#8220;I would recommend lxml for just
                                        about any HTML task.&#8221;
                                    </p>

                                    <p>
                                        You&#8217;re missing a crucial
                                        qualification here &#8211; I&#8217;d say
                                        &#8220;for just about any HTML task
                                        <i>where performance matters</i>&#8220;.
                                        90% of the time when I&#8217;m parsing
                                        HTML, differences in speed and memory
                                        usage are totally insignificant.
                                        I&#8217;d certainly trade off an order
                                        of magnitude speed difference for even a
                                        slight benefit in ease-of-use.
                                    </p>

                                    <p>
                                        Still, it&#8217;s good to see numbers on
                                        how big the performance difference is,
                                        and I&#8217;ll probably look into using
                                        lxml with BeautifulSoup some time in the
                                        future.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment byuser comment-author-ianb bypostauthor even thread-even depth-1"
                                id="comment-16474"
                            >
                                <div
                                    id="div-comment-16474"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="../../../../index.html"
                                                rel="external nofollow"
                                                class="url"
                                                >Ian Bicking</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16474"
                                        >
                                            April 2, 2008 at 9:22 am</a
                                        >
                                    </div>

                                    <p>
                                        Dan: no, no qualification, I would
                                        recommend lxml for just about any HTML
                                        task.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-16742"
                            >
                                <div
                                    id="div-comment-16742"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/ec94301961d860ce9f4578f4ceadd5fa?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Cesar Ortiz</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16742"
                                        >
                                            April 15, 2008 at 5:00 pm</a
                                        >
                                    </div>

                                    <p>Hi,</p>

                                    <p>
                                        Some time ago I was looking for a fast
                                        html parse that could handle &#8216;bad
                                        html&#8217; and the winner was libxml2.
                                        I just wanted a SAX parsing, because
                                        instead of a generic tree, we use other
                                        kind or data structures.
                                    </p>

                                    <p>Excelent article,</p>

                                    <p>Cesar</p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-16743"
                            >
                                <div
                                    id="div-comment-16743"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/ec94301961d860ce9f4578f4ceadd5fa?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Cesar Ortiz</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-16743"
                                        >
                                            April 15, 2008 at 5:04 pm</a
                                        >
                                    </div>

                                    <p>
                                        &#8230; and I wasn´t able to find an
                                        article like this. This post can save
                                        time to a lot of people.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-18115"
                            >
                                <div
                                    id="div-comment-18115"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/f03211e8aa8a58f334a2ae23a58bd16b?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://love-python.blogspot.com/"
                                                rel="external nofollow"
                                                class="url"
                                                >Subeen</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-18115"
                                        >
                                            June 9, 2008 at 12:25 pm</a
                                        >
                                    </div>

                                    <p>Really nice article. Thanks.</p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-18336"
                            >
                                <div
                                    id="div-comment-18336"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/e1e331c88fcddfe245f4be299389270d?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Eric LEBIGOT</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-18336"
                                        >
                                            June 13, 2008 at 7:15 am</a
                                        >
                                    </div>

                                    <p>
                                        Great overview of HTML parsers &amp;
                                        friends! Very useful indeed.
                                    </p>

                                    <p>
                                        Just one point about Mac OS X (10.4): I
                                        had no problem installing lxml! Just did
                                        a simple &#8220;sudo easy_install
                                        lxml&#8221;. libxml2 and Python were
                                        both installed in a quite standard way
                                        and without any pain (through Fink).
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-20626"
                            >
                                <div
                                    id="div-comment-20626"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/655533d118bac36e08fdb4b3d4caaee8?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Jerzy Orlowski</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-20626"
                                        >
                                            July 8, 2008 at 5:27 pm</a
                                        >
                                    </div>

                                    <p>Hi</p>

                                    <p>
                                        Is there any way to interpret javascript
                                        in Python?
                                    </p>

                                    <p>example input:</p>

                                    <p>
                                        document.write(&#8216;&lt;a
                                        href=&#8221;mailto:biuro&#8217;);
                                        document.write(&#8216;@inprofi.pl&#8221;&gt;biuro&#8217;);
                                        document.write(&#8216;@inprofi.pl&lt;/a&gt;&#8217;);
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-20627"
                            >
                                <div
                                    id="div-comment-20627"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/655533d118bac36e08fdb4b3d4caaee8?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Jerzy Orlowski</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-20627"
                                        >
                                            July 8, 2008 at 5:31 pm</a
                                        >
                                    </div>

                                    <p>
                                        Sorry, but the website formatted example
                                        input into html. It was a code in
                                        javascript that concatenates some
                                        variables to generate an email address.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment byuser comment-author-ianb bypostauthor odd alt thread-odd thread-alt depth-1"
                                id="comment-20642"
                            >
                                <div
                                    id="div-comment-20642"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/cc8334869c9d2a9e603017f2da805eb3?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="../../../../index.html"
                                                rel="external nofollow"
                                                class="url"
                                                >Ian Bicking</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-20642"
                                        >
                                            July 8, 2008 at 9:08 pm</a
                                        >
                                    </div>

                                    <p>
                                        Well, hopefully you aren&#8217;t
                                        considering scraping email
                                        addresses&#8230;? You could look at
                                        python-spidermonkey, but the task
                                        isn&#8217;t all that easy, especially
                                        getting document.write to work.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-112647"
                            >
                                <div
                                    id="div-comment-112647"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/5c664a450467b3675d71a0323bd9734e?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://N/Aatthemoment"
                                                rel="external nofollow"
                                                class="url"
                                                >Ian Bicking</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-112647"
                                        >
                                            June 17, 2009 at 3:57 am</a
                                        >
                                    </div>

                                    <p>Hi Ian Bicking</p>

                                    <p>
                                        I like your posting on the lxml timing,
                                        however I have been working on some
                                        parsing with another programmer, however
                                        we are having some timing issues.
                                        Average 3 sec.
                                    </p>

                                    <p>
                                        May I ask if you are a god on these type
                                        of scripts since I am aiming for a lower
                                        speed in which to process the data, if
                                        you are availible to assit can you
                                        please email me.
                                    </p>

                                    <p>Many thanks Wayne</p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-112648"
                            >
                                <div
                                    id="div-comment-112648"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/5c664a450467b3675d71a0323bd9734e?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://N/N"
                                                rel="external nofollow"
                                                class="url"
                                                >Wayne Sadler</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-112648"
                                        >
                                            June 17, 2009 at 4:11 am</a
                                        >
                                    </div>

                                    <p>Hi Ian Bicking</p>

                                    <p>
                                        I like your posting on the lxml timing,
                                        however I have been working on some
                                        parsing with another programmer, however
                                        we are having some timing issues.
                                        Average 3 sec.
                                    </p>

                                    <p>
                                        May I ask if you are a god on these type
                                        of scripts since I am aiming for a lower
                                        speed in which to process the data, if
                                        you are availible to assit can you
                                        please email me.
                                    </p>

                                    <p>
                                        Correction for the above post, Ian
                                        Bicking did not post at June 17, 2009 at
                                        3:57 am for some reason the field auto
                                        filled and I did not notice it..
                                    </p>

                                    <p>Many thanks Wayne</p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-116311"
                            >
                                <div
                                    id="div-comment-116311"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/2dba369f998e445a0237ea3cc49bea8d?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">StatsProf</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-116311"
                                        >
                                            July 9, 2009 at 5:40 pm</a
                                        >
                                    </div>

                                    <p>
                                        Like your other readers, I was surprised
                                        by your results.
                                    </p>

                                    <p>
                                        I was also struck by my difficulty
                                        recognizing that your first graph was
                                        not meant to suggest a Gaussian
                                        (&#8220;Normal&#8221;) distribution, and
                                        then trying to match the graphs to your
                                        text.
                                    </p>

                                    <p>
                                        Following Edward Tuft
                                        (htp://www.edwardtufte.com/), they would
                                        be easier to interpret if the values
                                        were sorted before creating the graphs.
                                        I hope you&#8217;ll excuse the character
                                        graphics, something like:
                                    </p>

                                    <ul>
                                        <li>
                                            <p>
                                                &#8230;&#8230;&#8230;&#8230;&#8230;..Sec
                                            </p>
                                        </li>
                                        <li><p>..lxml.html 0.6|X</p></li>
                                        <li><p>.MLParser 2.9|XXXX</p></li>
                                        <li><p>.de.htmlfill 4.5|XXXXXXX</p></li>
                                        <li>
                                            <p>
                                                &#8230;&#8230;Genshi
                                                7.3|XXXXXXXXXXXX
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                .tifulSoup
                                                10.6|XXXXXXXXXXXXXXXXX
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                mentTree
                                                30.2|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                ..minidom
                                                35.2|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                                            </p>
                                        </li>
                                    </ul>

                                    <p>
                                        &#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;.+___________+___________+___________+___________+___________+________
                                    </p>

                                    <p>
                                        given my inexperience with /
                                        incomprehension of
                                        &#8220;Markdown;&#8221; how DO you get
                                        an unordered list?
                                    </p>

                                    <p>Thanks, and best wishes.</p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-118587"
                            >
                                <div
                                    id="div-comment-118587"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/44ab1544ad90605a5408fddeaa234ccb?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://aaa"
                                                rel="external nofollow"
                                                class="url"
                                                >aaaa</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-118587"
                                        >
                                            July 19, 2009 at 12:57 pm</a
                                        >
                                    </div>

                                    <p>its not hard to install on ubuntu.</p>

                                    <p>after you get the two components,</p>

                                    <p>lxml can be done by</p>

                                    <p>sudo apt-get install lxml-python</p>

                                    <p>BAM!</p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-127448"
                            >
                                <div
                                    id="div-comment-127448"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/84ecbe31c0e2e46c19e766b9a3c6cf87?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.pro-software.it/software-house.html"
                                                rel="external nofollow"
                                                class="url"
                                                >Software house</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-127448"
                                        >
                                            September 3, 2009 at 11:58 pm</a
                                        >
                                    </div>

                                    <p>
                                        I think you should invest some time in
                                        learning XPath. Parse the html string
                                        with lxml.html and then run xpath
                                        queries on that etree object. I bet it
                                        would simplify the code a lot
                                        (especially when you look for more
                                        information then just a node).
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-148278"
                            >
                                <div
                                    id="div-comment-148278"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/5bb490799c542817a65ede269932409f?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Nyx-</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-148278"
                                        >
                                            January 20, 2010 at 12:54 am</a
                                        >
                                    </div>

                                    <p>
                                        Wow, awesome tutorial, I was reading an
                                        out dated guide using xml.dom.ext.reader
                                        HtmlLib, I&#8217;m really happy I was
                                        able to find this ^__^
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-149798"
                            >
                                <div
                                    id="div-comment-149798"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/ab535cda1b74f481dde53091b03417a2?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Paul Boddie</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-149798"
                                        >
                                            January 31, 2010 at 12:06 pm</a
                                        >
                                    </div>

                                    <p>
                                        I finally got round to running the
                                        benchmarks with libxml2dom. Here are my
                                        results:
                                    </p>

                                    <h2>Parsing</h2>

                                    <ul>
                                        <li>
                                            libxml2dom : 0.6696 sec ( 100% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            htmlparser : 4.1295 sec ( 616% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            html5_et : 39.7368 sec (5934% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            html5_simple : 38.5487 sec (5756% of
                                            libxml2dom)
                                        </li>
                                    </ul>

                                    <p>
                                        [Chart](<a
                                            href="http://chart.apis.google.com/chart?chxl=0%3A"
                                            rel="nofollow"
                                            >http://chart.apis.google.com/chart?chxl=0%3A</a
                                        >|html5lib+simpletree+(38.5+sec)|html5lib+ElementTree+(39.7+sec)|HTMLParser+(4.1+sec)|libxml2dom+(0.7+sec)|&amp;cht=bhs&amp;chs=400&#215;120&amp;chd=e%3ABFGp..-E&amp;chxt=y)
                                    </p>

                                    <h2>Serialising</h2>

                                    <p>
                                        (htmlparser omitted since it
                                        doesn&#8217;t serialise)
                                    </p>

                                    <ul>
                                        <li>
                                            libxml2dom : 0.3003 sec ( 100% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            html5_et : 3.4985 sec (1164% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            html5_simple : 2.2173 sec ( 738% of
                                            libxml2dom)
                                        </li>
                                    </ul>

                                    <p>
                                        [Chart](<a
                                            href="http://chart.apis.google.com/chart?chxl=0%3A"
                                            rel="nofollow"
                                            >http://chart.apis.google.com/chart?chxl=0%3A</a
                                        >|html5<em>simple+(2.2+sec)|html5</em>et+(3.5+sec)|libxml2dom+(0.3+sec)|&amp;cht=bhs&amp;chs=400&#215;90&amp;chd=e%3AFf..oj&amp;chxt=y)
                                    </p>

                                    <h2>Memory Usage</h2>

                                    <p>
                                        (&#8220;sec&#8221; in output manually
                                        changed to &#8220;MB&#8221;)
                                    </p>

                                    <ul>
                                        <li>
                                            libxml2dom : 26.3080 MB ( 100% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            htmlparser : 4.4520 MB ( 16% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            html5_et : 64.0000 MB ( 243% of
                                            libxml2dom)
                                        </li>
                                        <li>
                                            html5_simple : 99.1560 MB ( 376% of
                                            libxml2dom)
                                        </li>
                                    </ul>

                                    <p>
                                        [Chart](<a
                                            href="http://chart.apis.google.com/chart?chxl=0%3A"
                                            rel="nofollow"
                                            >http://chart.apis.google.com/chart?chxl=0%3A</a
                                        >|html5lib+simpletree+(99.2+Mb)|html5lib+ElementTree+(64.0+Mb)|HTMLParser+(4.5+Mb)|libxml2dom+(26.3+Mb)|&amp;cht=bhs&amp;chs=400&#215;120&amp;chd=e%3AQ-C3pT..&amp;chxt=y)
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-151954"
                            >
                                <div
                                    id="div-comment-151954"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/6e0282ba9c087c7b7c5ce312248f487a?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.simple.com"
                                                rel="external nofollow"
                                                class="url"
                                                >Simple Simon</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-151954"
                                        >
                                            February 15, 2010 at 8:36 am</a
                                        >
                                    </div>

                                    <p>
                                        DeGroot points out that, while customers
                                        and suppliers may have their own ways of
                                        calculating dielectric constant, having
                                        a standardized IPC methodology will
                                        allow for better benchmarking of such
                                        attributes as frequency, classes of
                                        material types, and standardized test
                                        structures that are similar to practical
                                        signal traces.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-159187"
                            >
                                <div
                                    id="div-comment-159187"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/0aaceae6db992e7ee067e04ed8db9728?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://www.bighaber.com"
                                                rel="external nofollow"
                                                class="url"
                                                >Haberler</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-159187"
                                        >
                                            April 13, 2010 at 6:39 am</a
                                        >
                                    </div>

                                    <p>
                                        I try to soup but it was very slow. So
                                        that I recomend eveyone to use lxml
                                    </p>

                                    <p>Regards</p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment odd alt thread-odd thread-alt depth-1"
                                id="comment-192573"
                            >
                                <div
                                    id="div-comment-192573"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://0.gravatar.com/avatar/874f31f4051be3fbdd2fae2d3bd6c79e?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn">Valery</cite>
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-192573"
                                        >
                                            March 2, 2011 at 6:37 am</a
                                        >
                                    </div>

                                    <p>
                                        what html parsing engine is used in
                                        Google Chrome?
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                            <li
                                class="comment even thread-even depth-1"
                                id="comment-193953"
                            >
                                <div
                                    id="div-comment-193953"
                                    class="comment-body"
                                >
                                    <div class="comment-author vcard">
                                        <img
                                            alt=""
                                            src="https://1.gravatar.com/avatar/3963d85db4c12796cb59acf7cd02af55?s=32&amp;d=http%3A%2F%2Fblog.ianbicking.org%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=PG"
                                            class="avatar avatar-32 photo"
                                            height="32"
                                            width="32"
                                        />
                                        <cite class="fn"
                                            ><a
                                                href="http://engineering-leveling-guide.com/engineering-"
                                                rel="external nofollow"
                                                class="url"
                                                >Aca</a
                                            ></cite
                                        >
                                        <span class="says">says:</span>
                                    </div>

                                    <div class="comment-meta commentmetadata">
                                        <a
                                            href="https://ianbicking.org/2008/03/30/python-html-parser-performance/comment-page-1/#comment-193953"
                                        >
                                            March 29, 2011 at 6:22 pm</a
                                        >
                                    </div>

                                    <p>
                                        This results are pretty much what I
                                        expected, but thanks anyway.
                                    </p>

                                    <div class="reply"></div>
                                </div>
                            </li>
                        </ul>

                        <div class="navigation">
                            <div class="alignleft"></div>
                            <div class="alignright"></div>
                        </div>
                    </div>

                    <div class="navigation">
                        <div class="nav-left">
                            &laquo;
                            <a
                                href="../../23/html-accessibility/index.html"
                                rel="prev"
                                >HTML Accessibility</a
                            >
                        </div>
                        <div class="nav-right">
                            <a
                                href="../../31/environmental-guilt/index.html"
                                rel="next"
                                >Environmental Guilt</a
                            >
                            &raquo;
                        </div>
                    </div>
                    <!-- END NAVIGATION -->
                </div>
                <!-- END CONTENT -->
            </div>
            <!-- END CONTAINER  -->

            <div id="sidebar">
                <ul>
                    <li id="home-link">
                        <h2>
                            <a
                                href="../../../../index.html"
                                title="Ian Bicking: a blog"
                                >Home</a
                            >
                        </h2>
                    </li>
                    <li id="text-315934862" class="widget widget_text">
                        <h2 class="widgettitle">About</h2>
                        <div class="textwidget">
                            Ian is a developer with Mozilla,
                            <a href="http://ianbicking.appspot.com/projects"
                                >Python open source developer</a
                            >, actually uses
                            <a
                                href="https://plus.google.com/u/0/104537541227697934010/posts"
                                >Google+</a
                            >
                            more than
                            <a href="http://twitter.com/ianbicking">twitter</a>
                            and lives in Minneapolis.<br />
                            <span
                                class="gittip-0001"
                                gittip-username="ianbicking"
                            ></span>
                            <script
                                id="gittip-0001"
                                src="https://www.gittip.com/assets/widgets/0001.js"
                            ></script>
                        </div>
                    </li>
                    <li id="text-315934863" class="widget widget_text">
                        <div class="textwidget">
                            <!-- <script type="text/javascript">mbgc='f5f5f5';ww='160';mbc='cecece';bbc='3F79D5';bmobc='3b71c6';bbgc='4889F0';bmoc='3F79D5';bfc='FFFFFF';bmofc='ffffff';tlc='cecece';tc='6a6a6a';nc='6a6a6a';bc='6a6a6a';l='y';fs='16';fsb='13';bw='100';ff='4';lu='6a6a6a';pc='4889F0';wh='340';b='s'; pid='104537541227697934010';</script><script type="text/javascript" src="http://widgetsplus.com/google_plus_widget.js"></script> -->
                        </div>
                    </li>
                    <li id="archives-2" class="widget widget_archive">
                        <h2 class="widgettitle">Archives</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../../../2012/10/index.html"
                                    title="October 2012"
                                    >October 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2012/02/index.html"
                                    title="February 2012"
                                    >February 2012</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2011/04/index.html"
                                    title="April 2011"
                                    >April 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2011/03/index.html"
                                    title="March 2011"
                                    >March 2011</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/09/index.html"
                                    title="September 2010"
                                    >September 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/08/index.html"
                                    title="August 2010"
                                    >August 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/05/index.html"
                                    title="May 2010"
                                    >May 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/04/index.html"
                                    title="April 2010"
                                    >April 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/03/index.html"
                                    title="March 2010"
                                    >March 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/02/index.html"
                                    title="February 2010"
                                    >February 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2010/01/index.html"
                                    title="January 2010"
                                    >January 2010</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/09/index.html"
                                    title="September 2009"
                                    >September 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/05/index.html"
                                    title="May 2009"
                                    >May 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/04/index.html"
                                    title="April 2009"
                                    >April 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2009/01/index.html"
                                    title="January 2009"
                                    >January 2009</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../12/index.html"
                                    title="December 2008"
                                    >December 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../11/index.html"
                                    title="November 2008"
                                    >November 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../10/index.html"
                                    title="October 2008"
                                    >October 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../09/index.html"
                                    title="September 2008"
                                    >September 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../08/index.html"
                                    title="August 2008"
                                    >August 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../07/index.html"
                                    title="July 2008"
                                    >July 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../06/index.html"
                                    title="June 2008"
                                    >June 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../05/index.html"
                                    title="May 2008"
                                    >May 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../04/index.html"
                                    title="April 2008"
                                    >April 2008</a
                                >
                            </li>
                            <li>
                                <a href="../../index.html" title="March 2008"
                                    >March 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../02/index.html"
                                    title="February 2008"
                                    >February 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../01/index.html"
                                    title="January 2008"
                                    >January 2008</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/11/index.html"
                                    title="November 2007"
                                    >November 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/10/index.html"
                                    title="October 2007"
                                    >October 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/09/index.html"
                                    title="September 2007"
                                    >September 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/08/index.html"
                                    title="August 2007"
                                    >August 2007</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../2007/07/index.html"
                                    title="July 2007"
                                    >July 2007</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="text-315934861" class="widget widget_text">
                        <div class="textwidget">
                            <a href="../../../../archive/index.html"
                                >The Older Archives</a
                            >
                        </div>
                    </li>
                    <li id="categories-1" class="widget widget_categories">
                        <h2 class="widgettitle">Categories</h2>
                        <ul>
                            <li class="cat-item cat-item-12">
                                <a
                                    href="../../../../category/erlang/index.html"
                                    title="View all posts filed under Erlang"
                                    >Erlang</a
                                >
                            </li>
                            <li class="cat-item cat-item-11">
                                <a
                                    href="../../../../category/html/index.html"
                                    title="View all posts filed under HTML"
                                    >HTML</a
                                >
                            </li>
                            <li class="cat-item cat-item-8">
                                <a
                                    href="../../../../category/javascript/index.html"
                                    title="View all posts filed under Javascript"
                                    >Javascript</a
                                >
                            </li>
                            <li class="cat-item cat-item-15">
                                <a
                                    href="../../../../category/licensing/index.html"
                                    title="View all posts filed under Licensing"
                                    >Licensing</a
                                >
                            </li>
                            <li class="cat-item cat-item-18">
                                <a
                                    href="../../../../category/mozilla/index.html"
                                    title="View all posts filed under Mozilla"
                                    >Mozilla</a
                                >
                            </li>
                            <li class="cat-item cat-item-5">
                                <a
                                    href="../../../../category/notech/index.html"
                                    title="View all posts filed under Non-technical"
                                    >Non-technical</a
                                >
                            </li>
                            <li class="cat-item cat-item-6">
                                <a
                                    href="../../../../category/olpc/index.html"
                                    title="View all posts filed under OLPC"
                                    >OLPC</a
                                >
                            </li>
                            <li class="cat-item cat-item-14">
                                <a
                                    href="../../../../category/packaging/index.html"
                                    title="View all posts filed under Packaging"
                                    >Packaging</a
                                >
                            </li>
                            <li class="cat-item cat-item-4">
                                <a
                                    href="../../../../category/politics/index.html"
                                    title="View all posts filed under Politics"
                                    >Politics</a
                                >
                            </li>
                            <li class="cat-item cat-item-3">
                                <a
                                    href="../../../../category/programming/index.html"
                                    title="View all posts filed under Programming"
                                    >Programming</a
                                >
                            </li>
                            <li class="cat-item cat-item-7">
                                <a
                                    href="../../../../category/python/index.html"
                                    title="View all posts filed under Python"
                                    >Python</a
                                >
                            </li>
                            <li class="cat-item cat-item-10">
                                <a
                                    href="../../../../category/ruby/index.html"
                                    title="View all posts filed under Ruby"
                                    >Ruby</a
                                >
                            </li>
                            <li class="cat-item cat-item-19">
                                <a
                                    href="../../../../category/security/index.html"
                                    title="View all posts filed under Security"
                                    >Security</a
                                >
                            </li>
                            <li class="cat-item cat-item-16">
                                <a
                                    href="../../../../category/silverlining.1"
                                    title="View all posts filed under Silver Lining"
                                    >Silver Lining</a
                                >
                            </li>
                            <li class="cat-item cat-item-20">
                                <a
                                    href="../../../../category/programming/testing/index.html"
                                    title="View all posts filed under Testing"
                                    >Testing</a
                                >
                            </li>
                            <li class="cat-item cat-item-9">
                                <a
                                    href="../../../../category/web/index.html"
                                    title="View all posts filed under Web"
                                    >Web</a
                                >
                            </li>
                            <li class="cat-item cat-item-13">
                                <a
                                    href="../../../../category/zopeplone/index.html"
                                    title="View all posts filed under Zope/Plone"
                                    >Zope/Plone</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li id="search-2" class="widget widget_search">
                        <form
                            id="searchform"
                            method="get"
                            action="../../../../index.html"
                        >
                            <div>
                                <input
                                    id="s"
                                    name="s"
                                    type="text"
                                    value=""
                                    tabindex="1"
                                    size="10"
                                />
                                <input
                                    id="searchsubmit"
                                    name="searchsubmit"
                                    type="submit"
                                    value="Find"
                                    tabindex="2"
                                />
                            </div>
                        </form>
                    </li>
                    <li
                        id="recent-posts-2"
                        class="widget widget_recent_entries"
                    >
                        <h2 class="widgettitle">Recent Posts</h2>
                        <ul>
                            <li>
                                <a
                                    href="../../../../index.html?p=291"
                                    title="Why doctest.js is better than Python&#8217;s doctest"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=283"
                                    title="Python Application Package"
                                    >Python Application Package</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=277"
                                    title="Git-as-sync, not source-control-as-deployment"
                                    >Git-as-sync, not
                                    source-control-as-deployment</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=253"
                                    title="My Unsolicited Advice For PyPy"
                                    >My Unsolicited Advice For PyPy</a
                                >
                            </li>
                            <li>
                                <a
                                    href="../../../../index.html?p=250"
                                    title="A Python Web Application Package and Format (we should make one)"
                                    >A Python Web Application Package and Format
                                    (we should make one)</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li
                        id="recent-comments-2"
                        class="widget widget_recent_comments"
                    >
                        <h2 class="widgettitle">Recent Comments</h2>
                        <ul id="recentcomments">
                            <li class="recentcomments">
                                <a
                                    href="http://www.mirsa.com.tr"
                                    rel="external nofollow"
                                    class="url"
                                    >havalandırma</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-228633"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://redealmeidense.com.br/portalx/modules/"
                                    rel="external nofollow"
                                    class="url"
                                    >this website</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-196267"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Eric Pierce on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195322"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                Paul Brian on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195321"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                            <li class="recentcomments">
                                <a
                                    href="http://benjiyork.com"
                                    rel="external nofollow"
                                    class="url"
                                    >Benji York</a
                                >
                                on
                                <a
                                    href="../../../../2012/10/02/why-doctest-js-is-better-than-pythons-doctest/comment-page-1/index.html#comment-195320"
                                    >Why doctest.js is better than
                                    Python&#8217;s doctest</a
                                >
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div id="footer">
                <p>
                    &copy; 2013 Ian Bicking<!--
Does this commenting make me evil?
			|
			Thanks, <a href="http://wordpress.org/" title="WordPress">WordPress</a>
			|
			<a href="http://www.plaintxt.org/themes/barthelme/" title="Barthelme for WordPress" rel="follow">Barthelme</a> theme by <a href="http://scottwallick.com/" title="scottwallick.com" rel="follow">Scott</a>
			| <!-- The following is a link to the theme author's sponsor. Please consider its smallness and that Scott was nice enough to make this theme publically available. -->
                    Sponsor:
                    <a
                        href="http://www.active-sandals.com/womreefsan.html"
                        title="Support: Reef Sandals"
                        >Reef Sandals</a
                    >
                    | Valid
                    <a
                        href="http://validator.w3.org/check?uri=http://blog.ianbicking.org&amp;outline=1&amp;verbose=1"
                        title="Valid XHTML 1.0 Strict"
                        rel="nofollow"
                        >XHTML</a
                    >
                    &amp;
                    <a
                        href="http://jigsaw.w3.org/css-validator/validator?uri=https://ianbicking.org/wp-content/themes/Barthelme-ianb/style.css&amp;profile=css2&amp;warning=no"
                        title="Valid CSS"
                        rel="nofollow"
                        >CSS</a
                    >
                    | --> RSS:
                    <a
                        href="../../../../feed/rss/index.html"
                        title="Ian Bicking: a blog RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Posts</a
                    >
                    &amp;
                    <a
                        href="../../../../comments/feed/index.html"
                        title="Ian Bicking: a blog Comments RSS 2.0 (XML) Feed"
                        rel="alternate"
                        type="application/rss+xml"
                        >Comments</a
                    >
                </p>
            </div>
        </div>
        <!-- END WRAPPER -->

        <!-- Somehow 44 queries occured in 2.069 seconds. Magic! -->
        <!-- The "Barthelme" theme copyright (c) 2006 Scott Allan Wallick - http://www.plaintxt.org/themes/ -->
        <script
            type="text/javascript"
            src="../../../../wp-includes/js/comment-reply.js?ver=3.4.2"
        ></script>

        <!-- Google Analytics -->
    </body>
</html>
